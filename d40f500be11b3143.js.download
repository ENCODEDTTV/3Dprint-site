(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,86794,(e,t,n)=>{t.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],i=0;i<e.rangeCount;i++)n.push(e.getRangeAt(i));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},44343,(e,t,n)=>{"use strict";var i=e.r(86794),r={"text/plain":"Text","text/html":"Url",default:"Text"};t.exports=function(e,t){var n,s,a,o,l,u,d,c,h=!1;t||(t={}),a=t.debug||!1;try{if(l=i(),u=document.createRange(),d=document.getSelection(),(c=document.createElement("span")).textContent=e,c.ariaHidden="true",c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",function(n){if(n.stopPropagation(),t.format)if(n.preventDefault(),void 0===n.clipboardData){a&&console.warn("unable to use e.clipboardData"),a&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var i=r[t.format]||r.default;window.clipboardData.setData(i,e)}else n.clipboardData.clearData(),n.clipboardData.setData(t.format,e);t.onCopy&&(n.preventDefault(),t.onCopy(n.clipboardData))}),document.body.appendChild(c),u.selectNodeContents(c),d.addRange(u),!document.execCommand("copy"))throw Error("copy command was unsuccessful");h=!0}catch(i){a&&console.error("unable to copy using execCommand: ",i),a&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),h=!0}catch(i){a&&console.error("unable to copy using clipboardData: ",i),a&&console.error("falling back to prompt"),n="message"in t?t.message:"Copy to clipboard: #{key}, Enter",s=(/mac os x/i.test(navigator.userAgent)?"âŒ˜":"Ctrl")+"+C",o=n.replace(/#{\s*key\s*}/g,s),window.prompt(o,e)}}finally{d&&("function"==typeof d.removeRange?d.removeRange(u):d.removeAllRanges()),c&&document.body.removeChild(c),l()}return h}},16015,(e,t,n)=>{},98547,(e,t,n)=>{var i=e.i(47167);e.r(16015);var r=e.r(71645),s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),a=void 0!==i.default&&i.default.env&&!0,o=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,n=t.name,i=void 0===n?"stylesheet":n,r=t.optimizeForSpeed,s=void 0===r?a:r;u(o(i),"`name` must be a string"),this._name=i,this._deletedRulePlaceholder="#"+i+"-deleted-rule____{}",u("boolean"==typeof s,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=s,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t,n=e.prototype;return n.setOptimizeForSpeed=function(e){u("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),u(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},n.isOptimizeForSpeed=function(){return this._optimizeForSpeed},n.inject=function(){var e=this;if(u(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(a||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,n){return"number"==typeof n?e._serverSheet.cssRules[n]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),n},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},n.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},n.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},n.insertRule=function(e,t){if(u(o(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var n=this.getSheet();"number"!=typeof t&&(t=n.cssRules.length);try{n.insertRule(e,t)}catch(t){return a||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var i=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,i))}return this._rulesCount++},n.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var n="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!n.cssRules[e])return e;n.deleteRule(e);try{n.insertRule(t,e)}catch(i){a||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),n.insertRule(this._deletedRulePlaceholder,e)}}else{var i=this._tags[e];u(i,"old rule at index `"+e+"` not found"),i.textContent=t}return e},n.deleteRule=function(e){if("undefined"==typeof window)return void this._serverSheet.deleteRule(e);if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];u(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},n.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},n.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,n){return n?t=t.concat(Array.prototype.map.call(e.getSheetForTag(n).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},n.makeStyleTag=function(e,t,n){t&&u(o(t),"makeStyleTag accepts only strings as second parameter");var i=document.createElement("style");this._nonce&&i.setAttribute("nonce",this._nonce),i.type="text/css",i.setAttribute("data-"+e,""),t&&i.appendChild(document.createTextNode(t));var r=document.head||document.getElementsByTagName("head")[0];return n?r.insertBefore(i,n):r.appendChild(i),i},t=[{key:"length",get:function(){return this._rulesCount}}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();function u(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return t>>>0},c={};function h(e,t){if(!t)return"jsx-"+e;var n=String(t),i=e+n;return c[i]||(c[i]="jsx-"+d(e+"-"+n)),c[i]}function p(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var n=e+t;return c[n]||(c[n]=t.replace(/__jsx-style-dynamic-selector/g,e)),c[n]}var m=function(){function e(e){var t=void 0===e?{}:e,n=t.styleSheet,i=void 0===n?null:n,r=t.optimizeForSpeed,s=void 0!==r&&r;this._sheet=i||new l({name:"styled-jsx",optimizeForSpeed:s}),this._sheet.inject(),i&&"boolean"==typeof s&&(this._sheet.setOptimizeForSpeed(s),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var n=this.getIdAndRules(e),i=n.styleId,r=n.rules;if(i in this._instancesCounts){this._instancesCounts[i]+=1;return}var s=r.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[i]=s,this._instancesCounts[i]=1},t.remove=function(e){var t=this,n=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(n in this._instancesCounts,"styleId: `"+n+"` not found"),this._instancesCounts[n]-=1,this._instancesCounts[n]<1){var i=this._fromServer&&this._fromServer[n];i?(i.parentNode.removeChild(i),delete this._fromServer[n]):(this._indices[n].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[n]),delete this._instancesCounts[n]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],n=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return n[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,n;return t=this.cssRules(),void 0===(n=e)&&(n={}),t.map(function(e){var t=e[0],i=e[1];return s.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:n.nonce?n.nonce:void 0,dangerouslySetInnerHTML:{__html:i}})})},t.getIdAndRules=function(e){var t=e.children,n=e.dynamic,i=e.id;if(n){var r=h(i,n);return{styleId:r,rules:Array.isArray(t)?t.map(function(e){return p(r,e)}):[p(r,t)]}}return{styleId:h(i),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),f=r.createContext(null);function g(){return new m}function v(){return r.useContext(f)}f.displayName="StyleSheetContext";var x=s.default.useInsertionEffect||s.default.useLayoutEffect,y="undefined"!=typeof window?g():void 0;function b(e){var t=y||v();return t&&("undefined"==typeof window?t.add(e):x(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return h(e[0],e[1])}).join(" ")},n.StyleRegistry=function(e){var t=e.registry,n=e.children,i=r.useContext(f),a=r.useState(function(){return i||t||g()})[0];return s.default.createElement(f.Provider,{value:a},n)},n.createStyleRegistry=g,n.style=b,n.useStyleRegistry=v},37902,(e,t,n)=>{t.exports=e.r(98547).style},48566,e=>{"use strict";let t;e.s(["AppEditor",()=>lC],48566);var n=e.i(43476),i=e.i(71645);e.i(47167);var r=e.i(44343);let s=function(e){void 0===e&&(e={});var t=(0,i.useState)(e),n=t[0],r=t[1];return[n,(0,i.useCallback)(function(e){r(function(t){return Object.assign({},t,e instanceof Function?e(t):e)})},[])]},a=function(){var e,t,n=(e=(0,i.useRef)(!1),t=(0,i.useCallback)(function(){return e.current},[]),(0,i.useEffect)(function(){return e.current=!0,function(){e.current=!1}},[]),t),a=s({value:void 0,error:void 0,noUserInteraction:!0}),o=a[0],l=a[1];return[o,(0,i.useCallback)(function(e){if(n())try{if("string"!=typeof e&&"number"!=typeof e){var t,i,s=Error("Cannot copy typeof "+typeof e+" to clipboard, must be a string");l({value:e,error:s,noUserInteraction:!0});return}if(""===e){var s=Error("Cannot copy empty string to clipboard.");l({value:e,error:s,noUserInteraction:!0});return}i=e.toString(),t=(0,r.default)(i),l({value:i,error:void 0,noUserInteraction:t})}catch(e){l({value:i,error:e,noUserInteraction:t})}},[])]};var o=e.i(50898),l=e.i(45042),u=e.i(75254);let d=(0,u.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var c=e.i(46696),h=e.i(43794);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function g(e){return function t(){for(var n=this,i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return t.apply(n,[].concat(r,i))}}}function v(e){return({}).toString.call(e).includes("Object")}function x(e){return"function"==typeof e}var y=g(function(e,t){throw Error(e[t]||e.default)})({initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"}),b={changes:function(e,t){return v(t)||y("changeType"),Object.keys(t).some(function(t){return!Object.prototype.hasOwnProperty.call(e,t)})&&y("changeField"),t},selector:function(e){x(e)||y("selectorType")},handler:function(e){x(e)||v(e)||y("handlerType"),v(e)&&Object.values(e).some(function(e){return!x(e)})&&y("handlersType")},initial:function(e){e||y("initialIsRequired"),v(e)||y("initialType"),Object.keys(e).length||y("initialContent")}};function w(e,t){return x(t)?t(e.current):t}function j(e,t){return e.current=f(f({},e.current),t),t}function k(e,t,n){return x(t)?t(e.current):Object.keys(n).forEach(function(n){var i;return null==(i=t[n])?void 0:i.call(t,e.current[n])}),n}var S={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n\n    For more please check the link https://github.com/suren-atoyan/monaco-loader#config\n  "},N=(function(e){return function t(){for(var n=this,i=arguments.length,r=Array(i),s=0;s<i;s++)r[s]=arguments[s];return r.length>=e.length?e.apply(this,r):function(){for(var e=arguments.length,i=Array(e),s=0;s<e;s++)i[s]=arguments[s];return t.apply(n,[].concat(r,i))}}})(function(e,t){throw Error(e[t]||e.default)})(S);let T=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}};var C={type:"cancelation",msg:"operation is manually canceled"};let P=function(e){var t=!1,n=new Promise(function(n,i){e.then(function(e){return t?i(C):n(e)}),e.catch(i)});return n.cancel=function(){return t=!0},n};var M=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],i=!0,r=!1,s=void 0;try{for(var a,o=e[Symbol.iterator]();!(i=(a=o.next()).done)&&(n.push(a.value),n.length!==t);i=!0);}catch(e){r=!0,s=e}finally{try{i||null==o.return||o.return()}finally{if(r)throw s}}return n}}(e,2)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}}(e,2)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(({create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b.initial(e),b.handler(t);var n={current:e},i=g(k)(n,t),r=g(j)(n),s=g(b.changes)(e),a=g(w)(n);return[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e};return b.selector(e),e(n.current)},function(e){(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}})(i,r,s,a)(e)}]}}).create({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),2),E=M[0],A=M[1];function R(e){return document.body.appendChild(e)}function D(e){var t,n,i=E(function(e){return{config:e.config,reject:e.reject}}),r=(t="".concat(i.config.paths.vs,"/loader.js"),n=document.createElement("script"),t&&(n.src=t),n);return r.onload=function(){return e()},r.onerror=i.reject,r}function z(){var e=E(function(e){return{config:e.config,resolve:e.resolve,reject:e.reject}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(t){V(t),e.resolve(t)},function(t){e.reject(t)})}function V(e){E().monaco||A({monaco:e})}var L=new Promise(function(e,t){return A({resolve:e,reject:t})});let F={init:function(){var e=E(function(e){return{monaco:e.monaco,isInitialized:e.isInitialized,resolve:e.resolve}});if(!e.isInitialized){if(A({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),P(L);if(window.monaco&&window.monaco.editor)return V(window.monaco),e.resolve(window.monaco),P(L);T(R,D)(z)}return P(L)}};var B={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},O={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},I=function(e){let{children:t}=e;return i.default.createElement("div",{style:O.container},t)},_=(0,i.memo)(function(e){let{width:t,height:n,isEditorReady:r,loading:s,_ref:a,className:o,wrapperProps:l}=e;return i.default.createElement("section",{style:{...B.wrapper,width:t,height:n},...l},!r&&i.default.createElement(I,null,s),i.default.createElement("div",{ref:a,style:{...B.fullWidth,...!r&&B.hide},className:o}))}),U=function(e){(0,i.useEffect)(e,[])},W=function(e,t){let n=!(arguments.length>2)||void 0===arguments[2]||arguments[2],r=(0,i.useRef)(!0);(0,i.useEffect)(r.current||!n?()=>{r.current=!1}:e,t)};function H(){}function q(e,t,n,i){var r,s,a,o,l,u;return r=e,s=i,r.editor.getModel(X(r,s))||(a=e,o=t,l=n,u=i,a.editor.createModel(o,l,u?X(a,u):void 0))}function X(e,t){return e.Uri.parse(t)}(0,i.memo)(function(e){let{original:t,modified:n,language:r,originalLanguage:s,modifiedLanguage:a,originalModelPath:o,modifiedModelPath:l,keepCurrentOriginalModel:u=!1,keepCurrentModifiedModel:d=!1,theme:c="light",loading:h="Loading...",options:p={},height:m="100%",width:f="100%",className:g,wrapperProps:v={},beforeMount:x=H,onMount:y=H}=e,[b,w]=(0,i.useState)(!1),[j,k]=(0,i.useState)(!0),S=(0,i.useRef)(null),N=(0,i.useRef)(null),T=(0,i.useRef)(null),C=(0,i.useRef)(y),P=(0,i.useRef)(x),M=(0,i.useRef)(!1);U(()=>{let e=F.init();return e.then(e=>(N.current=e)&&k(!1)).catch(e=>(null==e?void 0:e.type)!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{var t,n,i,r;let s;return S.current?(s=null==(t=S.current)?void 0:t.getModel(),void(u||null==s||null==(n=s.original)||n.dispose(),d||null==s||null==(i=s.modified)||i.dispose(),null==(r=S.current)||r.dispose())):e.cancel()}}),W(()=>{if(S.current&&N.current){let e=S.current.getOriginalEditor(),n=q(N.current,t||"",s||r||"text",o||"");n!==e.getModel()&&e.setModel(n)}},[o],b),W(()=>{if(S.current&&N.current){let e=S.current.getModifiedEditor(),t=q(N.current,n||"",a||r||"text",l||"");t!==e.getModel()&&e.setModel(t)}},[l],b),W(()=>{let e=S.current.getModifiedEditor();e.getOption(N.current.editor.EditorOption.readOnly)?e.setValue(n||""):n!==e.getValue()&&(e.executeEdits("",[{range:e.getModel().getFullModelRange(),text:n||"",forceMoveMarkers:!0}]),e.pushUndoStop())},[n],b),W(()=>{var e,n;null==(n=S.current)||null==(e=n.getModel())||e.original.setValue(t||"")},[t],b),W(()=>{let{original:e,modified:t}=S.current.getModel();N.current.editor.setModelLanguage(e,s||r||"text"),N.current.editor.setModelLanguage(t,a||r||"text")},[r,s,a],b),W(()=>{var e;null==(e=N.current)||e.editor.setTheme(c)},[c],b),W(()=>{var e;null==(e=S.current)||e.updateOptions(p)},[p],b);let E=(0,i.useCallback)(()=>{var e;if(!N.current)return;P.current(N.current);let i=q(N.current,t||"",s||r||"text",o||""),u=q(N.current,n||"",a||r||"text",l||"");null==(e=S.current)||e.setModel({original:i,modified:u})},[r,n,a,t,s,o,l]),A=(0,i.useCallback)(()=>{var e;!M.current&&T.current&&(S.current=N.current.editor.createDiffEditor(T.current,{automaticLayout:!0,...p}),E(),null==(e=N.current)||e.editor.setTheme(c),w(!0),M.current=!0)},[p,c,E]);return(0,i.useEffect)(()=>{b&&C.current(S.current,N.current)},[b]),(0,i.useEffect)(()=>{j||b||A()},[j,b,A]),i.default.createElement(_,{width:f,height:m,isEditorReady:b,loading:h,_ref:T,className:g,wrapperProps:v})});var Y=function(e){let t=(0,i.useRef)();return(0,i.useEffect)(()=>{t.current=e},[e]),t.current},K=new Map,G=(0,i.memo)(function(e){let{defaultValue:t,defaultLanguage:n,defaultPath:r,value:s,language:a,path:o,theme:l="light",line:u,loading:d="Loading...",options:c={},overrideServices:h={},saveViewState:p=!0,keepCurrentModel:m=!1,width:f="100%",height:g="100%",className:v,wrapperProps:x={},beforeMount:y=H,onMount:b=H,onChange:w,onValidate:j=H}=e,[k,S]=(0,i.useState)(!1),[N,T]=(0,i.useState)(!0),C=(0,i.useRef)(null),P=(0,i.useRef)(null),M=(0,i.useRef)(null),E=(0,i.useRef)(b),A=(0,i.useRef)(y),R=(0,i.useRef)(),D=(0,i.useRef)(s),z=Y(o),V=(0,i.useRef)(!1),L=(0,i.useRef)(!1);U(()=>{let e=F.init();return e.then(e=>(C.current=e)&&T(!1)).catch(e=>(null==e?void 0:e.type)!=="cancelation"&&console.error("Monaco initialization: error:",e)),()=>{var t,n;return P.current?void(null==(t=R.current)||t.dispose(),m?p&&K.set(o,P.current.saveViewState()):null==(n=P.current.getModel())||n.dispose(),P.current.dispose()):e.cancel()}}),W(()=>{var e,i,l,u;let d=q(C.current,t||s||"",n||a||"",o||r||"");d!==(null==(e=P.current)?void 0:e.getModel())&&(p&&K.set(z,null==(i=P.current)?void 0:i.saveViewState()),null==(l=P.current)||l.setModel(d),p&&(null==(u=P.current)||u.restoreViewState(K.get(o))))},[o],k),W(()=>{var e;null==(e=P.current)||e.updateOptions(c)},[c],k),W(()=>{P.current&&void 0!==s&&(P.current.getOption(C.current.editor.EditorOption.readOnly)?P.current.setValue(s):s!==P.current.getValue()&&(L.current=!0,P.current.executeEdits("",[{range:P.current.getModel().getFullModelRange(),text:s,forceMoveMarkers:!0}]),P.current.pushUndoStop(),L.current=!1))},[s],k),W(()=>{var e,t;let n=null==(e=P.current)?void 0:e.getModel();n&&a&&(null==(t=C.current)||t.editor.setModelLanguage(n,a))},[a],k),W(()=>{var e;void 0!==u&&(null==(e=P.current)||e.revealLine(u))},[u],k),W(()=>{var e;null==(e=C.current)||e.editor.setTheme(l)},[l],k);let B=(0,i.useCallback)(()=>{if(!(!M.current||!C.current)&&!V.current){var e;A.current(C.current);let i=o||r,d=q(C.current,s||t||"",n||a||"",i||"");P.current=null==(e=C.current)?void 0:e.editor.create(M.current,{model:d,automaticLayout:!0,...c},h),p&&P.current.restoreViewState(K.get(i)),C.current.editor.setTheme(l),void 0!==u&&P.current.revealLine(u),S(!0),V.current=!0}},[t,n,r,s,a,o,c,h,p,l,u]);return(0,i.useEffect)(()=>{k&&E.current(P.current,C.current)},[k]),(0,i.useEffect)(()=>{N||k||B()},[N,k,B]),D.current=s,(0,i.useEffect)(()=>{var e,t;k&&w&&(null==(e=R.current)||e.dispose(),R.current=null==(t=P.current)?void 0:t.onDidChangeModelContent(e=>{L.current||w(P.current.getValue(),e)}))},[k,w]),(0,i.useEffect)(()=>{if(k){let e=C.current.editor.onDidChangeMarkers(e=>{var t;let n=null==(t=P.current.getModel())?void 0:t.uri;if(n&&e.find(e=>e.path===n.path)){let e=C.current.editor.getModelMarkers({resource:n});null==j||j(e)}});return()=>{null==e||e.dispose()}}return()=>{}},[k,j]),i.default.createElement(_,{width:f,height:g,isEditorReady:k,loading:d,_ref:M,className:v,wrapperProps:x})}),Z=e.i(18224),$=e.i(72520);let J=(0,u.default)("circle-question-mark",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var Q=e.i(32308),ee=e.i(70756);let et=(0,u.default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var en=e.i(83086),ei=e.i(57688),er=e.i(22016),es=e.i(12466),ea=e.i(67881),eo=e.i(29632),el=e.i(59227),eu=e.i(623);let ed=(0,u.default)("laptop",[["path",{d:"M18 5a2 2 0 0 1 2 2v8.526a2 2 0 0 0 .212.897l1.068 2.127a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45l1.068-2.127A2 2 0 0 0 4 15.526V7a2 2 0 0 1 2-2z",key:"1pdavp"}],["path",{d:"M20.054 15.987H3.946",key:"14rxg9"}]]),ec=[{name:"desktop",icon:ed},{name:"mobile",icon:(0,u.default)("smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]])}],eh=()=>{let{device:e,setDevice:t}=(0,Z.useEditor)();return(0,n.jsx)("div",{className:"max-lg:hidden flex items-center justify-start gap-0.5 border border-neutral-700/70 text-neutral-200 rounded-md bg-neutral-800 px-0.5 py-0.5",children:ec.map(i=>(0,n.jsxs)("button",{className:(0,h.default)("capitalize rounded-sm pl-1.5 pr-1.5 py-0.5 text-[10px] flex items-center justify-start gap-1 cursor-pointer font-sans font-medium",{"bg-white text-neutral-900":i.name===e,"hover:bg-neutral-700/50":i.name!==e}),onClick:()=>t(i.name),children:[(0,n.jsx)(i.icon,{className:"size-3"}),i.name]},i.name))})},ep=(0,u.default)("panel-left-close",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]]),em=(0,u.default)("panel-left-open",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m14 9 3 3-3 3",key:"8010ee"}]]),ef=[{value:"chat",label:"Chat",icon:(0,u.default)("message-circle-code",[["path",{d:"m10 9-3 3 3 3",key:"1oro0q"}],["path",{d:"m14 15 3-3-3-3",key:"bz13h7"}],["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},{value:"preview",label:"Preview",icon:et}],eg=e=>{let{isMobile:t=!1}=e,{currentTab:i,setCurrentTab:r}=(0,Z.useEditor)();return t?(0,n.jsx)("div",{className:"flex items-center justify-center gap-1 bg-neutral-900 rounded-full p-1",children:ef.map(e=>(0,n.jsxs)(ea.Button,{variant:i===e.value?"default":"ghost",className:(0,h.default)("",{"opacity-60":i!==e.value}),size:"sm",onClick:()=>r(e.value),children:[(0,n.jsx)(e.icon,{className:"size-4"}),(0,n.jsx)("span",{className:"inline",children:e.label})]},e.value))}):(0,n.jsx)(ea.Button,{variant:"ghost",size:"iconXs",className:"max-lg:hidden",onClick:()=>r("chat"===i?"preview":"chat"),children:"chat"===i?(0,n.jsx)(ep,{}):(0,n.jsx)(em,{})})},ev=(0,u.default)("history",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);var ex=e.i(59377);function ey(){let{commits:e,currentCommit:t,setCurrentCommit:r,project:s}=(0,Z.useEditor)(),[a,o]=(0,i.useState)(!1);return 0===e.length?null:(0,n.jsxs)(ex.Popover,{open:a,onOpenChange:o,children:[(0,n.jsx)(ex.PopoverTrigger,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"xs",variant:a?"default":"outline",className:"!rounded-md max-lg:hidden",children:[(0,n.jsx)(ev,{className:"size-3.5"}),null==e?void 0:e.length," edit",(null==e?void 0:e.length)!==1?"s":""]})}),(0,n.jsxs)(ex.PopoverContent,{className:"!rounded-2xl !p-0 overflow-hidden !bg-neutral-900",align:"start",children:[(0,n.jsx)("header",{className:"text-sm px-4 py-3 border-b gap-2 bg-neutral-950 border-neutral-800 font-semibold text-neutral-200",children:"History"}),(0,n.jsxs)("main",{className:"space-y-3",children:[(null==s?void 0:s.private)&&(0,n.jsx)("div",{className:"px-4 pt-3",children:(0,n.jsx)("p",{className:"text-amber-500 text-xs px-2 py-1 bg-amber-500/10 border border-amber-500/20 rounded-md",children:"As this project is private, you can't see the history of changes."})}),(0,n.jsx)("ul",{className:"max-h-[250px] overflow-y-auto",children:null==e?void 0:e.map((e,i)=>(0,n.jsxs)("li",{className:(0,h.default)("px-4 text-gray-200 py-2 border-b border-gray-800 last:border-0 space-y-1",{"bg-blue-500/10":t===e.oid||0===i&&null===t}),children:[(0,n.jsx)("p",{className:"line-clamp-1 text-sm",children:e.title}),(0,n.jsxs)("div",{className:"w-full flex items-center justify-between gap-2",children:[(0,n.jsx)("p",{className:"text-gray-500 text-[10px]",children:new Date(e.date).toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})+" "+new Date(e.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1})}),t===e.oid||0===i&&null===t?(0,n.jsx)("span",{className:"text-blue-500 bg-blue-500/10 border border-blue-500/20 rounded-full text-[10px] px-2 py-0.5",children:"Current version"}):!(null==s?void 0:s.private)&&(0,n.jsx)(ea.Button,{variant:"link",size:"xss",className:"text-gray-400 hover:text-gray-200",onClick:()=>{0===i?r(null):r(e.oid)},children:"See version"})]})]},i))})]})]})]})}var eb=e.i(81140),ew=e.i(20783),ej=e.i(30030),ek=e.i(26330),eS=e.i(10772),eN=e.i(53660),eT=e.i(74606),eC=e.i(96626),eP=e.i(48425),eM=e.i(91918),eE=e.i(69340),eA=e.i(71708),[eR,eD]=(0,ej.createContextScope)("Tooltip",[eN.createPopperScope]),ez=(0,eN.createPopperScope)(),eV="TooltipProvider",eL="tooltip.open",[eF,eB]=eR(eV),eO=e=>{let{__scopeTooltip:t,delayDuration:r=700,skipDelayDuration:s=300,disableHoverableContent:a=!1,children:o}=e,l=i.useRef(!0),u=i.useRef(!1),d=i.useRef(0);return i.useEffect(()=>{let e=d.current;return()=>window.clearTimeout(e)},[]),(0,n.jsx)(eF,{scope:t,isOpenDelayedRef:l,delayDuration:r,onOpen:i.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:i.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:u,onPointerInTransitChange:i.useCallback(e=>{u.current=e},[]),disableHoverableContent:a,children:o})};eO.displayName=eV;var eI="Tooltip",[e_,eU]=eR(eI),eW=e=>{let{__scopeTooltip:t,children:r,open:s,defaultOpen:a,onOpenChange:o,disableHoverableContent:l,delayDuration:u}=e,d=eB(eI,e.__scopeTooltip),c=ez(t),[h,p]=i.useState(null),m=(0,eS.useId)(),f=i.useRef(0),g=null!=l?l:d.disableHoverableContent,v=null!=u?u:d.delayDuration,x=i.useRef(!1),[y,b]=(0,eE.useControllableState)({prop:s,defaultProp:null!=a&&a,onChange:e=>{e?(d.onOpen(),document.dispatchEvent(new CustomEvent(eL))):d.onClose(),null==o||o(e)},caller:eI}),w=i.useMemo(()=>y?x.current?"delayed-open":"instant-open":"closed",[y]),j=i.useCallback(()=>{window.clearTimeout(f.current),f.current=0,x.current=!1,b(!0)},[b]),k=i.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b(!1)},[b]),S=i.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{x.current=!0,b(!0),f.current=0},v)},[v,b]);return i.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),(0,n.jsx)(eN.Root,{...c,children:(0,n.jsx)(e_,{scope:t,contentId:m,open:y,stateAttribute:w,trigger:h,onTriggerChange:p,onTriggerEnter:i.useCallback(()=>{d.isOpenDelayedRef.current?S():j()},[d.isOpenDelayedRef,S,j]),onTriggerLeave:i.useCallback(()=>{g?k():(window.clearTimeout(f.current),f.current=0)},[k,g]),onOpen:j,onClose:k,disableHoverableContent:g,children:r})})};eW.displayName=eI;var eH="TooltipTrigger",eq=i.forwardRef((e,t)=>{let{__scopeTooltip:r,...s}=e,a=eU(eH,r),o=eB(eH,r),l=ez(r),u=i.useRef(null),d=(0,ew.useComposedRefs)(t,u,a.onTriggerChange),c=i.useRef(!1),h=i.useRef(!1),p=i.useCallback(()=>c.current=!1,[]);return i.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),(0,n.jsx)(eN.Anchor,{asChild:!0,...l,children:(0,n.jsx)(eP.Primitive.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...s,ref:d,onPointerMove:(0,eb.composeEventHandlers)(e.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||o.isPointerInTransitRef.current||(a.onTriggerEnter(),h.current=!0))}),onPointerLeave:(0,eb.composeEventHandlers)(e.onPointerLeave,()=>{a.onTriggerLeave(),h.current=!1}),onPointerDown:(0,eb.composeEventHandlers)(e.onPointerDown,()=>{a.open&&a.onClose(),c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:(0,eb.composeEventHandlers)(e.onFocus,()=>{c.current||a.onOpen()}),onBlur:(0,eb.composeEventHandlers)(e.onBlur,a.onClose),onClick:(0,eb.composeEventHandlers)(e.onClick,a.onClose)})})});eq.displayName=eH;var eX="TooltipPortal",[eY,eK]=eR(eX,{forceMount:void 0}),eG=e=>{let{__scopeTooltip:t,forceMount:i,children:r,container:s}=e,a=eU(eX,t);return(0,n.jsx)(eY,{scope:t,forceMount:i,children:(0,n.jsx)(eC.Presence,{present:i||a.open,children:(0,n.jsx)(eT.Portal,{asChild:!0,container:s,children:r})})})};eG.displayName=eX;var eZ="TooltipContent",e$=i.forwardRef((e,t)=>{let i=eK(eZ,e.__scopeTooltip),{forceMount:r=i.forceMount,side:s="top",...a}=e,o=eU(eZ,e.__scopeTooltip);return(0,n.jsx)(eC.Presence,{present:r||o.open,children:o.disableHoverableContent?(0,n.jsx)(e2,{side:s,...a,ref:t}):(0,n.jsx)(eJ,{side:s,...a,ref:t})})}),eJ=i.forwardRef((e,t)=>{let r=eU(eZ,e.__scopeTooltip),s=eB(eZ,e.__scopeTooltip),a=i.useRef(null),o=(0,ew.useComposedRefs)(t,a),[l,u]=i.useState(null),{trigger:d,onClose:c}=r,h=a.current,{onPointerInTransitChange:p}=s,m=i.useCallback(()=>{u(null),p(!1)},[p]),f=i.useCallback((e,t)=>{let n=e.currentTarget,i={x:e.clientX,y:e.clientY},r=function(e,t){let n=Math.abs(t.top-e.y),i=Math.abs(t.bottom-e.y),r=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,i,r,s)){case s:return"left";case r:return"right";case n:return"top";case i:return"bottom";default:throw Error("unreachable")}}(i,n.getBoundingClientRect());u(function(e){let t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:1*!!(e.y>t.y)),function(e){if(e.length<=1)return e.slice();let t=[];for(let n=0;n<e.length;n++){let i=e[n];for(;t.length>=2;){let e=t[t.length-1],n=t[t.length-2];if((e.x-n.x)*(i.y-n.y)>=(e.y-n.y)*(i.x-n.x))t.pop();else break}t.push(i)}t.pop();let n=[];for(let t=e.length-1;t>=0;t--){let i=e[t];for(;n.length>=2;){let e=n[n.length-1],t=n[n.length-2];if((e.x-t.x)*(i.y-t.y)>=(e.y-t.y)*(i.x-t.x))n.pop();else break}n.push(i)}return(n.pop(),1===t.length&&1===n.length&&t[0].x===n[0].x&&t[0].y===n[0].y)?t:t.concat(n)}(t)}([...function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,i=[];switch(t){case"top":i.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":i.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":i.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":i.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n})}return i}(i,r),...function(e){let{top:t,right:n,bottom:i,left:r}=e;return[{x:r,y:t},{x:n,y:t},{x:n,y:i},{x:r,y:i}]}(t.getBoundingClientRect())])),p(!0)},[p]);return i.useEffect(()=>()=>m(),[m]),i.useEffect(()=>{if(d&&h){let e=e=>f(e,h),t=e=>f(e,d);return d.addEventListener("pointerleave",e),h.addEventListener("pointerleave",t),()=>{d.removeEventListener("pointerleave",e),h.removeEventListener("pointerleave",t)}}},[d,h,f,m]),i.useEffect(()=>{if(l){let e=e=>{let t=e.target,n={x:e.clientX,y:e.clientY},i=(null==d?void 0:d.contains(t))||(null==h?void 0:h.contains(t)),r=!function(e,t){let{x:n,y:i}=e,r=!1;for(let e=0,s=t.length-1;e<t.length;s=e++){let a=t[e],o=t[s],l=a.x,u=a.y,d=o.x,c=o.y;u>i!=c>i&&n<(d-l)*(i-u)/(c-u)+l&&(r=!r)}return r}(n,l);i?m():r&&(m(),c())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[d,h,l,c,m]),(0,n.jsx)(e2,{...e,ref:o})}),[eQ,e0]=eR(eI,{isInside:!1}),e1=(0,eM.createSlottable)("TooltipContent"),e2=i.forwardRef((e,t)=>{let{__scopeTooltip:r,children:s,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=e,d=eU(eZ,r),c=ez(r),{onClose:h}=d;return i.useEffect(()=>(document.addEventListener(eL,h),()=>document.removeEventListener(eL,h)),[h]),i.useEffect(()=>{if(d.trigger){let e=e=>{let t=e.target;(null==t?void 0:t.contains(d.trigger))&&h()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[d.trigger,h]),(0,n.jsx)(ek.DismissableLayer,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:e=>e.preventDefault(),onDismiss:h,children:(0,n.jsxs)(eN.Content,{"data-state":d.stateAttribute,...c,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[(0,n.jsx)(e1,{children:s}),(0,n.jsx)(eQ,{scope:r,isInside:!0,children:(0,n.jsx)(eA.Root,{id:d.contentId,role:"tooltip",children:a||s})})]})})});e$.displayName=eZ;var e5="TooltipArrow";i.forwardRef((e,t)=>{let{__scopeTooltip:i,...r}=e,s=ez(i);return e0(e5,i).isInside?null:(0,n.jsx)(eN.Arrow,{...s,...r,ref:t})}).displayName=e5;var e3=e.i(47163);function e4(e){let{delayDuration:t=0,...i}=e;return(0,n.jsx)(eO,{"data-slot":"tooltip-provider",delayDuration:t,...i})}function e6(e){let{...t}=e;return(0,n.jsx)(e4,{children:(0,n.jsx)(eW,{"data-slot":"tooltip",...t})})}function e9(e){let{...t}=e;return(0,n.jsx)(eq,{"data-slot":"tooltip-trigger",...t})}function e8(e){let{className:t,sideOffset:i=0,children:r,...s}=e;return(0,n.jsx)(eG,{children:(0,n.jsx)(e$,{"data-slot":"tooltip-content",sideOffset:i,className:(0,e3.cn)("bg-primary text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) rounded-md px-3 py-1.5 text-xs text-balance",t),...s,children:r})})}var e7=e.i(48826);function te(e){let{isNew:t}=e,{project:i}=(0,Z.useEditor)(),{user:r,openLoginWindow:s}=(0,eo.useUser)();return(0,n.jsxs)("header",{className:"border-b bg-neutral-950 dark:border-neutral-800 grid grid-cols-3 lg:flex items-center max-lg:gap-3 justify-between z-20",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between lg:max-w-[600px] lg:w-full py-2 px-2 lg:px-3 lg:pl-6 gap-3",children:[(0,n.jsxs)("h1",{className:"text-neutral-900 dark:text-white text-lg lg:text-xl font-bold flex items-center justify-start",children:[(0,n.jsx)(ei.default,{src:es.default,alt:"DeepSite Logo",className:"size-8 invert-100 dark:invert-0"}),(0,n.jsxs)("p",{className:"ml-2 flex items-center justify-start max-lg:hidden",children:["DeepSite",(null==r?void 0:r.isPro)?(0,n.jsx)(el.ProTag,{className:"ml-2 !text-[10px]"}):(0,n.jsxs)("span",{className:"font-mono bg-gradient-to-r from-sky-500/20 to-sky-500/10 text-sky-500 rounded-full text-xs ml-2 px-1.5 py-0.5 border border-sky-500/20",children:[" ","v3"]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-end gap-2",children:[(0,n.jsx)(ey,{}),(0,n.jsx)(eg,{})]})]}),(0,n.jsx)("div",{className:"lg:hidden flex items-center justify-center whitespace-nowrap",children:(0,n.jsx)(eg,{isMobile:!0})}),(0,n.jsxs)("div",{className:"lg:w-full px-2 lg:px-3 py-2 flex items-center justify-end lg:justify-between lg:border-l lg:border-neutral-800",children:[(0,n.jsxs)("div",{className:"font-mono text-muted-foreground flex items-center gap-2",children:[(0,n.jsx)(eh,{}),t&&(0,n.jsxs)(ea.Button,{size:"xs",variant:"bordered",className:"max-lg:hidden",onClick:()=>{let e=document.getElementById("preview-iframe");e&&(e.src=e.src)},children:[(0,n.jsx)(Q.RefreshCcw,{className:"size-3 mr-0.5"}),"Refresh Preview"]}),(0,n.jsx)(er.default,{href:"https://discord.gg/KpanwM3vXa",target:"_blank",className:"max-lg:hidden",children:(0,n.jsxs)(ea.Button,{size:"xs",variant:"bordered",children:[(0,n.jsx)(J,{className:"size-3 mr-0.5"}),"Help"]})}),(0,n.jsx)(er.default,{href:"https://discord.gg/KpanwM3vXa",target:"_blank",className:"max-lg:hidden",children:(0,n.jsxs)(ea.Button,{size:"xs",variant:"bordered",className:"!border-indigo-500 !text-white !bg-indigo-500",children:[(0,n.jsx)(e7.DiscordIcon,{className:"size-3 mr-0.5"}),"Discord Community"]})})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(null==i?void 0:i.space_id)&&(0,n.jsx)(er.default,{href:(null==i?void 0:i.private)?"https://huggingface.co/spaces/".concat(i.space_id):"https://".concat(i.space_id.replaceAll("/","-"),".static.hf.space"),target:"_blank",children:(0,n.jsxs)(ea.Button,{size:"xs",variant:"bordered",className:"flex items-center gap-1.5 justify-center bg-gradient-to-r from-emerald-500/20 to-cyan-500/20 hover:from-emerald-500/30 hover:to-cyan-500/30 border-emerald-500/30 text-emerald-400 hover:text-emerald-300 backdrop-blur-sm shadow-lg hover:shadow-emerald-500/20 transition-all duration-300 max-lg:hidden font-medium",children:[(0,n.jsx)(et,{className:"size-3.5"}),"See Live Preview",(0,n.jsx)(en.Sparkles,{className:"size-3"})]})}),(null==i?void 0:i.private)&&(0,n.jsxs)(e6,{children:[(0,n.jsx)(e9,{children:(0,n.jsxs)("div",{className:"max-lg:hidden flex items-center gap-1.5 bg-amber-500/10 backdrop-blur-sm px-3 py-1.5 rounded-full border border-amber-500/20 shadow-lg",children:[(0,n.jsx)(ee.Lock,{className:"w-3 h-3 text-amber-500"}),(0,n.jsx)("span",{className:"text-amber-500 text-xs font-medium tracking-wide",children:"Private Project"})]})}),(0,n.jsx)(e8,{children:(0,n.jsx)("p",{className:"text-xs",children:"This project is private. Only you can see it."})})]}),r?(0,n.jsx)(eu.UserMenu,{className:"!pl-1 !pr-3 !py-1 !h-auto"}):(0,n.jsxs)(ea.Button,{size:"sm",onClick:s,children:[(0,n.jsx)("span",{className:"max-lg:hidden",children:"Log In to DeepSite"}),(0,n.jsx)("span",{className:"lg:hidden",children:"Log In"}),(0,n.jsx)($.ArrowRight,{className:"size-4"})]})]})]})]})}var tt=e.i(45812);let tn=(0,u.default)("folder-open",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),ti=(0,u.default)("file-code-2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]),tr=(0,u.default)("folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);var ts=e.i(63059),ta=e.i(64659);let to=(0,u.default)("file-json",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]);var tl=e.i(26999),tu=e.i(25913),td=e.i(41947),td=td;let tc=tl.Root,th=tl.Trigger;tl.Close;let tp=tl.Portal,tm=i.forwardRef((e,t)=>{let{className:i,...r}=e;return(0,n.jsx)(tl.Overlay,{className:(0,e3.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",i),...r,ref:t})});tm.displayName=tl.Overlay.displayName;let tf=(0,tu.cva)("fixed z-50 gap-4 bg-neutral-900 p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),tg=i.forwardRef((e,t)=>{let{side:i="right",className:r,children:s,...a}=e;return(0,n.jsxs)(tp,{children:[(0,n.jsx)(tm,{}),(0,n.jsxs)(tl.Content,{ref:t,className:(0,e3.cn)(tf({side:i}),r),...a,children:[s,(0,n.jsxs)(tl.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,n.jsx)(td.default,{className:"h-4 w-4"}),(0,n.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});tg.displayName=tl.Content.displayName;let tv=e=>{let{className:t,...i}=e;return(0,n.jsx)("div",{className:(0,e3.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...i})};tv.displayName="SheetHeader";let tx=i.forwardRef((e,t)=>{let{className:i,...r}=e;return(0,n.jsx)(tl.Title,{ref:t,className:(0,e3.cn)("text-lg font-semibold text-foreground",i),...r})});function ty(){let{pages:e,currentPage:t,setCurrentPage:r,setPreviewPage:s,globalEditorLoading:a,project:o}=(0,Z.useEditor)(),[l,u]=(0,i.useState)(!1),[d,c]=(0,i.useState)(new Set(["/"])),p=(0,i.useMemo)(()=>{let t={name:"root",path:"/",type:"folder",children:[]};e.forEach(e=>{let n=e.path.split("/").filter(Boolean),i=t;n.forEach((t,r)=>{let s=r===n.length-1,a="/"+n.slice(0,r+1).join("/");i.children||(i.children=[]);let o=i.children.find(e=>e.name===t);o||(o={name:t,path:a,type:s?"file":"folder",children:s?void 0:[],page:s?e:void 0},i.children.push(o)),s||(i=o)})});let n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.sort((e,t)=>e.type!==t.type?"folder"===e.type?-1:1:e.name.localeCompare(t.name)).map(e=>({...e,children:e.children?n(e.children):void 0}))};return t.children=n(t.children),t},[e]),m=e=>{var t;switch(null==(t=e.split(".").pop())?void 0:t.toLowerCase()){case"html":return(0,n.jsxs)("svg",{className:"size-4 shrink-0",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("path",{d:"M5.902 27.201L3.656 2h24.688l-2.249 25.197L15.985 30 5.902 27.201z",fill:"#E44D26"}),(0,n.jsx)("path",{d:"M16 27.858l8.17-2.265 1.922-21.532H16v23.797z",fill:"#F16529"}),(0,n.jsx)("path",{d:"M16 13.407h4.09l.282-3.165H16V7.151h7.75l-.074.829-.759 8.518H16v-3.091z",fill:"#EBEBEB"}),(0,n.jsx)("path",{d:"M16 21.434l-.014.004-3.442-.929-.22-2.465H9.221l.433 4.852 6.332 1.758.014-.004v-3.216z",fill:"#EBEBEB"}),(0,n.jsx)("path",{d:"M19.90 16.18l-.372 4.148-3.543.956v3.216l6.336-1.755.047-.522.537-6.043H19.90z",fill:"#FFF"}),(0,n.jsx)("path",{d:"M16 7.151v3.091h-7.3l-.062-.695-.141-1.567-.074-.829H16zM16 13.407v3.091h-3.399l-.062-.695-.14-1.566-.074-.83H16z",fill:"#FFF"})]});case"css":return(0,n.jsxs)("svg",{className:"size-4 shrink-0",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("path",{d:"M5.902 27.201L3.656 2h24.688l-2.249 25.197L15.985 30 5.902 27.201z",fill:"#1572B6"}),(0,n.jsx)("path",{d:"M16 27.858l8.17-2.265 1.922-21.532H16v23.797z",fill:"#33A9DC"}),(0,n.jsx)("path",{d:"M16 13.191h4.09l.282-3.165H16V6.935h7.75l-.074.829-.759 8.518H16v-3.091z",fill:"#FFF"}),(0,n.jsx)("path",{d:"M16.019 21.218l-.014.004-3.442-.929-.22-2.465H9.24l.433 4.852 6.331 1.758.015-.004v-3.216z",fill:"#EBEBEB"}),(0,n.jsx)("path",{d:"M19.827 16.151l-.372 4.148-3.436.929v3.216l6.336-1.755.047-.522.726-8.016h-7.636v3h4.335z",fill:"#FFF"}),(0,n.jsx)("path",{d:"M16.011 6.935v3.091h-7.3l-.062-.695-.141-1.567-.074-.829h7.577zM16 13.191v3.091h-3.399l-.062-.695-.14-1.566-.074-.83H16z",fill:"#EBEBEB"})]});case"js":case"jsx":return(0,n.jsxs)("svg",{className:"size-4 shrink-0",viewBox:"0 0 32 32",fill:"none",children:[(0,n.jsx)("rect",{width:"32",height:"32",rx:"2",fill:"#F7DF1E"}),(0,n.jsx)("path",{d:"M20.63 22.3c.54.88 1.24 1.53 2.48 1.53.98 0 1.6-.48 1.6-1.16 0-.8-.64-1.1-1.72-1.57l-.59-.25c-1.7-.72-2.83-1.63-2.83-3.55 0-1.77 1.35-3.12 3.46-3.12 1.5 0 2.58.52 3.36 1.9l-1.84 1.18c-.4-.72-.84-1-1.51-1-.69 0-1.12.43-1.12 1 0 .7.43 1 1.43 1.43l.59.25c2 .86 3.13 1.73 3.13 3.7 0 2.12-1.66 3.3-3.9 3.3-2.18 0-3.6-1.04-4.3-2.4l1.96-1.12z",fill:"#000"}),(0,n.jsx)("path",{d:"M11.14 22.56c.35.62.67 1.15 1.44 1.15.74 0 1.2-.29 1.2-1.42V14.7h2.4v7.63c0 2.34-1.37 3.4-3.37 3.4-1.8 0-2.85-.94-3.38-2.06l1.71-1.1z",fill:"#000"})]});case"json":return(0,n.jsx)(to,{className:"size-4 shrink-0 text-amber-400"});default:return(0,n.jsx)(ti,{className:"size-4 shrink-0 text-neutral-400"})}},f=e=>{var t;let n=null==(t=e.split(".").pop())?void 0:t.toLowerCase();switch(n){case"html":return{name:"HTML",color:"bg-orange-500/20 border-orange-500/30 text-orange-400"};case"css":return{name:"CSS",color:"bg-blue-500/20 border-blue-500/30 text-blue-400"};case"js":return{name:"JS",color:"bg-yellow-500/20 border-yellow-500/30 text-yellow-400"};case"json":return{name:"JSON",color:"bg-amber-500/20 border-amber-500/30 text-amber-400"};default:return{name:(null==n?void 0:n.toUpperCase())||"FILE",color:"bg-neutral-500/20 border-neutral-500/30 text-neutral-400"}}},g=e.find(e=>e.path===t),v=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.map(e=>{var a,o,l;if("folder"===e.type){let t=d.has(e.path);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 cursor-pointer text-[13px] group transition-colors hover:bg-neutral-800",style:{paddingLeft:"".concat(12*i+12,"px")},onClick:()=>{var t;return t=e.path,void c(e=>{let n=new Set(e);return n.has(t)?n.delete(t):n.add(t),n})},children:[t?(0,n.jsx)(ta.ChevronDown,{className:"size-3.5 text-neutral-400 shrink-0"}):(0,n.jsx)(ts.ChevronRight,{className:"size-3.5 text-neutral-400 shrink-0"}),(0,n.jsx)(tr,{className:"size-4 text-blue-400 shrink-0"}),(0,n.jsx)("span",{className:"text-neutral-300 truncate flex-1 font-normal",children:e.name}),(0,n.jsx)("span",{className:"text-[10px] text-neutral-500",children:(null==(a=e.children)?void 0:a.length)||0})]}),t&&e.children&&v(e.children,i+1)]},e.path)}{let a=t===(null==(o=e.page)?void 0:o.path);return(0,n.jsxs)("div",{className:(0,h.default)("flex items-center gap-2.5 px-3 py-1 cursor-pointer text-[13px] group transition-colors relative",{"bg-neutral-700 text-white":a,"text-neutral-300 hover:bg-neutral-800":!a}),style:{paddingLeft:"".concat(12*i+12+16,"px")},onClick:()=>{e.page&&(r(e.page.path),e.page.path.endsWith(".html")&&!e.page.path.includes("components")&&s(e.page.path),u(!1))},children:[(0,n.jsx)("div",{className:"w-4 flex justify-center shrink-0",children:m(e.name)}),(0,n.jsx)("span",{className:"truncate flex-1 font-normal",children:e.name}),(0,n.jsx)("span",{className:(0,h.default)("text-[10px] px-1.5 py-0.5 rounded uppercase font-semibold transition-opacity shrink-0",a?"opacity-100 ".concat(f(e.name).color):"opacity-0 group-hover:opacity-100 bg-white/5 text-neutral-500"),children:(null==(l=e.name.split(".").pop())?void 0:l.toLowerCase())||""}),a&&(0,n.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-[2px] bg-blue-500"})]},e.path)}})};return(0,n.jsx)("div",{children:(0,n.jsxs)("div",{className:"w-full flex items-center bg-neutral-900 min-h-[35px] border-b border-neutral-800",children:[(0,n.jsx)("div",{className:"flex items-stretch overflow-x-auto scrollbar-thin scrollbar-track-transparent scrollbar-thumb-neutral-700",children:g&&(0,n.jsx)("div",{className:"flex items-center gap-2 px-4 py-2.5 bg-neutral-900 border-r border-neutral-800 text-sm min-w-0 relative group",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[m(g.path),(0,n.jsx)("span",{className:"text-neutral-300 truncate font-normal text-[13px]",children:g.path}),(0,n.jsx)("span",{className:(0,h.default)("text-[9px] px-1.5 py-0.5 rounded border backdrop-blur-sm font-semibold uppercase tracking-wide",f(g.path).color),children:f(g.path).name})]})})}),(0,n.jsx)(e4,{children:(0,n.jsx)(e6,{children:(0,n.jsxs)(tc,{open:l,onOpenChange:u,modal:!1,children:[(0,n.jsx)(e9,{asChild:!0,children:(0,n.jsx)(th,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"sm",variant:"ghost",disabled:0===e.length||a,className:"ml-auto mr-2 text-neutral-300 hover:text-white hover:bg-neutral-800 h-7 text-[13px] font-normal gap-1.5",children:[(0,n.jsx)(tn,{className:"size-3.5"}),(0,n.jsx)("span",{className:"hidden sm:inline",children:"Files"}),(0,n.jsx)("span",{className:"text-[11px] px-1.5 py-0.5 rounded bg-neutral-800 text-neutral-500 font-semibold",children:e.length})]})})}),(0,n.jsx)(e8,{side:"bottom",className:"bg-neutral-800 border-neutral-700 text-neutral-300 text-xs",children:(0,n.jsxs)("p",{children:["Open File Explorer (",e.length," ",1===e.length?"file":"files",")"]})}),(0,n.jsxs)(tg,{side:"left",className:"w-[320px] bg-neutral-900 border-neutral-800 p-0",children:[(0,n.jsx)(tv,{className:"px-5 py-2.5 border-b border-neutral-800 space-y-0",children:(0,n.jsxs)(tx,{className:"flex items-center gap-2",children:[(0,n.jsx)(tn,{className:"size-4 text-neutral-300"}),(0,n.jsx)("span",{className:"text-[11px] uppercase tracking-wider text-neutral-300 font-semibold",children:"Explorer"})]})}),(0,n.jsx)("div",{className:"px-3 py-3 border-b border-neutral-800",children:(0,n.jsxs)("div",{className:"flex items-center gap-2 px-2 py-1",children:[(0,n.jsxs)("svg",{className:"size-4 text-neutral-300",fill:"currentColor",viewBox:"0 0 16 16",children:[(0,n.jsx)("path",{d:"M1.5 1h11l2 2v10l-2 2h-11l-2-2V3l2-2zm0 1l-1 1v10l1 1h11l1-1V3l-1-1h-11z"}),(0,n.jsx)("path",{d:"M7.5 4.5v3h-3v1h3v3h1v-3h3v-1h-3v-3h-1z"})]}),(0,n.jsx)("span",{className:"text-[13px] text-neutral-300 font-normal",children:(null==o?void 0:o.space_id)||"No space selected"}),(0,n.jsx)("span",{className:"ml-auto text-[11px] text-neutral-500",children:e.length||0})]})}),(0,n.jsx)("div",{className:"py-1 overflow-y-auto",style:{height:"calc(100dvh - 160px)"},children:p.children&&v(p.children)}),(0,n.jsx)("div",{className:"absolute bottom-0 left-0 right-0 px-5 py-3 border-t border-neutral-800 bg-neutral-900",children:(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-[11px]",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500",children:[(0,n.jsx)("div",{className:"size-2 rounded-full bg-orange-600"}),(0,n.jsxs)("span",{children:["HTML:"," ",e.filter(e=>e.path.endsWith(".html")).length]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500",children:[(0,n.jsx)("div",{className:"size-2 rounded-full bg-blue-600"}),(0,n.jsxs)("span",{children:["CSS:"," ",e.filter(e=>e.path.endsWith(".css")).length]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500",children:[(0,n.jsx)("div",{className:"size-2 rounded-full bg-yellow-400"}),(0,n.jsxs)("span",{children:["JS: ",e.filter(e=>e.path.endsWith(".js")).length]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500",children:[(0,n.jsx)("div",{className:"size-2 rounded-full bg-yellow-600"}),(0,n.jsxs)("span",{children:["JSON:"," ",e.filter(e=>e.path.endsWith(".json")).length]})]})]})})]})]})})})]})})}tx.displayName=tl.Title.displayName,i.forwardRef((e,t)=>{let{className:i,...r}=e;return(0,n.jsx)(tl.Description,{ref:t,className:(0,e3.cn)("text-sm text-muted-foreground",i),...r})}).displayName=tl.Description.displayName;var tb=e.i(75558);let tw=(0,u.default)("circle-stop",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]]);var tj=e.i(83715),tk=e.i(83436);let tS=(0,u.default)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),tN=(0,u.default)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),tT=(0,u.default)("music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),tC=(0,u.default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),tP=(0,u.default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),tM=(0,u.default)("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]),tE=(0,u.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]),tA=(0,u.default)("file-play",[["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}],["path",{d:"M15.033 13.44a.647.647 0 0 1 0 1.12l-4.065 2.352a.645.645 0 0 1-.968-.56v-4.704a.645.645 0 0 1 .967-.56z",key:"1tzo1f"}]]);var tR=e.i(81771),tD=e.i(43137);let tz=e=>{var t;if("string"!=typeof e)return"unknown";let n=null==(t=e.split(".").pop())?void 0:t.toLowerCase();return["jpg","jpeg","png","gif","webp","svg"].includes(n||"")?"image":["mp4","webm","ogg","avi","mov"].includes(n||"")?"video":["mp3","wav","ogg","aac","m4a"].includes(n||"")?"audio":"unknown"},tV=e=>{let{project:t}=e,{user:r}=(0,eo.useUser)(),{openLoginModal:s}=(0,tD.useLoginModal)(),{uploadFiles:a,isUploading:o,files:l,globalEditorLoading:u,project:d}=(0,Z.useEditor)(),{selectedFiles:c,setSelectedFiles:h,globalAiLoading:p}=(0,tt.useAi)(),[m,f]=(0,i.useState)(!1),g=(0,i.useRef)(null);return r?(0,n.jsx)(ex.Popover,{open:m,onOpenChange:f,children:(0,n.jsxs)("form",{className:"h-[24px]",children:[(0,n.jsx)(ex.PopoverTrigger,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"xs",variant:m?"default":"outline",className:"!rounded-md",disabled:p||u,children:[(0,n.jsx)(tM,{className:"size-3.5"}),"Attach"]})}),(0,n.jsxs)(ex.PopoverContent,{align:"start",className:"!rounded-2xl !p-0 !bg-white !border-neutral-100 min-w-xs text-center overflow-hidden",children:[(0,n.jsxs)("header",{className:"bg-neutral-50 p-6 border-b border-neutral-200/60",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center -space-x-4 mb-3",children:[(0,n.jsx)("div",{className:"size-9 rounded-full bg-pink-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"ðŸŽ¨"}),(0,n.jsx)("div",{className:"size-11 rounded-full bg-amber-200 shadow-2xl flex items-center justify-center text-2xl z-2",children:"ðŸ“"}),(0,n.jsx)("div",{className:"size-9 rounded-full bg-sky-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"ðŸ’»"})]}),(0,n.jsx)("p",{className:"text-xl font-semibold text-neutral-950",children:"Add Media Files"}),(0,n.jsx)("p",{className:"text-sm text-neutral-500 mt-1.5",children:"Upload images, videos, and audio files to your project!"})]}),(0,n.jsxs)("main",{className:"space-y-4 p-5",children:[(null==d?void 0:d.private)&&(0,n.jsxs)("div",{className:"flex items-center justify-center flex-col gap-2 bg-amber-500/10 rounded-md p-3 border border-amber-500/10",children:[(0,n.jsx)(ee.Lock,{className:"size-4 text-lg text-amber-700"}),(0,n.jsx)("p",{className:"text-xs text-amber-700",children:"You can upload media files to your private project, but probably won't be able to see them in the preview."}),(0,n.jsx)(er.default,{href:"https://huggingface.co/spaces/".concat(d.space_id,"/settings"),target:"_blank",children:(0,n.jsx)(ea.Button,{variant:"black",size:"xs",className:"!bg-amber-600 !text-white",children:"Make it public"})})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-left text-neutral-700 mb-2",children:"Uploaded Media Files"}),(null==l?void 0:l.length)>0?(0,n.jsx)("div",{className:"grid grid-cols-4 gap-1 flex-wrap max-h-40 overflow-y-auto",children:l.map(e=>{let t=tz(e);return(0,n.jsxs)("div",{className:"select-none relative cursor-pointer bg-white rounded-md border-[2px] border-white hover:shadow-2xl transition-all duration-300",onClick:()=>h(c.includes(e)?c.filter(t=>t!==e):[...c,e]),children:["image"===t?(0,n.jsx)(ei.default,{src:e,alt:"uploaded image",width:56,height:56,className:"object-cover w-full rounded-sm aspect-square"}):"video"===t?(0,n.jsxs)("div",{className:"w-full h-14 rounded-sm bg-gray-100 flex items-center justify-center relative",children:[(0,n.jsx)("video",{src:e,className:"w-full h-full object-cover rounded-sm",muted:!0,preload:"metadata"}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 rounded-sm",children:(0,n.jsx)(tN,{className:"size-4 text-white"})})]}):"audio"===t?(0,n.jsx)("div",{className:"w-full h-14 rounded-sm bg-gradient-to-br from-purple-100 to-pink-100 flex items-center justify-center",children:(0,n.jsx)(tT,{className:"size-6 text-purple-600"})}):(0,n.jsx)("div",{className:"w-full h-14 rounded-sm bg-gray-100 flex items-center justify-center",children:(e=>{switch(tz(e)){case"image":return(0,n.jsx)(tP,{className:"size-4"});case"video":return(0,n.jsx)(tN,{className:"size-4"});case"audio":return(0,n.jsx)(tT,{className:"size-4"});default:return(0,n.jsx)(tA,{className:"size-4"})}})(e)}),c.includes(e)&&(0,n.jsx)("div",{className:"absolute top-0 right-0 h-full w-full flex items-center justify-center bg-black/50 rounded-md",children:(0,n.jsx)(tC,{className:"size-6 text-neutral-100"})})]},e)})}):(0,n.jsxs)("p",{className:"text-sm text-muted-foreground font-mono flex flex-col items-center gap-1 pt-2",children:[(0,n.jsx)(tP,{className:"size-4"}),"No media files uploaded yet"]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-xs text-left text-neutral-700 mb-2",children:"Or import media files from your computer"}),(0,n.jsx)(ea.Button,{variant:"black",onClick:()=>{var e;return null==(e=g.current)?void 0:e.click()},className:"relative w-full",disabled:o,children:o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tR.default,{overlay:!1,className:"ml-2 size-4 animate-spin"}),"Uploading media file(s)..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tE,{className:"size-4"}),"Upload Media Files"]})}),(0,n.jsx)("input",{ref:g,type:"file",className:"hidden",multiple:!0,accept:"image/*,video/*,audio/*,.mp3,.mp4,.wav,.aac,.m4a,.ogg,.webm,.avi,.mov",onChange:e=>a(e.target.files,t)})]})]})]})]})}):(0,n.jsxs)(ea.Button,{size:"xs",variant:"outline",className:"!rounded-md",disabled:p||u,onClick:()=>s(),children:[(0,n.jsx)(tM,{className:"size-3.5"}),"Attach"]})},tL=e=>{let{files:t,isAiWorking:i,onDelete:r}=e;return 0===t.length?null:(0,n.jsx)("div",{className:"px-4 pt-3",children:(0,n.jsx)("div",{className:"flex items-center justify-start gap-2",children:t.map(e=>(0,n.jsxs)("div",{className:"flex items-center relative justify-start gap-2 p-1 bg-neutral-700 rounded-md",children:["image"===tz(e)?(0,n.jsx)(ei.default,{src:e,alt:"uploaded image",className:"size-12 rounded-md object-cover",width:40,height:40}):"video"===tz(e)?(0,n.jsx)(tN,{className:"size-12 rounded-md object-cover"}):"audio"===tz(e)?(0,n.jsx)(tT,{className:"size-12 rounded-md object-cover"}):null,(0,n.jsx)(ea.Button,{size:"iconXsss",variant:"secondary",className:"absolute top-0.5 right-0.5 ".concat(i?"opacity-50 !cursor-not-allowed":""),disabled:i,onClick:()=>r(e),children:(0,n.jsx)(tS,{className:"size-4"})})]},e))})})},tF=(0,u.default)("code",[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]]),tB=(0,u.default)("circle-x",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var tO=e.i(34620),tI="Collapsible",[t_,tU]=(0,ej.createContextScope)(tI),[tW,tH]=t_(tI),tq=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:s,defaultOpen:a,disabled:o,onOpenChange:l,...u}=e,[d,c]=(0,eE.useControllableState)({prop:s,defaultProp:null!=a&&a,onChange:l,caller:tI});return(0,n.jsx)(tW,{scope:r,disabled:o,contentId:(0,eS.useId)(),open:d,onOpenToggle:i.useCallback(()=>c(e=>!e),[c]),children:(0,n.jsx)(eP.Primitive.div,{"data-state":tZ(d),"data-disabled":o?"":void 0,...u,ref:t})})});tq.displayName=tI;var tX="CollapsibleTrigger",tY=i.forwardRef((e,t)=>{let{__scopeCollapsible:i,...r}=e,s=tH(tX,i);return(0,n.jsx)(eP.Primitive.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":tZ(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:(0,eb.composeEventHandlers)(e.onClick,s.onOpenToggle)})});tY.displayName=tX;var tK="CollapsibleContent";i.forwardRef((e,t)=>{let{forceMount:i,...r}=e,s=tH(tK,e.__scopeCollapsible);return(0,n.jsx)(eC.Presence,{present:i||s.open,children:e=>{let{present:i}=e;return(0,n.jsx)(tG,{...r,ref:t,present:i})}})}).displayName=tK;var tG=i.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:s,children:a,...o}=e,l=tH(tK,r),[u,d]=i.useState(s),c=i.useRef(null),h=(0,ew.useComposedRefs)(t,c),p=i.useRef(0),m=p.current,f=i.useRef(0),g=f.current,v=l.open||u,x=i.useRef(v),y=i.useRef(void 0);return i.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,tO.useLayoutEffect)(()=>{let e=c.current;if(e){y.current=y.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();p.current=t.height,f.current=t.width,x.current||(e.style.transitionDuration=y.current.transitionDuration,e.style.animationName=y.current.animationName),d(s)}},[l.open,s]),(0,n.jsx)(eP.Primitive.div,{"data-state":tZ(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!v,...o,ref:h,style:{"--radix-collapsible-content-height":m?"".concat(m,"px"):void 0,"--radix-collapsible-content-width":g?"".concat(g,"px"):void 0,...e.style},children:v&&a})});function tZ(e){return e?"open":"closed"}function t$(e){let{...t}=e;return(0,n.jsx)(tq,{"data-slot":"collapsible",...t})}function tJ(e){let{...t}=e;return(0,n.jsx)(tY,{"data-slot":"collapsible-trigger",...t})}let tQ=e=>{switch(e.toLowerCase()){case"h1":return"Heading 1";case"h2":return"Heading 2";case"h3":return"Heading 3";case"h4":return"Heading 4";case"h5":return"Heading 5";case"h6":return"Heading 6";case"p":return"Text Paragraph";case"span":return"Inline Text";case"button":return"Button";case"input":return"Input Field";case"select":return"Select Dropdown";case"textarea":return"Text Area";case"form":return"Form";case"table":return"Table";case"thead":return"Table Header";case"tbody":return"Table Body";case"tr":return"Table Row";case"th":return"Table Header Cell";case"td":return"Table Data Cell";case"nav":return"Navigation";case"header":return"Header";case"footer":return"Footer";case"section":return"Section";case"article":return"Article";case"aside":return"Aside";case"div":return"Block";case"main":return"Main Content";case"details":return"Details";case"summary":return"Summary";case"code":return"Code Snippet";case"pre":return"Preformatted Text";case"kbd":return"Keyboard Input";case"label":return"Label";case"canvas":return"Canvas";case"svg":return"SVG Graphic";case"video":return"Video Player";case"audio":return"Audio Player";case"iframe":return"Embedded Frame";case"link":case"a":return"Link";case"img":return"Image";case"ul":return"Unordered List";case"ol":return"Ordered List";case"li":return"List Item";case"blockquote":return"Blockquote";default:return e.charAt(0).toUpperCase()+e.slice(1)}},t0=e=>{var t;let{element:i,isAiWorking:r=!1,onDelete:s}=e;if(!i)return null;let a=i.tagName.toLowerCase();return(0,n.jsx)(t$,{className:(0,h.default)("border border-neutral-700 rounded-xl p-1.5 pr-3 max-w-max hover:brightness-110 transition-all duration-200 ease-in-out !cursor-pointer",{"!cursor-pointer":!r,"opacity-50 !cursor-not-allowed":r}),disabled:r,onClick:()=>{!r&&s&&s()},children:(0,n.jsxs)(tJ,{className:"flex items-center justify-start gap-2 cursor-pointer",children:[(0,n.jsx)("div",{className:"rounded-lg bg-neutral-700 size-6 flex items-center justify-center",children:(0,n.jsx)(tF,{className:"text-neutral-300 size-3.5"})}),(0,n.jsxs)("p",{className:"text-sm font-semibold text-neutral-300",children:[null==(t=i.textContent)?void 0:t.trim().split(/\s+/)[0]," ",tQ(a)]}),(0,n.jsx)(tB,{className:"text-neutral-300 size-4"})]})})},t1=function(e,t){var n=(0,i.useRef)(function(){});(0,i.useEffect)(function(){n.current=e}),(0,i.useEffect)(function(){if(null!==t){var e=setInterval(function(){return n.current()},t||0);return function(){return clearInterval(e)}}},[t])},t2=["Teaching pixels to dance with style...","AI is having a creative breakthrough...","Channeling digital vibes into pure code...","Summoning the website spirits...","Brewing some algorithmic magic...","Composing a symphony of divs and spans...","Riding the wave of computational creativity...","Aligning the stars for perfect design...","Training circus animals to write CSS...","Launching ideas into the digital stratosphere..."],t5=e=>{let{text:t,className:r}=e,[s,a]=(0,i.useState)(null!=t?t:t2[0]);return(0,i.useEffect)(()=>{t||a(t2[Math.floor(Math.random()*t2.length)])},[t]),t1(()=>{t||(s===t2[t2.length-1]?a(t2[0]):a(t2[t2.indexOf(s)+1]))},12e3),(0,n.jsxs)("div",{className:"flex items-center justify-start gap-2 ".concat(r),children:[(0,n.jsx)(tR.default,{overlay:!1,className:"!size-5 opacity-50"}),(0,n.jsx)("p",{className:"text-neutral-400 text-sm",children:(0,n.jsx)("span",{className:"inline-flex",children:s.split("").map((e,t)=>(0,n.jsx)("span",{className:"bg-gradient-to-r from-neutral-100 to-neutral-300 bg-clip-text text-transparent animate-pulse",style:{animationDelay:"".concat(.1*t,"s"),animationDuration:"1.3s",animationIterationCount:"infinite"},children:" "===e?"Â ":e},t))})})]})},t3=(0,u.default)("paintbrush",[["path",{d:"m14.622 17.897-10.68-2.913",key:"vj2p1u"}],["path",{d:"M18.376 2.622a1 1 0 1 1 3.002 3.002L17.36 9.643a.5.5 0 0 0 0 .707l.944.944a2.41 2.41 0 0 1 0 3.408l-.944.944a.5.5 0 0 1-.707 0L8.354 7.348a.5.5 0 0 1 0-.707l.944-.944a2.41 2.41 0 0 1 3.408 0l.944.944a.5.5 0 0 0 .707 0z",key:"18tc5c"}],["path",{d:"M9 8c-1.804 2.71-3.97 3.46-6.583 3.948a.507.507 0 0 0-.302.819l7.32 8.883a1 1 0 0 0 1.185.204C12.735 20.405 16 16.792 16 15",key:"ytzfxy"}]]);function t4(e){let{className:t,type:i,...r}=e;return(0,n.jsx)("input",{type:i,"data-slot":"input",className:(0,e3.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...r})}var t6=e.i(54858);function t9(e){let{onRedesign:t}=e,[r,s]=(0,i.useState)(""),[a,o]=(0,i.useState)(!1),[l,u]=(0,i.useState)(!1),{globalAiLoading:d}=(0,tt.useAi)(),{globalEditorLoading:h}=(0,Z.useEditor)(),p=e=>RegExp(/^(https?:\/\/)?([\da-z.-]+)\.([a-z.]{2,6})([/\w .-]*)*\/?$/,"i").test(e),m=async()=>{var e,n;if(l)return;if(!r)return void c.toast.error("Please enter a URL.");if(!p(r))return void c.toast.error("Please enter a valid URL.");u(!0);let i=await t6.api.put("/re-design",{url:r.trim()});(null==i||null==(e=i.data)?void 0:e.ok)?(o(!1),t(i.data.markdown,r.trim()),s(""),c.toast.success("DeepSite is redesigning your site! Let him cook... ðŸ”¥")):c.toast.error((null==i||null==(n=i.data)?void 0:n.error)||"Failed to redesign the site."),u(!1)};return(0,n.jsx)(ex.Popover,{open:a,onOpenChange:o,children:(0,n.jsxs)("form",{children:[(0,n.jsx)(ex.PopoverTrigger,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"xs",variant:a?"default":"outline",className:"!rounded-md",disabled:d||h,children:[(0,n.jsx)(t3,{className:"size-3.5"}),"Redesign"]})}),(0,n.jsxs)(ex.PopoverContent,{align:"start",className:"!rounded-2xl !p-0 !bg-white !border-neutral-100 min-w-xs text-center overflow-hidden",children:[(0,n.jsxs)("header",{className:"bg-neutral-50 p-6 border-b border-neutral-200/60",children:[(0,n.jsxs)("div",{className:"flex items-center justify-center -space-x-4 mb-3",children:[(0,n.jsx)("div",{className:"size-9 rounded-full bg-pink-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"ðŸŽ¨"}),(0,n.jsx)("div",{className:"size-11 rounded-full bg-amber-200 shadow-2xl flex items-center justify-center text-2xl z-2",children:"ðŸ¥³"}),(0,n.jsx)("div",{className:"size-9 rounded-full bg-sky-200 shadow-2xs flex items-center justify-center text-xl opacity-50",children:"ðŸ’Ž"})]}),(0,n.jsx)("p",{className:"text-xl font-semibold text-neutral-950",children:"Redesign your Site!"}),(0,n.jsx)("p",{className:"text-sm text-neutral-500 mt-1.5",children:"Try our new Redesign feature to give your site a fresh look."})]}),(0,n.jsxs)("main",{className:"space-y-4 p-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Enter your website URL to get started:"}),(0,n.jsx)(t4,{type:"text",placeholder:"https://example.com",value:r,onChange:e=>s(e.target.value),onBlur:e=>{let t=e.target.value.trim();return t?p(t)?void s(t):void c.toast.error("Please enter a valid URL."):void s("")},onKeyDown:e=>{"Enter"===e.key&&m()},className:"!bg-white !border-neutral-300 !text-neutral-800 !placeholder:text-neutral-400 selection:!bg-blue-100"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-sm text-neutral-700 mb-2",children:"Then, let's redesign it!"}),(0,n.jsx)(ea.Button,{variant:"black",onClick:m,className:"relative w-full",children:l?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(tR.default,{overlay:!1,className:"ml-2 size-4 animate-spin"}),"Fetching your site..."]}):(0,n.jsxs)(n.Fragment,{children:["Redesign ",(0,n.jsx)(t3,{className:"size-4"})]})})]})]})]})]})})}let t8=(0,u.default)("crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),t7=()=>{let{globalEditorLoading:e}=(0,Z.useEditor)(),{isEditableModeEnabled:t,setIsEditableModeEnabled:i,globalAiLoading:r}=(0,tt.useAi)();return(0,n.jsxs)(e6,{children:[(0,n.jsx)(e9,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"xs",variant:t?"default":"outline",onClick:()=>{null==i||i(!t)},disabled:r||e,className:"!rounded-md",children:[(0,n.jsx)(t8,{className:"size-3.5"}),"Edit"]})}),(0,n.jsx)(e8,{align:"start",className:"bg-neutral-950 text-xs text-neutral-200 py-1 px-2 rounded-md -translate-y-0.5",children:"Select an element on the page to ask DeepSite edit it directly."})]})};var ne=e.i(75735);let nt=(0,u.default)("file-code",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]),nn=(0,u.default)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),ni=(0,u.default)("braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]),nr=(0,u.default)("at-sign",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]]),ns=()=>{let{pages:e,currentPage:t,globalEditorLoading:r}=(0,Z.useEditor)(),{contextFile:s,setContextFile:a,globalAiLoading:o}=(0,tt.useAi)(),[l,u]=(0,i.useState)(!1),d=s||null,c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"size-3.5";return e.endsWith(".css")?(0,n.jsx)(ni,{className:t}):e.endsWith(".js")?(0,n.jsx)(nt,{className:t}):e.endsWith(".json")?(0,n.jsx)(ni,{className:t}):(0,n.jsx)(nn,{className:t})},p=(0,i.useMemo)(()=>d?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("span",{className:"truncate max-w-[120px]",children:d})}):(0,n.jsx)(n.Fragment,{children:"Add Context"}),[d]);return(0,n.jsxs)(ex.Popover,{open:l,onOpenChange:u,children:[(0,n.jsx)(ex.PopoverTrigger,{asChild:!0,children:(0,n.jsxs)(ea.Button,{size:"xs",variant:l?"default":"outline",className:(0,h.default)("!rounded-md",{"!bg-blue-500/10 !border-blue-500/30 !text-blue-400":d&&d.endsWith(".css"),"!bg-orange-500/10 !border-orange-500/30 !text-orange-400":d&&d.endsWith(".html"),"!bg-amber-500/10 !border-amber-500/30 !text-amber-400":d&&d.endsWith(".js"),"!bg-yellow-500/10 !border-yellow-500/30 !text-yellow-400":d&&d.endsWith(".json")}),disabled:o||r||0===e.length,children:[(0,n.jsx)(nr,{className:"size-3.5"}),p]})}),(0,n.jsxs)(ex.PopoverContent,{align:"start",className:"w-64 !bg-neutral-900 !border-neutral-800 !p-0 !rounded-2xl overflow-hidden",children:[(0,n.jsx)("header",{className:"flex items-center justify-center text-xs px-2 py-2.5 border-b gap-2 bg-neutral-950 border-neutral-800 font-semibold text-neutral-200",children:"Select a file to send as context"}),(0,n.jsx)("main",{className:"space-y-1 p-2",children:(0,n.jsx)("div",{className:"max-h-[200px] overflow-y-auto space-y-0.5",children:0===e.length?(0,n.jsx)("div",{className:"px-2 py-2 text-xs text-neutral-500",children:"No files available"}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{a(null),u(!1)},className:"cursor-pointer w-full px-2 py-1.5 text-xs text-left rounded-md hover:bg-neutral-800 transition-colors ".concat(d?"text-neutral-400 hover:text-neutral-200":"bg-neutral-800 text-neutral-200 font-medium"),children:"All files (default)"}),e.map(e=>(0,n.jsxs)("button",{onClick:()=>{a(e.path),u(!1)},className:"cursor-pointer w-full px-2 py-1.5 text-xs text-left rounded-md hover:bg-neutral-800 transition-colors flex items-center gap-1.5 ".concat(d===e.path?"bg-neutral-800 text-neutral-200 font-medium":"text-neutral-400 hover:text-neutral-200"),children:[(0,n.jsx)("span",{className:"shrink-0",children:c(e.path,"size-3")}),(0,n.jsx)("span",{className:"truncate flex-1",children:e.path}),e.path===t&&(0,n.jsx)("span",{className:"text-[10px] text-neutral-500 shrink-0",children:"(current)"})]},e.path))]})})})]})]})};var na=e.i(38701),no=e.i(8149),nl=e.i(65880);let nu=e=>{let{url:t,isAiWorking:i=!1,onDelete:r}=e;return(0,n.jsx)("div",{className:(0,h.default)("border border-emerald-500/50 bg-emerald-500/10 rounded-xl p-1.5 pr-3 max-w-max hover:brightness-110 transition-all duration-200 ease-in-out",{"cursor-pointer":!i,"opacity-50 cursor-not-allowed":i}),onClick:()=>{!i&&r&&r()},children:(0,n.jsxs)("div",{className:"flex items-center justify-start gap-2",children:[(0,n.jsx)("div",{className:"rounded-lg bg-emerald-500/20 size-6 flex items-center justify-center",children:(0,n.jsx)(t3,{className:"text-emerald-300 size-3.5"})}),(0,n.jsx)("p",{className:"text-sm font-semibold text-emerald-200",children:t}),(0,n.jsx)(tB,{className:"text-emerald-300 size-4 hover:text-emerald-200 transition-colors"})]})})},nd=e=>{var t;let{project:r,isNew:s,onScrollToBottom:a}=e,{user:u,projects:d}=(0,eo.useUser)(),{isSameHtml:p,isUploading:m,pages:f,isLoadingProject:g}=(0,Z.useEditor)(),{isAiWorking:v,isThinking:x,thinkingContent:y,selectedFiles:b,setSelectedFiles:w,selectedElement:j,setSelectedElement:k,callAiNewProject:S,callAiFollowUp:N,audio:T,cancelRequest:C}=(0,tt.useAi)(a),{openLoginModal:P}=(0,tD.useLoginModal)(),{openProModal:M}=(0,no.useProModal)(),[E,A]=(0,i.useState)(!1),[R,D]=(0,i.useState)(""),[z,V]=(0,i.useState)(void 0),L=(0,i.useRef)(null),[F,B,O]=(0,o.useLocalStorage)("deepsite-enhancedSettings",{isActive:!1,primaryColor:void 0,secondaryColor:void 0,theme:void 0}),[I,,_]=(0,o.useLocalStorage)("prompt",""),[U,W]=(0,i.useState)(!0),[H,q]=(0,i.useState)(I&&""!==I.trim()?I:""),[X,Y]=(0,i.useState)(!1),[K,G]=(0,i.useState)(!1);(0,l.useMount)(()=>{I&&""!==I.trim()&&$()});let $=async e=>{if(_(),u&&!u.isPro&&d.length>=e3.MAX_FREE_PROJECTS)return M([]);if(!v&&(e||H.trim()))if(!U||e||p){let t=await S(H,F,e,!!u,null==u?void 0:u.name);if(null==t?void 0:t.error)return void J(t.error,t.message);(null==t?void 0:t.success)&&q("")}else{if(!u)return P({prompt:H});let e=await N(H,F,s);if(null==e?void 0:e.error)return void J(e.error,e.message);(null==e?void 0:e.success)&&q("")}},J=(e,t)=>{switch(e){case"login_required":P();break;case"provider_required":A(!0),D(t||"");break;case"pro_required":M([]);break;case"api_error":c.toast.error(t||"An error occurred");break;case"network_error":c.toast.error(t||"Network error occurred");break;default:c.toast.error("An unexpected error occurred")}};return(0,tk.useUpdateEffect)(()=>{L.current&&(L.current.scrollTop=L.current.scrollHeight),y&&x&&!X&&Y(!0),y&&!x&&X&&Y(!1)},[y,x]),(0,n.jsxs)("div",{className:"p-3 w-full",children:[(0,n.jsxs)("div",{className:"relative bg-neutral-800 border border-neutral-700 rounded-2xl ring-[4px] focus-within:ring-neutral-500/30 focus-within:border-neutral-600 ring-transparent z-20 w-full group",children:[y&&(0,n.jsxs)("div",{className:"w-full border-b border-neutral-700 relative overflow-hidden",children:[(0,n.jsxs)("header",{className:"flex items-center justify-between px-5 py-2.5 group hover:bg-neutral-600/20 transition-colors duration-200 cursor-pointer",onClick:()=>{Y(!X)},children:[(0,n.jsx)("p",{className:"text-sm font-medium text-neutral-300 group-hover:text-neutral-200 transition-colors duration-200",children:x?"DeepSite is thinking...":"DeepSite's plan"}),(0,n.jsx)(ta.ChevronDown,{className:(0,h.default)("size-4 text-neutral-400 group-hover:text-neutral-300 transition-all duration-200",{"rotate-180":X})})]}),(0,n.jsx)("main",{ref:L,className:(0,h.default)("overflow-y-auto transition-all duration-200 ease-in-out",{"max-h-[0px]":!X,"min-h-[250px] max-h-[250px] border-t border-neutral-700":X}),children:(0,n.jsx)("p",{className:"text-[13px] text-neutral-400 whitespace-pre-line px-5 pb-4 pt-3",children:y})})]}),(0,n.jsx)(tL,{files:b,isAiWorking:v,onDelete:e=>w(b.filter(t=>t!==e))}),j&&(0,n.jsx)("div",{className:"px-4 pt-3",children:(0,n.jsx)(t0,{element:j,isAiWorking:v,onDelete:()=>k(null)})}),z&&(0,n.jsx)("div",{className:"px-4 pt-3",children:(0,n.jsx)(nu,{url:z.url,isAiWorking:v,onDelete:()=>V(void 0)})}),(0,n.jsxs)("div",{className:"w-full relative flex items-center justify-between",children:[(v||m||x||g)&&(0,n.jsxs)("div",{className:"absolute bg-neutral-800 top-0 left-4 w-[calc(100%-30px)] h-full z-1 flex items-start pt-3.5 justify-between max-lg:text-sm",children:[(0,n.jsx)(t5,{text:g?"Fetching your project...":m?"Uploading images...":"DeepSite is working..."}),v&&(0,n.jsx)(ea.Button,{size:"iconXs",variant:"outline",className:"!rounded-md mr-0.5",onClick:C,children:(0,n.jsx)(tw,{className:"size-4"})})]}),(0,n.jsx)("textarea",{disabled:v||m||x||g,className:(0,h.default)("w-full bg-transparent text-sm outline-none text-white placeholder:text-neutral-400 p-4 resize-none",{"!pt-2.5":j&&!(v||m||x)}),placeholder:j?"Ask DeepSite about ".concat(j.tagName.toLowerCase(),"..."):z?"Ask DeepSite anything about the redesign of your site...":U&&(!p||(null==f?void 0:f.length)>1)?"Ask DeepSite for edits":"Ask DeepSite anything...",value:H,onChange:e=>q(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||$()}}),s&&!v&&p&&(0,n.jsx)(ea.Button,{size:"iconXs",variant:"outline",className:"!rounded-md -translate-y-2 -translate-x-4",onClick:()=>void(G(!0),setTimeout(()=>{q(nl.PROMPTS_FOR_AI[Math.floor(Math.random()*nl.PROMPTS_FOR_AI.length)]),G(!1)},400)),children:(0,n.jsx)(tj.Dice6,{className:(0,h.default)("size-4",{"animate-spin animation-duration-500":K})})})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between gap-2 px-4 pb-3 mt-2",children:[(0,n.jsxs)("div",{className:"flex-1 flex items-center justify-start gap-1.5 flex-wrap",children:[s?(0,n.jsx)(ne.PromptBuilder,{enhancedSettings:F,setEnhancedSettings:B}):(0,n.jsx)(ns,{}),(0,n.jsx)(na.Settings,{open:E,error:R,isFollowUp:!p&&U,onClose:A}),!s&&(0,n.jsx)(tV,{project:r}),s&&(0,n.jsx)(t9,{onRedesign:(e,t)=>V({markdown:e,url:t})}),!s&&!p&&(0,n.jsx)(t7,{})]}),(0,n.jsx)("div",{className:"flex items-center justify-end gap-2",children:(0,n.jsx)(ea.Button,{size:"iconXs",variant:"outline",className:"!rounded-md",disabled:(null==z||null==(t=z.url)||!t.trim())&&(v||m||x||!H.trim()),onClick:()=>$(null==z?void 0:z.markdown),children:(0,n.jsx)(tb.ArrowUp,{className:"size-4"})})})]})]}),(0,n.jsxs)("audio",{ref:T,id:"audio",className:"hidden",children:[(0,n.jsx)("source",{src:"/deepsite/success.mp3",type:"audio/mpeg"}),"Your browser does not support the audio element."]})]})};function nc(e){let{width:t=40,height:r=40,x:s=-1,y:a=-1,strokeDasharray:o="0",squares:l,className:u,...d}=e,c=(0,i.useId)();return(0,n.jsxs)("svg",{"aria-hidden":"true",className:(0,e3.cn)("pointer-events-none absolute inset-0 h-full w-full fill-gray-400/30 stroke-neutral-700 -z-[1]",u),...d,children:[(0,n.jsx)("defs",{children:(0,n.jsx)("pattern",{id:c,width:t,height:r,patternUnits:"userSpaceOnUse",x:s,y:a,children:(0,n.jsx)("path",{d:"M.5 ".concat(r,"V.5H").concat(t),fill:"none",strokeDasharray:o})})}),(0,n.jsx)("rect",{width:"100%",height:"100%",strokeWidth:0,fill:"url(#".concat(c,")")}),l&&(0,n.jsx)("svg",{x:s,y:a,className:"overflow-visible",children:l.map(e=>{let[i,s]=e;return(0,n.jsx)("rect",{strokeWidth:"0",width:t-1,height:r-1,x:i*t+1,y:s*r+1},"".concat(i,"-").concat(s))})})]})}var nh=e.i(89993),np=e.i(37783),nm=e.i(99219),nm=nm;let nf=(0,u.default)("mouse-pointer-click",[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]]),ng=e=>{let{isVisible:t,isPromotingVersion:r,onPromoteVersion:s,onGoBackToCurrent:a,className:o}=e,[l,u]=(0,i.useState)(!1);return t?(0,n.jsx)("div",{className:(0,h.default)("absolute bottom-4 left-4 z-10 bg-white/95 backdrop-blur-sm border border-neutral-200 rounded-xl shadow-lg transition-all duration-300 ease-in-out",o),children:l?(0,n.jsxs)("div",{className:"flex items-center gap-2 p-3",children:[(0,n.jsx)(ev,{className:"size-4 text-neutral-600"}),(0,n.jsx)("span",{className:"text-xs text-neutral-600 font-medium",children:"Historical Version"}),(0,n.jsx)(ea.Button,{variant:"outline",size:"iconXs",className:"!rounded-md !border-neutral-200",onClick:()=>u(!1),children:(0,n.jsx)(nm.default,{className:"text-neutral-400 size-3"})})]}):(0,n.jsx)("div",{className:"p-4 max-w-sm w-full",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)(ev,{className:"size-4 text-neutral-600 translate-y-1.5"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("p",{className:"font-semibold text-sm text-neutral-800",children:"Historical Version"})}),(0,n.jsx)(ea.Button,{variant:"outline",size:"iconXs",className:"!rounded-md !border-neutral-200",onClick:()=>u(!0),children:(0,n.jsx)(ta.ChevronDown,{className:"text-neutral-400 size-3"})})]}),(0,n.jsx)("p",{className:"text-xs text-neutral-600 leading-relaxed mb-3",children:"You're viewing a previous version of this project. Promote this version to make it current and deploy it live."}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(ea.Button,{size:"xs",variant:"black",className:"!pr-3",onClick:s,disabled:r,children:[r?(0,n.jsx)(tR.default,{overlay:!1}):(0,n.jsx)(nf,{className:"size-3"}),"Promote Version"]}),(0,n.jsx)(ea.Button,{size:"xs",variant:"outline",className:" !text-neutral-600 !border-neutral-200",disabled:r,onClick:a,children:"Go back to current"})]})]})]})})}):null};var nv=e.i(82458),nv=nv;let nx=e=>{var t;let{isNew:r,namespace:s,repoId:a}=e,{project:o,device:l,isLoadingProject:u,currentTab:d,currentCommit:p,setCurrentCommit:m,currentPageData:f,pages:g,setPages:v,setCurrentPage:x,previewPage:y,setPreviewPage:b,setLastSavedPages:w,hasUnsavedChanges:j}=(0,Z.useEditor)(),{isEditableModeEnabled:k,setSelectedElement:S,isAiWorking:N,globalAiLoading:T}=(0,tt.useAi)(),C=(0,i.useRef)(null),[P,M]=(0,i.useState)(null),[E,A]=(0,i.useState)(!1),[R,D]=(0,i.useState)(""),[z,V]=(0,i.useState)(""),L=(0,i.useRef)(0),[F,B]=(0,i.useState)(0),[O,I]=(0,i.useState)([]),[_,U]=(0,i.useState)(!1),W=(0,i.useRef)(null);(0,i.useEffect)(()=>{if(!y&&g.length>0){let e=g.find(e=>"index.html"===e.path||"index"===e.path||"/"===e.path),t=g.find(e=>e.path.endsWith(".html"));b((null==e?void 0:e.path)||(null==t?void 0:t.path)||"index.html")}},[g,y]);let H=p?O:g,q=(0,i.useMemo)(()=>H.find(e=>e.path.replace(/^\.?\//,"")===y.replace(/^\.?\//,""))||(H.length>0?H[0]:f),[H,y,f]);(0,i.useEffect)(()=>{p&&s&&a?(U(!0),t6.api.get("/me/projects/".concat(s,"/").concat(a,"/commits/").concat(p)).then(e=>{if(e.data.ok){I(e.data.pages);let t=e.data.pages.find(e=>"index.html"===e.path||"index"===e.path||"/"===e.path);t&&b(t.path),B(e=>e+1)}}).catch(e=>{var t,n;c.toast.error((null==(n=e.response)||null==(t=n.data)?void 0:t.error)||"Failed to fetch commit pages")}).finally(()=>{U(!1)})):p||null===W.current||I([]),W.current=p},[p,s,a]);let X=(0,i.useCallback)(e=>{let t=e.map(e=>e.path.replace(/^\.?\//,""));return"\n      (function() {\n        const availablePages = ".concat(JSON.stringify(t),";\n        \n        function normalizePath(path) {\n          let normalized = path.replace(/^.?//, \"\");\n          if (normalized === \"\" || normalized === \"/\") {\n            normalized = \"index.html\";\n          }\n          const hashIndex = normalized.indexOf(\"#\");\n          if (hashIndex !== -1) {\n            normalized = normalized.substring(0, hashIndex);\n          }\n          if (!normalized.includes(\".\")) {\n            normalized = normalized + \".html\";\n          }\n          return normalized;\n        }\n        \n        function handleNavigation(url) {\n          if (!url) return;\n          \n          // Handle hash-only navigation\n          if (url.startsWith(\"#\")) {\n            const targetElement = document.querySelector(url);\n            if (targetElement) {\n              targetElement.scrollIntoView({ behavior: \"smooth\" });\n            }\n            // Search in shadow DOM\n            const searchInShadows = (root) => {\n              const elements = root.querySelectorAll(\"*\");\n              for (const el of elements) {\n                if (el.shadowRoot) {\n                  const found = el.shadowRoot.querySelector(url);\n                  if (found) {\n                    found.scrollIntoView({ behavior: \"smooth\" });\n                    return;\n                  }\n                  searchInShadows(el.shadowRoot);\n                }\n              }\n            };\n            searchInShadows(document);\n            return;\n          }\n          \n          // Handle external URLs\n          if (url.startsWith(\"http://\") || url.startsWith(\"https://\") || url.startsWith(\"//\")) {\n            window.open(url, \"_blank\");\n            return;\n          }\n          \n          const normalizedPath = normalizePath(url);\n          if (availablePages.includes(normalizedPath)) {\n            // Dispatch custom event to notify parent\n            window.parent.postMessage({ type: 'navigate', path: normalizedPath }, '*');\n          } else {\n            console.warn('Page not found:', normalizedPath);\n          }\n        }\n        \n        // Intercept window.location methods\n        const originalAssign = window.location.assign;\n        const originalReplace = window.location.replace;\n        \n        window.location.assign = function(url) {\n          handleNavigation(url);\n        };\n        \n        window.location.replace = function(url) {\n          handleNavigation(url);\n        };\n        \n        // Intercept window.location.href setter\n        try {\n          let currentHref = window.location.href;\n          Object.defineProperty(window.location, 'href', {\n            get: function() {\n              return currentHref;\n            },\n            set: function(url) {\n              handleNavigation(url);\n            },\n            configurable: true\n          });\n        } catch (e) {\n          // Fallback: use proxy if defineProperty fails\n          console.warn('Could not intercept location.href:', e);\n        }\n        \n        // Intercept link clicks\n        document.addEventListener('click', function(e) {\n          const anchor = e.target.closest('a');\n          if (anchor && anchor.href) {\n            const href = anchor.getAttribute('href');\n            if (href && !href.startsWith('http://') && !href.startsWith('https://') && !href.startsWith('//') && !href.startsWith('mailto:') && !href.startsWith('tel:')) {\n              e.preventDefault();\n              handleNavigation(href);\n            }\n          }\n        }, true);\n        \n        // Intercept form submissions\n        document.addEventListener('submit', function(e) {\n          const form = e.target;\n          if (form.action && !form.action.startsWith('http://') && !form.action.startsWith('https://') && !form.action.startsWith('//')) {\n            e.preventDefault();\n            handleNavigation(form.action);\n          }\n        }, true);\n      })();\n    ")},[]),Y=(0,i.useCallback)(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;if(!e)return e;let n=t.filter(e=>e.path.endsWith(".css")&&e.path!==(null==q?void 0:q.path)),i=t.filter(e=>e.path.endsWith(".js")&&e.path!==(null==q?void 0:q.path)),r=t.filter(e=>e.path.endsWith(".json")&&e.path!==(null==q?void 0:q.path)),s=e,a=X(t);if(n.length>0){let e=n.map(e=>'<style data-injected-from="'.concat(e.path,'">\n').concat(e.html,"\n</style>")).join("\n");s=s.includes("</head>")?s.replace("</head>","".concat(e,"\n</head>")):s.includes("<head>")?s.replace("<head>","<head>\n".concat(e)):e+"\n"+s,n.forEach(e=>{let t=e.path.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s=s.replace(RegExp("<link\\s+[^>]*href=[\"'][\\./]*".concat(t,"[\"'][^>]*>"),"gi"),"")})}if(i.length>0){let e=i.map(e=>'<script data-injected-from="'.concat(e.path,'">\n').concat(e.html,"\n</script>")).join("\n");s.includes("</body>")?s=s.replace("</body>","".concat(e,"\n</body>")):s.includes("<body>")?s+=e:s=s+"\n"+e,i.forEach(e=>{let t=e.path.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s=s.replace(RegExp("<script\\s+[^>]*src=[\"'][\\./]*".concat(t,"[\"'][^>]*><\\/script>"),"gi"),"")})}if(r.length>0){let e=r.map(e=>'<script type="application/json" data-injected-from="'.concat(e.path,'" id="').concat(e.path.replace(/[^a-zA-Z0-9]/g,"-"),'">\n').concat(e.html,"\n</script>")).join("\n");s.includes("</body>")?s=s.replace("</body>","".concat(e,"\n</body>")):s.includes("<body>")?s+=e:s=s+"\n"+e,r.forEach(e=>{let t=e.path.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");s=s.replace(RegExp("<script\\s+[^>]*src=[\"'][\\./]*".concat(t,"[\"'][^>]*><\\/script>"),"gi"),"")})}return a&&(s=s.includes("<head>")?s.replace("<head>","<head>\n<script>".concat(a,"</script>")):s.includes("<body>")?s.replace("<body>","<body>\n<script>".concat(a,"</script>")):s.includes("</body>")?s.replace("</body>","<script>".concat(a,"</script>\n</body>")):"<script>".concat(a,"</script>\n")+s),s},[g,null==q?void 0:q.path,X]);(0,i.useEffect)(()=>{if(r&&(null==q?void 0:q.html)){let e=Date.now(),t=e-L.current;if(0===L.current||t>=3e3)V(Y(q.html,H)),L.current=e;else{let e=setTimeout(()=>{V(Y(q.html,H)),L.current=Date.now()},3e3-t);return()=>clearTimeout(e)}}},[r,null==q?void 0:q.html,Y,H]),(0,i.useEffect)(()=>{!N&&!T&&(null==q?void 0:q.html)&&D(Y(q.html,H))},[N,T,null==q?void 0:q.html,Y,y,H]),(0,i.useEffect)(()=>{null==q||!q.html||R||N||T||D(Y(q.html,H))},[null==q?void 0:q.html,R,N,T,Y,H]);let K=()=>{var e;if(null==C||null==(e=C.current)?void 0:e.contentDocument){let e=C.current.contentDocument;e.addEventListener("click",et,!0),k&&(e.addEventListener("mouseover",$),e.addEventListener("mouseout",J),e.addEventListener("click",ee))}};(0,i.useEffect)(()=>{let e=e=>{var t,n;(null==(t=e.data)?void 0:t.type)==="navigate"&&(null==(n=e.data)?void 0:n.path)&&b(e.data.path)};return window.addEventListener("message",e),()=>window.removeEventListener("message",e)},[b]),(0,i.useEffect)(()=>{let e=()=>{var e;if(null==C||null==(e=C.current)?void 0:e.contentDocument){let e=C.current.contentDocument;e.removeEventListener("click",et,!0),e.removeEventListener("mouseover",$),e.removeEventListener("mouseout",J),e.removeEventListener("click",ee)}},t=setTimeout(()=>{var t;(null==C||null==(t=C.current)?void 0:t.contentDocument)&&(e(),K())},50);return()=>{clearTimeout(t),e()}},[k,R,z,y]);let G=async()=>{A(!0),await t6.api.post("/me/projects/".concat(null==o?void 0:o.space_id,"/commits/").concat(p,"/promote")).then(e=>{e.data.ok&&(m(null),v(e.data.pages),x(e.data.pages[0].path),w(e.data.pages),b(e.data.pages[0].path),c.toast.success("Version promoted successfully"))}).catch(e=>{c.toast.error(e.response.data.error)}),A(!1)},$=e=>{if(null==C?void 0:C.current){let t=C.current.contentDocument;if(t){let n=e.target;if((null==P?void 0:P.tagName)!==n.tagName||(null==P?void 0:P.rect.top)!==n.getBoundingClientRect().top||(null==P?void 0:P.rect.left)!==n.getBoundingClientRect().left||(null==P?void 0:P.rect.width)!==n.getBoundingClientRect().width||(null==P?void 0:P.rect.height)!==n.getBoundingClientRect().height)if(n===t.body)return M(null);else{let e=n.getBoundingClientRect();M({tagName:n.tagName,rect:{top:e.top,left:e.left,width:e.width,height:e.height}}),n.classList.add("hovered-element")}}}},J=()=>{M(null)},ee=e=>{if(null==C?void 0:C.current){let t=C.current.contentDocument;if(t){let n=e.composedPath()[0];if((e=>{let n=e;for(;n;){var i;if((null==(i=n.tagName)?void 0:i.toUpperCase())==="A")return n;if(n===t.body)break;let e=n.parentNode;if(e&&11===e.nodeType)n=e.host;else if(e&&1===e.nodeType)n=e;else break}return null})(n))return;n!==t.body&&S(n)}}},et=e=>{if(null==C?void 0:C.current){let t=C.current.contentDocument;if(t){let n=(e=>{let n=e;for(;n;){var i;if((null==(i=n.tagName)?void 0:i.toUpperCase())==="A")return n;if(n===t.body)break;let e=n.parentNode;if(e&&11===e.nodeType)n=e.host;else if(e&&1===e.nodeType)n=e;else break}return null})(e.composedPath()[0]);if(n){let i=n.getAttribute("href");if(i){if(e.stopPropagation(),e.preventDefault(),i.startsWith("#")){let e=t.querySelector(i);if(!e){let n=e=>{for(let t of e.querySelectorAll("*"))if(t.shadowRoot){let e=t.shadowRoot.querySelector(i);if(e)return e;let r=n(t.shadowRoot);if(r)return r}return null};e=n(t)}e&&e.scrollIntoView({behavior:"smooth"});return}let n=i.replace(/^\.?\//,"");(""===n||"/"===n)&&(n="index.html");let r=n.indexOf("#");-1!==r&&(n=n.substring(0,r)),n.includes(".")||(n+=".html"),H.some(e=>e.path.replace(/^\.?\//,"")===n)&&b(n)}}}}};return(0,n.jsxs)("div",{className:(0,h.default)("bg-neutral-900/30 w-full h-[calc(100dvh-57px)] flex flex-col items-center justify-center relative z-1 lg:border-l border-neutral-800",{"max-lg:h-0 overflow-hidden":"chat"===d,"max-lg:h-full":"preview"===d}),children:[(0,n.jsx)(nc,{x:-1,y:-1,strokeDasharray:"4 2",className:(0,e3.cn)("[mask-image:radial-gradient(900px_circle_at_center,white,transparent)] opacity-40")}),!N&&P&&k&&(0,n.jsx)("div",{className:"cursor-pointer absolute bg-sky-500/10 border-[2px] border-dashed border-sky-500 rounded-r-lg rounded-b-lg p-3 z-10 pointer-events-none",style:{top:P.rect.top+40,left:P.rect.left,width:P.rect.width,height:P.rect.height},children:(0,n.jsx)("span",{className:"bg-sky-500 rounded-t-md text-sm text-neutral-100 px-2 py-0.5 -translate-y-7 absolute top-0 left-0",children:tQ(P.tagName.toLowerCase())})}),u?(0,n.jsx)("div",{className:"w-full h-full flex items-center justify-center relative",children:(0,n.jsxs)("div",{className:"py-10 w-full relative z-1 max-w-3xl mx-auto text-center",children:[(0,n.jsx)(t5,{text:"Fetching your project...",className:"flex-col"}),(0,n.jsx)(nh.AnimatedBlobs,{}),(0,n.jsx)(nh.AnimatedBlobs,{})]})}):(0,n.jsxs)(n.Fragment,{children:[_&&(0,n.jsx)("div",{className:"top-0 left-0 right-0 z-20 bg-blue-500/90 backdrop-blur-sm border-b border-blue-600 px-4 py-2 flex items-center justify-center gap-3 text-sm w-full",children:(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)(t5,{text:"Loading commit version...",className:"flex-row"})})}),!r&&!p&&(0,n.jsxs)("div",{className:"top-0 left-0 right-0 z-20 bg-neutral-900/95 backdrop-blur-sm border-b border-neutral-800 px-4 py-2 max-h-[40px] flex items-center justify-between gap-3 text-xs w-full",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[(0,n.jsx)(nv.default,{className:"size-4 text-neutral-500 flex-shrink-0"}),(0,n.jsx)("span",{className:"text-neutral-400 font-medium",children:"Preview version of the project. Try refreshing the preview if you experience any issues."})]}),(0,n.jsxs)("button",{onClick:()=>{B(e=>e+1)},className:"cursor-pointer text-xs px-3 py-1 bg-neutral-800 hover:bg-neutral-700 text-neutral-300 rounded-md font-medium transition-colors whitespace-nowrap flex items-center gap-1.5",children:[(0,n.jsx)(Q.RefreshCcw,{className:"size-3 text-neutral-300 flex-shrink-0"}),"Refresh"]})]}),(0,n.jsx)("iframe",{id:"preview-iframe",ref:C,className:(0,h.default)("w-full select-none transition-all duration-200 bg-black h-full",{"lg:max-w-md lg:mx-auto lg:!rounded-[42px] lg:border-[8px] lg:border-neutral-700 lg:shadow-2xl lg:h-[80dvh] lg:max-h-[996px]":"mobile"===l}),src:p&&(null==o?void 0:o.space_id)&&!(null==o?void 0:o.private)?"https://".concat(null==o||null==(t=o.space_id)?void 0:t.replaceAll("/","-"),"--rev-").concat(p.slice(0,7),".static.hf.space"):void 0,srcDoc:p?void 0:r||j||(null==o?void 0:o.private)||!(null==o?void 0:o.space_id)?r?z||np.defaultHTML:R:R||np.defaultHTML,onLoad:()=>{if(p||r||j||(null==o?void 0:o.private)){var e,t,n;(null==C||null==(n=C.current)||null==(t=n.contentWindow)||null==(e=t.document)?void 0:e.body)&&C.current.contentWindow.document.body.scrollIntoView({block:N?"end":"start",inline:"nearest",behavior:N?"instant":"smooth"}),K()}},sandbox:"allow-scripts allow-same-origin allow-popups allow-popups-to-escape-sandbox allow-modals allow-forms",allow:"accelerometer; ambient-light-sensor; autoplay; battery; camera; clipboard-read; clipboard-write; display-capture; document-domain; encrypted-media; fullscreen; geolocation; gyroscope; layout-animations; legacy-image-formats; magnetometer; microphone; midi; oversized-images; payment; picture-in-picture; publickey-credentials-get; serial; sync-xhr; usb; vr ; wake-lock; xr-spatial-tracking"},F),!r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:(0,h.default)("w-full h-full flex items-center justify-center absolute left-0 top-0 bg-black/40 backdrop-blur-lg transition-all duration-200",{"opacity-0 pointer-events-none":!T}),children:(0,n.jsxs)("div",{className:"py-10 w-full relative z-1 max-w-3xl mx-auto text-center",children:[(0,n.jsx)(t5,{text:u?"Fetching your project...":void 0,className:"flex-col"}),(0,n.jsx)(nh.AnimatedBlobs,{}),(0,n.jsx)(nh.AnimatedBlobs,{})]})}),(0,n.jsx)(ng,{isVisible:!!p,isPromotingVersion:E,onPromoteVersion:G,onGoBackToCurrent:()=>m(null)})]})]})]})},ny=(0,u.default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var nm=nm;let nb=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nw=new Set(nb),nj=e=>180*e/Math.PI,nk=e=>nN(nj(Math.atan2(e[1],e[0]))),nS={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:nk,rotateZ:nk,skewX:e=>nj(Math.atan(e[1])),skewY:e=>nj(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},nN=e=>((e%=360)<0&&(e+=360),e),nT=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),nC=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),nP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:nT,scaleY:nC,scale:e=>(nT(e)+nC(e))/2,rotateX:e=>nN(nj(Math.atan2(e[6],e[5]))),rotateY:e=>nN(nj(Math.atan2(-e[2],e[0]))),rotateZ:nk,rotate:nk,skewX:e=>nj(Math.atan(e[4])),skewY:e=>nj(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function nM(e){return+!!e.includes("scale")}function nE(e,t){let n,i;if(!e||"none"===e)return nM(t);let r=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);if(r)n=nP,i=r;else{let t=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=nS,i=t}if(!i)return nM(t);let s=n[t],a=i[1].split(",").map(nA);return"function"==typeof s?s(a):a[s]}function nA(e){return parseFloat(e.trim())}let nR=e=>t=>"string"==typeof t&&t.startsWith(e),nD=nR("--"),nz=nR("var(--"),nV=e=>!!nz(e)&&nL.test(e.split("/*")[0].trim()),nL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function nF(e){let{top:t,left:n,right:i,bottom:r}=e;return{x:{min:n,max:i},y:{min:t,max:r}}}let nB=(e,t,n)=>e+(t-e)*n;function nO(e){return void 0===e||1===e}function nI(e){let{scale:t,scaleX:n,scaleY:i}=e;return!nO(t)||!nO(n)||!nO(i)}function n_(e){return nI(e)||nU(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function nU(e){var t,n;return(t=e.x)&&"0%"!==t||(n=e.y)&&"0%"!==n}function nW(e,t,n,i,r){return void 0!==r&&(e=i+r*(e-i)),i+n*(e-i)+t}function nH(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0;e.min=nW(e.min,t,n,i,r),e.max=nW(e.max,t,n,i,r)}function nq(e,t){let{x:n,y:i}=t;nH(e.x,n.translate,n.scale,n.originPoint),nH(e.y,i.translate,i.scale,i.originPoint)}function nX(e,t){e.min=e.min+t,e.max=e.max+t}function nY(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:.5,s=nB(e.min,e.max,r);nH(e,t,n,s,i)}function nK(e,t){nY(e.x,t.x,t.scaleX,t.scale,t.originX),nY(e.y,t.y,t.scaleY,t.scale,t.originY)}function nG(e,t){return nF(function(e,t){if(!t)return e;let n=t({x:e.left,y:e.top}),i=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}(e.getBoundingClientRect(),t))}let nZ=new Set(["width","height","top","left","right","bottom",...nb]),n$=(e,t,n)=>n>t?t:n<e?e:n,nJ={test:e=>"number"==typeof e,parse:parseFloat,transform:e=>e},nQ={...nJ,transform:e=>n$(0,1,e)},n0={...nJ,default:1},n1=e=>({test:t=>"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>"".concat(t).concat(e)}),n2=n1("deg"),n5=n1("%"),n3=n1("px"),n4=n1("vh"),n6=n1("vw"),n9={...n5,parse:e=>n5.parse(e)/100,transform:e=>n5.transform(100*e)},n8=e=>t=>t.test(e),n7=[nJ,n3,n5,n2,n6,n4,{test:e=>"auto"===e,parse:e=>e}],ie=e=>n7.find(n8(e)),it=()=>{},ii=()=>{},ir=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),is=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u,ia=e=>e===nJ||e===n3,io=new Set(["x","y","z"]),il=nb.filter(e=>!io.has(e)),iu={width:(e,t)=>{let{x:n}=e,{paddingLeft:i="0",paddingRight:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},height:(e,t)=>{let{y:n}=e,{paddingTop:i="0",paddingBottom:r="0"}=t;return n.max-n.min-parseFloat(i)-parseFloat(r)},top:(e,t)=>{let{top:n}=t;return parseFloat(n)},left:(e,t)=>{let{left:n}=t;return parseFloat(n)},bottom:(e,t)=>{let{y:n}=e,{top:i}=t;return parseFloat(i)+(n.max-n.min)},right:(e,t)=>{let{x:n}=e,{left:i}=t;return parseFloat(i)+(n.max-n.min)},x:(e,t)=>{let{transform:n}=t;return nE(n,"x")},y:(e,t)=>{let{transform:n}=t;return nE(n,"y")}};iu.translateX=iu.x,iu.translateY=iu.y;let id=e=>e,ic={},ih=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ip={value:null,addProjectionMetrics:null};function im(e,t){let n=!1,i=!0,r={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=ih.reduce((e,n)=>(e[n]=function(e,t){let n=new Set,i=new Set,r=!1,s=!1,a=new WeakSet,o={delta:0,timestamp:0,isProcessing:!1},l=0;function u(t){a.has(t)&&(d.schedule(t),e()),l++,t(o)}let d={schedule:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=s&&r?n:i;return t&&a.add(e),o.has(e)||o.add(e),e},cancel:e=>{i.delete(e),a.delete(e)},process:e=>{if(o=e,r){s=!0;return}r=!0,[n,i]=[i,n],n.forEach(u),t&&ip.value&&ip.value.frameloop[t].push(l),l=0,n.clear(),r=!1,s&&(s=!1,d.process(e))}};return d}(s,t?n:void 0),e),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:c,preRender:h,render:p,postRender:m}=a,f=()=>{let s=ic.useManualTiming?r.timestamp:performance.now();n=!1,ic.useManualTiming||(r.delta=i?1e3/60:Math.max(Math.min(s-r.timestamp,40),1)),r.timestamp=s,r.isProcessing=!0,o.process(r),l.process(r),u.process(r),d.process(r),c.process(r),h.process(r),p.process(r),m.process(r),r.isProcessing=!1,n&&t&&(i=!1,e(f))};return{schedule:ih.reduce((t,s)=>{let o=a[s];return t[s]=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!n&&(n=!0,i=!0,r.isProcessing||e(f)),o.schedule(t,s,a)},t},{}),cancel:e=>{for(let t=0;t<ih.length;t++)a[ih[t]].cancel(e)},state:r,steps:a}}let{schedule:ig,cancel:iv,state:ix,steps:iy}=im("undefined"!=typeof requestAnimationFrame?requestAnimationFrame:id,!0),ib=new Set,iw=!1,ij=!1,ik=!1;function iS(){if(ij){let e=Array.from(ib).filter(e=>e.needsMeasurement),t=new Set(e.map(e=>e.element)),n=new Map;t.forEach(e=>{let t=function(e){let t=[];return il.forEach(n=>{let i=e.getValue(n);void 0!==i&&(t.push([n,i.get()]),i.set(+!!n.startsWith("scale")))}),t}(e);t.length&&(n.set(e,t),e.render())}),e.forEach(e=>e.measureInitialState()),t.forEach(e=>{e.render();let t=n.get(e);t&&t.forEach(t=>{var n;let[i,r]=t;null==(n=e.getValue(i))||n.set(r)})}),e.forEach(e=>e.measureEndState()),e.forEach(e=>{void 0!==e.suspendedScrollY&&window.scrollTo(0,e.suspendedScrollY)})}ij=!1,iw=!1,ib.forEach(e=>e.complete(ik)),ib.clear()}function iN(){ib.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(ij=!0)})}class iT{scheduleResolve(){this.state="scheduled",this.isAsync?(ib.add(this),iw||(iw=!0,ig.read(iN),ig.resolveKeyframes(iS))):(this.readKeyframes(),this.complete())}readKeyframes(){let{unresolvedKeyframes:e,name:t,element:n,motionValue:i}=this;if(null===e[0]){let r=null==i?void 0:i.get(),s=e[e.length-1];if(void 0!==r)e[0]=r;else if(n&&t){let i=n.readValue(t,s);null!=i&&(e[0]=i)}void 0===e[0]&&(e[0]=s),i&&void 0===r&&i.set(e[0])}for(let t=1;t<e.length;t++)null!=e[t]||(e[t]=e[t-1])}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),ib.delete(this)}cancel(){"scheduled"===this.state&&(ib.delete(this),this.state="pending")}resume(){"pending"===this.state&&this.scheduleResolve()}constructor(e,t,n,i,r,s=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=n,this.motionValue=i,this.element=r,this.isAsync=s}}let iC=e=>/^0[^.\s]+$/u.test(e),iP=e=>Math.round(1e5*e)/1e5,iM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu,iE=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,iA=(e,t)=>n=>!!("string"==typeof n&&iE.test(n)&&n.startsWith(e)||t&&null!=n&&Object.prototype.hasOwnProperty.call(n,t)),iR=(e,t,n)=>i=>{if("string"!=typeof i)return i;let[r,s,a,o]=i.match(iM);return{[e]:parseFloat(r),[t]:parseFloat(s),[n]:parseFloat(a),alpha:void 0!==o?parseFloat(o):1}},iD={...nJ,transform:e=>Math.round(n$(0,255,e))},iz={test:iA("rgb","red"),parse:iR("red","green","blue"),transform:e=>{let{red:t,green:n,blue:i,alpha:r=1}=e;return"rgba("+iD.transform(t)+", "+iD.transform(n)+", "+iD.transform(i)+", "+iP(nQ.transform(r))+")"}},iV={test:iA("#"),parse:function(e){let t="",n="",i="",r="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),i=e.substring(5,7),r=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),i=e.substring(3,4),r=e.substring(4,5),t+=t,n+=n,i+=i,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:r?parseInt(r,16)/255:1}},transform:iz.transform},iL={test:iA("hsl","hue"),parse:iR("hue","saturation","lightness"),transform:e=>{let{hue:t,saturation:n,lightness:i,alpha:r=1}=e;return"hsla("+Math.round(t)+", "+n5.transform(iP(n))+", "+n5.transform(iP(i))+", "+iP(nQ.transform(r))+")"}},iF={test:e=>iz.test(e)||iV.test(e)||iL.test(e),parse:e=>iz.test(e)?iz.parse(e):iL.test(e)?iL.parse(e):iV.parse(e),transform:e=>"string"==typeof e?e:e.hasOwnProperty("red")?iz.transform(e):iL.transform(e),getAnimatableNone:e=>{let t=iF.parse(e);return t.alpha=0,iF.transform(t)}},iB=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu,iO="number",iI="color",i_=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function iU(e){let t=e.toString(),n=[],i={color:[],number:[],var:[]},r=[],s=0,a=t.replace(i_,e=>(iF.test(e)?(i.color.push(s),r.push(iI),n.push(iF.parse(e))):e.startsWith("var(")?(i.var.push(s),r.push("var"),n.push(e)):(i.number.push(s),r.push(iO),n.push(parseFloat(e))),++s,"${}")).split("${}");return{values:n,split:a,indexes:i,types:r}}function iW(e){return iU(e).values}function iH(e){let{split:t,types:n}=iU(e),i=t.length;return e=>{let r="";for(let s=0;s<i;s++)if(r+=t[s],void 0!==e[s]){let t=n[s];t===iO?r+=iP(e[s]):t===iI?r+=iF.transform(e[s]):r+=e[s]}return r}}let iq=e=>"number"==typeof e?0:iF.test(e)?iF.getAnimatableNone(e):e,iX={test:function(e){var t,n;return isNaN(e)&&"string"==typeof e&&((null==(t=e.match(iM))?void 0:t.length)||0)+((null==(n=e.match(iB))?void 0:n.length)||0)>0},parse:iW,createTransformer:iH,getAnimatableNone:function(e){let t=iW(e);return iH(e)(t.map(iq))}},iY=new Set(["brightness","contrast","saturate","opacity"]);function iK(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;let[i]=n.match(iM)||[];if(!i)return e;let r=n.replace(i,""),s=+!!iY.has(t);return i!==n&&(s*=100),t+"("+s+r+")"}let iG=/\b([a-z-]*)\(.*?\)/gu,iZ={...iX,getAnimatableNone:e=>{let t=e.match(iG);return t?t.map(iK).join(" "):e}},i$={...nJ,transform:Math.round},iJ={borderWidth:n3,borderTopWidth:n3,borderRightWidth:n3,borderBottomWidth:n3,borderLeftWidth:n3,borderRadius:n3,radius:n3,borderTopLeftRadius:n3,borderTopRightRadius:n3,borderBottomRightRadius:n3,borderBottomLeftRadius:n3,width:n3,maxWidth:n3,height:n3,maxHeight:n3,top:n3,right:n3,bottom:n3,left:n3,padding:n3,paddingTop:n3,paddingRight:n3,paddingBottom:n3,paddingLeft:n3,margin:n3,marginTop:n3,marginRight:n3,marginBottom:n3,marginLeft:n3,backgroundPositionX:n3,backgroundPositionY:n3,rotate:n2,rotateX:n2,rotateY:n2,rotateZ:n2,scale:n0,scaleX:n0,scaleY:n0,scaleZ:n0,skew:n2,skewX:n2,skewY:n2,distance:n3,translateX:n3,translateY:n3,translateZ:n3,x:n3,y:n3,z:n3,perspective:n3,transformPerspective:n3,opacity:nQ,originX:n9,originY:n9,originZ:n3,zIndex:i$,fillOpacity:nQ,strokeOpacity:nQ,numOctaves:i$},iQ={...iJ,color:iF,backgroundColor:iF,outlineColor:iF,fill:iF,stroke:iF,borderColor:iF,borderTopColor:iF,borderRightColor:iF,borderBottomColor:iF,borderLeftColor:iF,filter:iZ,WebkitFilter:iZ},i0=e=>iQ[e];function i1(e,t){let n=i0(e);return n!==iZ&&(n=iX),n.getAnimatableNone?n.getAnimatableNone(t):void 0}let i2=new Set(["auto","none","0"]);class i5 extends iT{readKeyframes(){let{unresolvedKeyframes:e,element:t,name:n}=this;if(!t||!t.current)return;super.readKeyframes();for(let n=0;n<e.length;n++){let i=e[n];if("string"==typeof i&&nV(i=i.trim())){let r=function e(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;ii(i<=4,'Max CSS variable fallback depth detected in property "'.concat(t,'". This may indicate a circular fallback dependency.'),"max-css-var-depth");let[r,s]=function(e){let t=is.exec(e);if(!t)return[,];let[,n,i,r]=t;return["--".concat(null!=n?n:i),r]}(t);if(!r)return;let a=window.getComputedStyle(n).getPropertyValue(r);if(a){let e=a.trim();return ir(e)?parseFloat(e):e}return nV(s)?e(s,n,i+1):s}(i,t.current);void 0!==r&&(e[n]=r),n===e.length-1&&(this.finalKeyframe=i)}}if(this.resolveNoneKeyframes(),!nZ.has(n)||2!==e.length)return;let[i,r]=e,s=ie(i),a=ie(r);if(s!==a)if(ia(s)&&ia(a))for(let t=0;t<e.length;t++){let n=e[t];"string"==typeof n&&(e[t]=parseFloat(n))}else iu[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){let{unresolvedKeyframes:e,name:t}=this,n=[];for(let t=0;t<e.length;t++){var i;(null===e[t]||("number"==typeof(i=e[t])?0===i:null===i||"none"===i||"0"===i||iC(i)))&&n.push(t)}n.length&&function(e,t,n){let i,r=0;for(;r<e.length&&!i;){let t=e[r];"string"==typeof t&&!i2.has(t)&&iU(t).values.length&&(i=e[r]),r++}if(i&&n)for(let r of t)e[r]=i1(n,i)}(e,n,t)}measureInitialState(){let{element:e,unresolvedKeyframes:t,name:n}=this;if(!e||!e.current)return;"height"===n&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=iu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;let i=t[t.length-1];void 0!==i&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;let{element:t,name:n,unresolvedKeyframes:i}=this;if(!t||!t.current)return;let r=t.getValue(n);r&&r.jump(this.measuredOrigin,!1);let s=i.length-1,a=i[s];i[s]=iu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),null!==a&&void 0===this.finalKeyframe&&(this.finalKeyframe=a),(null==(e=this.removedTransforms)?void 0:e.length)&&this.removedTransforms.forEach(e=>{let[n,i]=e;t.getValue(n).set(i)}),this.resolveNoneKeyframes()}constructor(e,t,n,i,r){super(e,t,n,i,r,!0)}}let i3=e=>!!(e&&e.getVelocity);function i4(){t=void 0}let i6={now:()=>(void 0===t&&i6.set(ix.isProcessing||ic.useManualTiming?ix.timestamp:performance.now()),t),set:e=>{t=e,queueMicrotask(i4)}};function i9(e,t){-1===e.indexOf(t)&&e.push(t)}function i8(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}class i7{add(e){return i9(this.subscriptions,e),()=>i8(this.subscriptions,e)}notify(e,t,n){let i=this.subscriptions.length;if(i)if(1===i)this.subscriptions[0](e,t,n);else for(let r=0;r<i;r++){let i=this.subscriptions[r];i&&i(e,t,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}constructor(){this.subscriptions=[]}}let re={current:void 0};class rt{setCurrent(e){this.current=e,this.updatedAt=i6.now(),null===this.canTrackVelocity&&void 0!==e&&(this.canTrackVelocity=!isNaN(parseFloat(this.current)))}setPrevFrameValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current;this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new i7);let n=this.events[e].add(t);return"change"===e?()=>{n(),ig.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(let e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,t,n){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;null==(e=this.events.change)||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return re.current&&re.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){var e;let t=i6.now();if(!this.canTrackVelocity||void 0===this.prevFrameValue||t-this.updatedAt>30)return 0;let n=Math.min(this.updatedAt-this.prevUpdatedAt,30);return e=parseFloat(this.current)-parseFloat(this.prevFrameValue),n?1e3/n*e:0}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,t;null==(e=this.dependents)||e.clear(),null==(t=this.events.destroy)||t.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}constructor(e,t={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=e=>{let t=i6.now();if(this.updatedAt!==t&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(e),this.current!==this.prev){var n;if(null==(n=this.events.change)||n.notify(this.current),this.dependents)for(let e of this.dependents)e.dirty()}},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}}function rn(e,t){return new rt(e,t)}let ri=[...n7,iF,iX],{schedule:rr}=im(queueMicrotask,!1),rs={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ra={};for(let e in rs)ra[e]={isEnabled:t=>rs[e].some(e=>!!t[e])};let ro=()=>({translate:0,scale:1,origin:0,originPoint:0}),rl=()=>({x:ro(),y:ro()}),ru=()=>({min:0,max:0}),rd=()=>({x:ru(),y:ru()}),rc="undefined"!=typeof window,rh={current:null},rp={current:!1},rm=new WeakMap;function rf(e){return null!==e&&"object"==typeof e&&"function"==typeof e.start}function rg(e){return"string"==typeof e||Array.isArray(e)}let rv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rx=["initial",...rv];function ry(e){return rf(e.animate)||rx.some(t=>rg(e[t]))}function rb(e){return!!(ry(e)||e.variants)}function rw(e){let t=[{},{}];return null==e||e.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function rj(e,t,n,i){if("function"==typeof t){let[r,s]=rw(i);t=t(void 0!==n?n:e.custom,r,s)}if("string"==typeof t&&(t=e.variants&&e.variants[t]),"function"==typeof t){let[r,s]=rw(i);t=t(void 0!==n?n:e.custom,r,s)}return t}let rk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class rS{scrapeMotionValuesFromProps(e,t,n){return{}}mount(e){var t;this.current=e,rm.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,t)=>this.bindToMotionValue(t,e)),rp.current||function(){if(rp.current=!0,rc)if(window.matchMedia){let e=window.matchMedia("(prefers-reduced-motion)"),t=()=>rh.current=e.matches;e.addEventListener("change",t),t()}else rh.current=!1}(),this.shouldReduceMotion="never"!==this.reducedMotionConfig&&("always"===this.reducedMotionConfig||rh.current),null==(t=this.parent)||t.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;for(let t in this.projection&&this.projection.unmount(),iv(this.notifyUpdate),iv(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),null==(e=this.parent)||e.removeChild(this),this.events)this.events[t].clear();for(let e in this.features){let t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),null!=this.enteringChildren||(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,t){let n;this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();let i=nw.has(e);i&&this.onBindTransform&&this.onBindTransform();let r=t.on("change",t=>{this.latestValues[e]=t,this.props.onUpdate&&ig.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});window.MotionCheckAppearSync&&(n=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{r(),n&&n(),t.owner&&t.stop()})}sortNodePosition(e){return this.current&&this.sortInstanceNodePosition&&this.type===e.type?this.sortInstanceNodePosition(this.current,e.current):0}updateFeatures(){let e="animation";for(e in ra){let t=ra[e];if(!t)continue;let{isEnabled:n,Feature:i}=t;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){let t=this.features[e];t.isMounted?t.update():(t.mount(),t.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):rd()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let t=0;t<rk.length;t++){let n=rk[t];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);let i=e["on"+n];i&&(this.propEventSubscriptions[n]=this.on(n,i))}this.prevMotionValues=function(e,t,n){for(let i in t){let r=t[i],s=n[i];if(i3(r))e.addValue(i,r);else if(i3(s))e.addValue(i,rn(r,{owner:e}));else if(s!==r)if(e.hasValue(i)){let t=e.getValue(i);!0===t.liveStyle?t.jump(r):t.hasAnimated||t.set(r)}else{let t=e.getStaticValue(i);e.addValue(i,rn(void 0!==t?t:r,{owner:e}))}}for(let i in n)void 0===t[i]&&e.removeValue(i);return t}(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){let t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){let n=this.values.get(e);t!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);let t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return void 0===n&&void 0!==t&&(n=rn(null===t?void 0:t,{owner:this}),this.addValue(e,n)),n}readValue(e,t){var n;let i=void 0===this.latestValues[e]&&this.current?null!=(n=this.getBaseTargetFromProps(this.props,e))?n:this.readValueFromInstance(this.current,e,this.options):this.latestValues[e];if(null!=i){if("string"==typeof i&&(ir(i)||iC(i)))i=parseFloat(i);else{let n;n=i,!ri.find(n8(n))&&iX.test(t)&&(i=i1(e,t))}this.setBaseTarget(e,i3(i)?i.get():i)}return i3(i)?i.get():i}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){let t,{initial:n}=this.props;if("string"==typeof n||"object"==typeof n){var i;let r=rj(this.props,n,null==(i=this.presenceContext)?void 0:i.custom);r&&(t=r[e])}if(n&&void 0!==t)return t;let r=this.getBaseTargetFromProps(this.props,e);return void 0===r||i3(r)?void 0!==this.initialValues[e]&&void 0===t?void 0:this.baseTarget[e]:r}on(e,t){return this.events[e]||(this.events[e]=new i7),this.events[e].add(t)}notify(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){rr.render(this.render)}constructor({parent:e,props:t,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:r,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=iT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{let e=i6.now();this.renderScheduledAt<e&&(this.renderScheduledAt=e,ig.render(this.render,!1,!0))};let{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=t.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=t,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!r,this.isControllingVariants=ry(t),this.isVariantNode=rb(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);let{willChange:u,...d}=this.scrapeMotionValuesFromProps(t,{},this);for(let e in d){let t=d[e];void 0!==o[e]&&i3(t)&&t.set(o[e])}}}class rN extends rS{sortInstanceNodePosition(e,t){return 2&e.compareDocumentPosition(t)?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,t){let{vars:n,style:i}=t;delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);let{children:e}=this.props;i3(e)&&(this.childSubscription=e.on("change",e=>{this.current&&(this.current.textContent="".concat(e))}))}constructor(){super(...arguments),this.KeyframeResolver=i5}}let rT=(e,t)=>t&&"number"==typeof e?t.transform(e):e,rC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rP=nb.length;function rM(e,t,n){let{style:i,vars:r,transformOrigin:s}=e,a=!1,o=!1;for(let e in t){let n=t[e];if(nw.has(e)){a=!0;continue}if(nD(e)){r[e]=n;continue}{let t=rT(n,iJ[e]);e.startsWith("origin")?(o=!0,s[e]=t):i[e]=t}}if(!t.transform&&(a||n?i.transform=function(e,t,n){let i="",r=!0;for(let s=0;s<rP;s++){let a=nb[s],o=e[a];if(void 0===o)continue;let l=!0;if(!(l="number"==typeof o?o===+!!a.startsWith("scale"):0===parseFloat(o))||n){let e=rT(o,iJ[a]);if(!l){r=!1;let t=rC[a]||a;i+="".concat(t,"(").concat(e,") ")}n&&(t[a]=e)}}return i=i.trim(),n?i=n(t,r?"":i):r&&(i="none"),i}(t,e.transform,n):i.transform&&(i.transform="none")),o){let{originX:e="50%",originY:t="50%",originZ:n=0}=s;i.transformOrigin="".concat(e," ").concat(t," ").concat(n)}}function rE(e,t,n,i){let r,{style:s,vars:a}=t,o=e.style;for(r in s)o[r]=s[r];for(r in null==i||i.applyProjectionStyles(o,n),a)o.setProperty(r,a[r])}let rA={};function rR(e,t){let{layout:n,layoutId:i}=t;return nw.has(e)||e.startsWith("origin")||(n||void 0!==i)&&(!!rA[e]||"opacity"===e)}function rD(e,t,n){let{style:i}=e,r={};for(let a in i){var s;(i3(i[a])||t.style&&i3(t.style[a])||rR(a,e)||(null==n||null==(s=n.getValue(a))?void 0:s.liveStyle)!==void 0)&&(r[a]=i[a])}return r}class rz extends rN{readValueFromInstance(e,t){var n;if(nw.has(t))return(null==(n=this.projection)?void 0:n.isProjecting)?nM(t):((e,t)=>{let{transform:n="none"}=getComputedStyle(e);return nE(n,t)})(e,t);{let n=window.getComputedStyle(e),i=(nD(t)?n.getPropertyValue(t):n[t])||0;return"string"==typeof i?i.trim():i}}measureInstanceViewportBox(e,t){let{transformPagePoint:n}=t;return nG(e,n)}build(e,t,n){rM(e,t,n.transformTemplate)}scrapeMotionValuesFromProps(e,t,n){return rD(e,t,n)}constructor(){super(...arguments),this.type="html",this.renderInstance=rE}}let rV=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),rL={offset:"stroke-dashoffset",array:"stroke-dasharray"},rF={offset:"strokeDashoffset",array:"strokeDasharray"};function rB(e,t,n,i,r){var s,a;let{attrX:o,attrY:l,attrScale:u,pathLength:d,pathSpacing:c=1,pathOffset:h=0,...p}=t;if(rM(e,p,i),n){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};let{attrs:m,style:f}=e;m.transform&&(f.transform=m.transform,delete m.transform),(f.transform||m.transformOrigin)&&(f.transformOrigin=null!=(s=m.transformOrigin)?s:"50% 50%",delete m.transformOrigin),f.transform&&(f.transformBox=null!=(a=null==r?void 0:r.transformBox)?a:"fill-box",delete m.transformBox),void 0!==o&&(m.x=o),void 0!==l&&(m.y=l),void 0!==u&&(m.scale=u),void 0!==d&&function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=!(arguments.length>4)||void 0===arguments[4]||arguments[4];e.pathLength=1;let s=r?rL:rF;e[s.offset]=n3.transform(-i);let a=n3.transform(t),o=n3.transform(n);e[s.array]="".concat(a," ").concat(o)}(m,d,c,h,!1)}let rO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),rI=e=>"string"==typeof e&&"svg"===e.toLowerCase();function r_(e,t,n){let i=rD(e,t,n);for(let n in e)(i3(e[n])||i3(t[n]))&&(i[-1!==nb.indexOf(n)?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n]=e[n]);return i}class rU extends rN{getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(nw.has(t)){let e=i0(t);return e&&e.default||0}return t=rO.has(t)?t:rV(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,n){return r_(e,t,n)}build(e,t,n){rB(e,t,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,t,n,i){for(let n in rE(e,t,void 0,i),t.attrs)e.setAttribute(rO.has(n)?n:rV(n),t.attrs[n])}mount(e){this.isSVGTag=rI(e.tagName),super.mount(e)}constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=rd}}let rW=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rH(e){if("string"!=typeof e||e.includes("-"));else if(rW.indexOf(e)>-1||/[A-Z]/u.test(e))return!0;return!1}let rq=(0,i.createContext)({}),rX=(0,i.createContext)({strict:!1}),rY=(0,i.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),rK=(0,i.createContext)({});function rG(e){return Array.isArray(e)?e.join(" "):e}let rZ=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function r$(e,t,n){for(let i in t)i3(t[i])||rR(i,n)||(e[i]=t[i])}let rJ=()=>({...rZ(),attrs:{}}),rQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function r0(e){return e.startsWith("while")||e.startsWith("drag")&&"draggable"!==e||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||rQ.has(e)}let r1=e=>!r0(e);try{!function(e){"function"==typeof e&&(r1=t=>t.startsWith("on")?!r0(t):e(t))}((()=>{let e=Error("Cannot find module '@emotion/is-prop-valid'");throw e.code="MODULE_NOT_FOUND",e})().default)}catch(e){}let r2=(0,i.createContext)(null);function r5(e){let t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}function r3(e){return i3(e)?e.get():e}let r4=e=>(t,n)=>{let r=(0,i.useContext)(rK),s=(0,i.useContext)(r2),a=()=>(function(e,t,n,i){let{scrapeMotionValuesFromProps:r,createRenderState:s}=e;return{latestValues:function(e,t,n,i){let r={},s=i(e,{});for(let e in s)r[e]=r3(s[e]);let{initial:a,animate:o}=e,l=ry(e),u=rb(e);t&&u&&!l&&!1!==e.inherit&&(void 0===a&&(a=t.initial),void 0===o&&(o=t.animate));let d=!!n&&!1===n.initial,c=(d=d||!1===a)?o:a;if(c&&"boolean"!=typeof c&&!rf(c)){let t=Array.isArray(c)?c:[c];for(let n=0;n<t.length;n++){let i=rj(e,t[n]);if(i){let{transitionEnd:e,transition:t,...n}=i;for(let e in n){let t=n[e];if(Array.isArray(t)){let e=d?t.length-1:0;t=t[e]}null!==t&&(r[e]=t)}for(let t in e)r[t]=e[t]}}}return r}(t,n,i,r),renderState:s()}})(e,t,r,s);return n?a():r5(a)},r6=r4({scrapeMotionValuesFromProps:rD,createRenderState:rZ}),r9=r4({scrapeMotionValuesFromProps:r_,createRenderState:rJ}),r8=Symbol.for("motionComponentSymbol");function r7(e){return e&&"object"==typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}let se="data-"+rV("framerAppearId"),st=(0,i.createContext)({}),sn=rc?i.useLayoutEffect:i.useEffect;function si(e){var t,r;let{forwardMotionProps:s=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0;a&&function(e){for(let t in e)ra[t]={...ra[t],...e[t]}}(a);let l=rH(e)?r9:r6;function u(t,r){var a;let u,d={...(0,i.useContext)(rY),...t,layoutId:function(e){let{layoutId:t}=e,n=(0,i.useContext)(rq).id;return n&&void 0!==t?n+"-"+t:t}(t)},{isStatic:c}=d,h=function(e){let{initial:t,animate:n}=function(e,t){if(ry(e)){let{initial:t,animate:n}=e;return{initial:!1===t||rg(t)?t:void 0,animate:rg(n)?n:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(rK));return(0,i.useMemo)(()=>({initial:t,animate:n}),[rG(t),rG(n)])}(t),p=l(t,c);if(!c&&rc){(0,i.useContext)(rX).strict;let t=function(e){let{drag:t,layout:n}=ra;if(!t&&!n)return{};let i={...t,...n};return{MeasureLayout:(null==t?void 0:t.isEnabled(e))||(null==n?void 0:n.isEnabled(e))?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}(d);u=t.MeasureLayout,h.visualElement=function(e,t,n,r,s){var a,o,l,u;let{visualElement:d}=(0,i.useContext)(rK),c=(0,i.useContext)(rX),h=(0,i.useContext)(r2),p=(0,i.useContext)(rY).reducedMotion,m=(0,i.useRef)(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:d,props:n,presenceContext:h,blockInitialAnimation:!!h&&!1===h.initial,reducedMotionConfig:p}));let f=m.current,g=(0,i.useContext)(st);f&&!f.projection&&s&&("html"===f.type||"svg"===f.type)&&function(e,t,n,i){let{layoutId:r,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:function e(t){if(t)return!1!==t.options.allowProjection?t.projection:e(t.parent)}(e.parent)),e.projection.setOptions({layoutId:r,layout:s,alwaysMeasureLayout:!!a||o&&r7(o),visualElement:e,animationType:"string"==typeof s?s:"both",initialPromotionConfig:i,crossfade:d,layoutScroll:l,layoutRoot:u})}(m.current,n,s,g);let v=(0,i.useRef)(!1);(0,i.useInsertionEffect)(()=>{f&&v.current&&f.update(n,h)});let x=n[se],y=(0,i.useRef)(!!x&&!(null==(a=(o=window).MotionHandoffIsComplete)?void 0:a.call(o,x))&&(null==(l=(u=window).MotionHasOptimisedAnimation)?void 0:l.call(u,x)));return sn(()=>{f&&(v.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),y.current&&f.animationState&&f.animationState.animateChanges())}),(0,i.useEffect)(()=>{f&&(!y.current&&f.animationState&&f.animationState.animateChanges(),y.current&&(queueMicrotask(()=>{var e,t;null==(e=(t=window).MotionHandoffMarkAsComplete)||e.call(t,x)}),y.current=!1),f.enteringChildren=void 0)}),f}(e,p,d,o,t.ProjectionNode)}return(0,n.jsxs)(rK.Provider,{value:h,children:[u&&h.visualElement?(0,n.jsx)(u,{visualElement:h.visualElement,...d}):null,function(e,t,n,r,s){let{latestValues:a}=r,o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=(rH(e)?function(e,t,n,r){let s=(0,i.useMemo)(()=>{let n=rJ();return rB(n,t,rI(r),e.transformTemplate,e.style),{...n.attrs,style:{...n.style}}},[t]);if(e.style){let t={};r$(t,e.style,e),s.style={...t,...s.style}}return s}:function(e,t){let n={},r=function(e,t){let n=e.style||{},r={};return r$(r,n,e),Object.assign(r,function(e,t){let{transformTemplate:n}=e;return(0,i.useMemo)(()=>{let e=rZ();return rM(e,t,n),Object.assign({},e.vars,e.style)},[t])}(e,t)),r}(e,t);return e.drag&&!1!==e.dragListener&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),void 0===e.tabIndex&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n})(t,a,s,e),u=function(e,t,n){let i={};for(let r in e)("values"!==r||"object"!=typeof e.values)&&(r1(r)||!0===n&&r0(r)||!t&&!r0(r)||e.draggable&&r.startsWith("onDrag"))&&(i[r]=e[r]);return i}(t,"string"==typeof e,o),d=e!==i.Fragment?{...u,...l,ref:n}:{},{children:c}=t,h=(0,i.useMemo)(()=>i3(c)?c.get():c,[c]);return(0,i.createElement)(e,{...d,children:h})}(e,t,(a=h.visualElement,(0,i.useCallback)(e=>{e&&p.onMount&&p.onMount(e),a&&(e?a.mount(e):a.unmount()),r&&("function"==typeof r?r(e):r7(r)&&(r.current=e))},[a])),p,c,s)]})}u.displayName="motion.".concat("string"==typeof e?e:"create(".concat(null!=(r=null!=(t=e.displayName)?t:e.name)?r:"",")"));let d=(0,i.forwardRef)(u);return d[r8]=e,d}function sr(e,t,n){let i=e.getProps();return rj(i,t,void 0!==n?n:i.custom,e)}function ss(e,t){var n,i;return null!=(i=null!=(n=null==e?void 0:e[t])?n:null==e?void 0:e.default)?i:e}let sa=e=>Array.isArray(e);function so(e,t){let n=e.getValue("willChange");if(i3(n)&&n.add)return n.add(t);if(!n&&ic.WillChange){let n=new ic.WillChange("auto");e.addValue("willChange",n),n.add(t)}}function sl(e){e.duration=0,e.type="keyframes"}let su=(e,t)=>n=>t(e(n)),sd=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(su)},sc=e=>1e3*e,sh={layout:0,mainThread:0,waapi:0};function sp(e,t,n){return(n<0&&(n+=1),n>1&&(n-=1),n<1/6)?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function sm(e,t){return n=>n>0?t:e}let sf=(e,t,n)=>{let i=e*e,r=n*(t*t-i)+i;return r<0?0:Math.sqrt(r)},sg=[iV,iz,iL];function sv(e){let t=sg.find(t=>t.test(e));if(it(!!t,"'".concat(e,"' is not an animatable color. Use the equivalent color code instead."),"color-not-animatable"),!t)return!1;let n=t.parse(e);return t===iL&&(n=function(e){let{hue:t,saturation:n,lightness:i,alpha:r}=e;t/=360,i/=100;let s=0,a=0,o=0;if(n/=100){let e=i<.5?i*(1+n):i+n-i*n,r=2*i-e;s=sp(r,e,t+1/3),a=sp(r,e,t),o=sp(r,e,t-1/3)}else s=a=o=i;return{red:Math.round(255*s),green:Math.round(255*a),blue:Math.round(255*o),alpha:r}}(n)),n}let sx=(e,t)=>{let n=sv(e),i=sv(t);if(!n||!i)return sm(e,t);let r={...n};return e=>(r.red=sf(n.red,i.red,e),r.green=sf(n.green,i.green,e),r.blue=sf(n.blue,i.blue,e),r.alpha=nB(n.alpha,i.alpha,e),iz.transform(r))},sy=new Set(["none","hidden"]);function sb(e,t){return n=>nB(e,t,n)}function sw(e){return"number"==typeof e?sb:"string"==typeof e?nV(e)?sm:iF.test(e)?sx:sS:Array.isArray(e)?sj:"object"==typeof e?iF.test(e)?sx:sk:sm}function sj(e,t){let n=[...e],i=n.length,r=e.map((e,n)=>sw(e)(e,t[n]));return e=>{for(let t=0;t<i;t++)n[t]=r[t](e);return n}}function sk(e,t){let n={...e,...t},i={};for(let r in n)void 0!==e[r]&&void 0!==t[r]&&(i[r]=sw(e[r])(e[r],t[r]));return e=>{for(let t in i)n[t]=i[t](e);return n}}let sS=(e,t)=>{let n=iX.createTransformer(t),i=iU(e),r=iU(t);return i.indexes.var.length===r.indexes.var.length&&i.indexes.color.length===r.indexes.color.length&&i.indexes.number.length>=r.indexes.number.length?sy.has(e)&&!r.values.length||sy.has(t)&&!i.values.length?function(e,t){return sy.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}(e,t):sd(sj(function(e,t){let n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){var r;let a=t.types[s],o=e.indexes[a][i[a]],l=null!=(r=e.values[o])?r:0;n[s]=l,i[a]++}return n}(i,r),r.values),n):(it(!0,"Complex values '".concat(e,"' and '").concat(t,"' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition."),"complex-values-different"),sm(e,t))};function sN(e,t,n){return"number"==typeof e&&"number"==typeof t&&"number"==typeof n?nB(e,t,n):sw(e)(e,t)}let sT=e=>{let t=t=>{let{timestamp:n}=t;return e(n)};return{start:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return ig.update(t,e)},stop:()=>iv(t),now:()=>ix.isProcessing?ix.timestamp:i6.now()}},sC=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,i="",r=Math.max(Math.round(t/n),2);for(let t=0;t<r;t++)i+=Math.round(1e4*e(t/(r-1)))/1e4+", ";return"linear(".concat(i.substring(0,i.length-2),")")};function sP(e){let t=0,n=e.next(t);for(;!n.done&&t<2e4;)t+=50,n=e.next(t);return t>=2e4?1/0:t}function sM(e,t,n){var i,r;let s=Math.max(t-5,0);return i=n-e(s),(r=t-s)?1e3/r*i:0}let sE={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1};function sA(e,t){return e*Math.sqrt(1-t*t)}let sR=["duration","bounce"],sD=["stiffness","damping","mass"];function sz(e,t){return t.some(t=>void 0!==e[t])}function sV(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sE.visualDuration,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sE.bounce,i="object"!=typeof t?{visualDuration:t,keyframes:[0,1],bounce:n}:t,{restSpeed:r,restDelta:s}=i,a=i.keyframes[0],o=i.keyframes[i.keyframes.length-1],l={done:!1,value:a},{stiffness:u,damping:d,mass:c,duration:h,velocity:p,isResolvedFromDuration:m}=function(e){let t={velocity:sE.velocity,stiffness:sE.stiffness,damping:sE.damping,mass:sE.mass,isResolvedFromDuration:!1,...e};if(!sz(e,sD)&&sz(e,sR))if(e.visualDuration){let n=2*Math.PI/(1.2*e.visualDuration),i=n*n,r=2*n$(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:sE.mass,stiffness:i,damping:r}}else{let n=function(e){let t,n,{duration:i=sE.duration,bounce:r=sE.bounce,velocity:s=sE.velocity,mass:a=sE.mass}=e;it(i<=sc(sE.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-r;o=n$(sE.minDamping,sE.maxDamping,o),i=n$(sE.minDuration,sE.maxDuration,i/1e3),o<1?(t=e=>{let t=e*o,n=t*i;return .001-(t-s)/sA(e,o)*Math.exp(-n)},n=e=>{let n=e*o*i,r=Math.pow(o,2)*Math.pow(e,2)*i,a=Math.exp(-n),l=sA(Math.pow(e,2),o);return(n*s+s-r)*a*(-t(e)+.001>0?-1:1)/l}):(t=e=>-.001+Math.exp(-e*i)*((e-s)*i+1),n=e=>i*i*(s-e)*Math.exp(-e*i));let l=function(e,t,n){let i=n;for(let n=1;n<12;n++)i-=e(i)/t(i);return i}(t,n,5/i);if(i=sc(i),isNaN(l))return{stiffness:sE.stiffness,damping:sE.damping,duration:i};{let e=Math.pow(l,2)*a;return{stiffness:e,damping:2*o*Math.sqrt(a*e),duration:i}}}(e);(t={...t,...n,mass:sE.mass}).isResolvedFromDuration=!0}return t}({...i,velocity:-((i.velocity||0)/1e3)}),f=p||0,g=d/(2*Math.sqrt(u*c)),v=o-a,x=Math.sqrt(u/c)/1e3,y=5>Math.abs(v);if(r||(r=y?sE.restSpeed.granular:sE.restSpeed.default),s||(s=y?sE.restDelta.granular:sE.restDelta.default),g<1){let t=sA(x,g);e=e=>o-Math.exp(-g*x*e)*((f+g*x*v)/t*Math.sin(t*e)+v*Math.cos(t*e))}else if(1===g)e=e=>o-Math.exp(-x*e)*(v+(f+x*v)*e);else{let t=x*Math.sqrt(g*g-1);e=e=>{let n=Math.exp(-g*x*e),i=Math.min(t*e,300);return o-n*((f+g*x*v)*Math.sinh(i)+t*v*Math.cosh(i))/t}}let b={calculatedDuration:m&&h||null,next:t=>{let n=e(t);if(m)l.done=t>=h;else{let i=0===t?f:0;g<1&&(i=0===t?sc(f):sM(e,t,n));let a=Math.abs(o-n)<=s;l.done=Math.abs(i)<=r&&a}return l.value=l.done?o:n,l},toString:()=>{let e=Math.min(sP(b),2e4),t=sC(t=>b.next(e*t).value,e,30);return e+"ms "+t},toTransition:()=>{}};return b}function sL(e){let t,n,{keyframes:i,velocity:r=0,power:s=.8,timeConstant:a=325,bounceDamping:o=10,bounceStiffness:l=500,modifyTarget:u,min:d,max:c,restDelta:h=.5,restSpeed:p}=e,m=i[0],f={done:!1,value:m},g=s*r,v=m+g,x=void 0===u?v:u(v);x!==v&&(g=x-m);let y=e=>-g*Math.exp(-e/a),b=e=>x+y(e),w=e=>{let t=y(e),n=b(e);f.done=Math.abs(t)<=h,f.value=f.done?x:n},j=e=>{let i;if(i=f.value,void 0!==d&&i<d||void 0!==c&&i>c){var r;t=e,n=sV({keyframes:[f.value,(r=f.value,void 0===d?c:void 0===c||Math.abs(d-r)<Math.abs(c-r)?d:c)],velocity:sM(b,e,f.value),damping:o,stiffness:l,restDelta:h,restSpeed:p})}};return j(0),{calculatedDuration:null,next:e=>{let i=!1;return(n||void 0!==t||(i=!0,w(e),j(e)),void 0!==t&&e>=t)?n.next(e-t):(i||w(e),f)}}}sV.applyToOptions=e=>{let t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0,i=n({...e,keyframes:[0,t]}),r=Math.min(sP(i),2e4);return{type:"keyframes",ease:e=>i.next(r*e).value/t,duration:r/1e3}}(e,100,sV);return e.ease=t.ease,e.duration=sc(t.duration),e.type="keyframes",e};let sF=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e;function sB(e,t,n,i){return e===t&&n===i?id:r=>0===r||1===r?r:sF(function(e,t,n,i,r){let s,a,o=0;do(s=sF(a=t+(n-t)/2,i,r)-e)>0?n=a:t=a;while(Math.abs(s)>1e-7&&++o<12)return a}(r,0,1,e,n),t,i)}let sO=sB(.42,0,1,1),sI=sB(0,0,.58,1),s_=sB(.42,0,.58,1),sU=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,sW=e=>t=>1-e(1-t),sH=sB(.33,1.53,.69,.99),sq=sW(sH),sX=sU(sq),sY=e=>(e*=2)<1?.5*sq(e):.5*(2-Math.pow(2,-10*(e-1))),sK=e=>1-Math.sin(Math.acos(e)),sG=sW(sK),sZ=sU(sK),s$=e=>Array.isArray(e)&&"number"==typeof e[0],sJ={linear:id,easeIn:sO,easeInOut:s_,easeOut:sI,circIn:sK,circInOut:sZ,circOut:sG,backIn:sq,backInOut:sX,backOut:sH,anticipate:sY},sQ=e=>{if(s$(e)){ii(4===e.length,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");let[t,n,i,r]=e;return sB(t,n,i,r)}return"string"==typeof e?(ii(void 0!==sJ[e],"Invalid easing type '".concat(e,"'"),"invalid-easing-type"),sJ[e]):e},s0=(e,t,n)=>{let i=t-e;return 0===i?1:(n-e)/i};function s1(e){var t;let{duration:n=300,keyframes:i,times:r,ease:s="easeInOut"}=e,a=Array.isArray(s)&&"number"!=typeof s[0]?s.map(sQ):sQ(s),o={done:!1,value:i[0]},l=function(e,t){let{clamp:n=!0,ease:i,mixer:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=e.length;if(ii(s===t.length,"Both input and output ranges must be the same length","range-length"),1===s)return()=>t[0];if(2===s&&t[0]===t[1])return()=>t[1];let a=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());let o=function(e,t,n){let i=[],r=n||ic.mix||sN,s=e.length-1;for(let n=0;n<s;n++){let s=r(e[n],e[n+1]);t&&(s=sd(Array.isArray(t)?t[n]||id:t,s)),i.push(s)}return i}(t,i,r),l=o.length,u=n=>{if(a&&n<e[0])return t[0];let i=0;if(l>1)for(;i<e.length-2&&!(n<e[i+1]);i++);let r=s0(e[i],e[i+1],n);return o[i](r)};return n?t=>u(n$(e[0],e[s-1],t)):u}((t=r&&r.length===i.length?r:function(e){let t=[0];return!function(e,t){let n=e[e.length-1];for(let i=1;i<=t;i++){let r=s0(0,t,i);e.push(nB(n,1,r))}}(t,e.length-1),t}(i),t.map(e=>e*n)),i,{ease:Array.isArray(a)?a:i.map(()=>a||s_).splice(0,i.length-1)});return{calculatedDuration:n,next:e=>(o.value=l(e),o.done=e>=n,o)}}let s2=e=>null!==e;function s5(e,t,n){let{repeat:i,repeatType:r="loop"}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=e.filter(s2),o=s<0||i&&"loop"!==r&&i%2==1?0:a.length-1;return o&&void 0!==n?n:a[o]}let s3={decay:sL,inertia:sL,tween:s1,keyframes:s1,spring:sV};function s4(e){"string"==typeof e.type&&(e.type=s3[e.type])}class s6{get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,t){return this.finished.then(e,t)}constructor(){this.updateFinished()}}let s9=e=>e/100;class s8 extends s6{initAnimation(){let{options:e}=this;s4(e);let{type:t=s1,repeat:n=0,repeatDelay:i=0,repeatType:r,velocity:s=0}=e,{keyframes:a}=e,o=t||s1;o!==s1&&"number"!=typeof a[0]&&(this.mixKeyframes=sd(s9,sN(a[0],a[1])),a=[0,100]);let l=o({...e,keyframes:a});"mirror"===r&&(this.mirroredGenerator=o({...e,keyframes:[...a].reverse(),velocity:-s})),null===l.calculatedDuration&&(l.calculatedDuration=sP(l));let{calculatedDuration:u}=l;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=l}updateTime(e){let t=Math.round(e-this.startTime)*this.playbackSpeed;null!==this.holdTime?this.currentTime=this.holdTime:this.currentTime=t}tick(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{generator:n,totalDuration:i,mixKeyframes:r,mirroredGenerator:s,resolvedDuration:a,calculatedDuration:o}=this;if(null===this.startTime)return n.next(0);let{delay:l=0,keyframes:u,repeat:d,repeatType:c,repeatDelay:h,type:p,onUpdate:m,finalKeyframe:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),t?this.currentTime=e:this.updateTime(e);let g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),"finished"===this.state&&null===this.holdTime&&(this.currentTime=i);let x=this.currentTime,y=n;if(d){let e=Math.min(this.currentTime,i)/a,t=Math.floor(e),n=e%1;!n&&e>=1&&(n=1),1===n&&t--,(t=Math.min(t,d+1))%2&&("reverse"===c?(n=1-n,h&&(n-=h/a)):"mirror"===c&&(y=s)),x=n$(0,1,n)*a}let b=v?{done:!1,value:u[0]}:y.next(x);r&&(b.value=r(b.value));let{done:w}=b;v||null===o||(w=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);let j=null===this.holdTime&&("finished"===this.state||"running"===this.state&&w);return j&&p!==sL&&(b.value=s5(u,this.options,f,this.speed)),m&&m(b.value),j&&this.finish(),b}then(e,t){return this.finished.then(e,t)}get duration(){return this.calculatedDuration/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return this.currentTime/1e3}set time(e){var t;e=sc(e),this.currentTime=e,null===this.startTime||null!==this.holdTime||0===this.playbackSpeed?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),null==(t=this.driver)||t.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(i6.now());let t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=this.currentTime/1e3)}play(){var e,t;if(this.isStopped)return;let{driver:n=sT,startTime:i}=this.options;this.driver||(this.driver=n(e=>this.tick(e))),null==(e=(t=this.options).onPlay)||e.call(t);let r=this.driver.now();"finished"===this.state?(this.updateFinished(),this.startTime=r):null!==this.holdTime?this.startTime=r-this.holdTime:this.startTime||(this.startTime=null!=i?i:r),"finished"===this.state&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(i6.now()),this.holdTime=this.currentTime}complete(){"running"!==this.state&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,t;this.notifyFinished(),this.teardown(),this.state="finished",null==(e=(t=this.options).onComplete)||e.call(t)}cancel(){var e,t;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),null==(e=(t=this.options).onCancel)||e.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null,sh.mainThread--}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var t;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),null==(t=this.driver)||t.stop(),e.observe(this)}constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var e,t;let{motionValue:n}=this.options;n&&n.updatedAt!==i6.now()&&this.tick(i6.now()),this.isStopped=!0,"idle"!==this.state&&(this.teardown(),null==(e=(t=this.options).onStop)||e.call(t))},sh.mainThread++,this.options=e,this.initAnimation(),this.play(),!1===e.autoplay&&this.pause()}}function s7(e){let t;return()=>(void 0===t&&(t=e()),t)}let ae=s7(()=>void 0!==window.ScrollTimeline),at={},an=function(e,t){let n=s7(e);return()=>{var e;return null!=(e=at[t])?e:n()}}(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch(e){return!1}return!0},"linearEasing"),ai=e=>{let[t,n,i,r]=e;return"cubic-bezier(".concat(t,", ").concat(n,", ").concat(i,", ").concat(r,")")},ar={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ai([0,.65,.55,1]),circOut:ai([.55,0,1,.45]),backIn:ai([.31,.01,.66,-.59]),backOut:ai([.33,1.53,.69,.99])};function as(e){return"function"==typeof e&&"applyToOptions"in e}class aa extends s6{play(){this.isStopped||(this.animation.play(),"finished"===this.state&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,t;null==(e=(t=this.animation).finish)||e.call(t)}cancel(){try{this.animation.cancel()}catch(e){}}stop(){if(this.isStopped)return;this.isStopped=!0;let{state:e}=this;"idle"!==e&&"finished"!==e&&(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){if(!this.isPseudoElement){var e,t;null==(e=(t=this.animation).commitStyles)||e.call(t)}}get duration(){var e,t;return Number((null==(t=this.animation.effect)||null==(e=t.getComputedTiming)?void 0:e.call(t).duration)||0)/1e3}get iterationDuration(){let{delay:e=0}=this.options||{};return this.duration+e/1e3}get time(){return(Number(this.animation.currentTime)||0)/1e3}set time(e){this.finishedTime=null,this.animation.currentTime=sc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return null!==this.finishedTime?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline(e){let{timeline:t,observe:n}=e;if(this.allowFlatten){var i;null==(i=this.animation.effect)||i.updateTiming({easing:"linear"})}return(this.animation.onfinish=null,t&&ae())?(this.animation.timeline=t,id):n(this)}constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;let{element:t,name:n,keyframes:i,pseudoElement:r,allowFlatten:s=!1,finalKeyframe:a,onComplete:o}=e;this.isPseudoElement=!!r,this.allowFlatten=s,this.options=e,ii("string"!=typeof e.type,'Mini animate() doesn\'t support "type" as a string.',"mini-spring");let l=function(e){let{type:t,...n}=e;return as(t)&&an()?t.applyToOptions(n):(null!=n.duration||(n.duration=300),null!=n.ease||(n.ease="easeOut"),n)}(e);this.animation=function(e,t,n){let{delay:i=0,duration:r=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,d={[t]:n};l&&(d.offset=l);let c=function e(t,n){if(t)return"function"==typeof t?an()?sC(t,n):"ease-out":s$(t)?ai(t):Array.isArray(t)?t.map(t=>e(t,n)||ar.easeOut):ar[t]}(o,r);Array.isArray(c)&&(d.easing=c),ip.value&&sh.waapi++;let h={delay:i,duration:r,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:"reverse"===a?"alternate":"normal"};u&&(h.pseudoElement=u);let p=e.animate(d,h);return ip.value&&p.finished.finally(()=>{sh.waapi--}),p}(t,n,i,l,r),!1===l.autoplay&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!r){let e=s5(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(e):function(e,t,n){t.startsWith("--")?e.style.setProperty(t,n):e.style[t]=n}(t,n,e),this.animation.cancel()}null==o||o(),this.notifyFinished()}}}let ao={anticipate:sY,backInOut:sX,circInOut:sZ};class al extends aa{updateMotionValue(e){var t;let{motionValue:n,onUpdate:i,onComplete:r,element:s,...a}=this.options;if(!n)return;if(void 0!==e)return void n.set(e);let o=new s8({...a,autoplay:!1}),l=sc(null!=(t=this.finishedTime)?t:this.time);n.setWithVelocity(o.sample(l-10).value,o.sample(l).value,10),o.stop()}constructor(e){!function(e){"string"==typeof e.ease&&e.ease in ao&&(e.ease=ao[e.ease])}(e),s4(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}}let au=(e,t)=>"zIndex"!==t&&!!("number"==typeof e||Array.isArray(e)||"string"==typeof e&&(iX.test(e)||"0"===e)&&!e.startsWith("url(")),ad=new Set(["opacity","clipPath","filter","transform"]),ac=s7(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));class ah extends s6{onKeyframesResolved(e,t,n,i){this.keyframeResolver=void 0;let{name:r,type:s,velocity:a,delay:o,isHandoff:l,onUpdate:u}=n;this.resolvedAt=i6.now(),!function(e,t,n,i){let r=e[0];if(null===r)return!1;if("display"===t||"visibility"===t)return!0;let s=e[e.length-1],a=au(r,t),o=au(s,t);return it(a===o,"You are trying to animate ".concat(t,' from "').concat(r,'" to "').concat(s,'". "').concat(a?s:r,'" is not an animatable value.'),"value-not-animatable"),!!a&&!!o&&(function(e){let t=e[0];if(1===e.length)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}(e)||("spring"===n||as(n))&&i)}(e,r,s,a)&&((ic.instantAnimations||!o)&&(null==u||u(s5(e,n,t))),e[0]=e[e.length-1],sl(n),n.repeat=0);let d={startTime:i?this.resolvedAt&&this.resolvedAt-this.createdAt>40?this.resolvedAt:this.createdAt:void 0,finalKeyframe:t,...n,keyframes:e},c=!l&&function(e){var t;let{motionValue:n,name:i,repeatDelay:r,repeatType:s,damping:a,type:o}=e;if(!((null==n||null==(t=n.owner)?void 0:t.current)instanceof HTMLElement))return!1;let{onUpdate:l,transformTemplate:u}=n.owner.getProps();return ac()&&i&&ad.has(i)&&("transform"!==i||!u)&&!l&&!r&&"mirror"!==s&&0!==a&&"inertia"!==o}(d)?new al({...d,element:d.motionValue.owner.current}):new s8(d);c.finished.then(()=>this.notifyFinished()).catch(id),this.pendingTimeline&&(this.stopTimeline=c.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=c}get finished(){return this._animation?this.animation.finished:this._finished}then(e,t){return this.finished.finally(e).then(()=>{})}get animation(){if(!this._animation){var e;null==(e=this.keyframeResolver)||e.resume(),ik=!0,iN(),iS(),ik=!1}return this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),null==(e=this.keyframeResolver)||e.cancel()}constructor({autoplay:e=!0,delay:t=0,type:n="keyframes",repeat:i=0,repeatDelay:r=0,repeatType:s="loop",keyframes:a,name:o,motionValue:l,element:u,...d}){var c;super(),this.stop=()=>{var e,t;this._animation&&(this._animation.stop(),null==(t=this.stopTimeline)||t.call(this)),null==(e=this.keyframeResolver)||e.cancel()},this.createdAt=i6.now();let h={autoplay:e,delay:t,type:n,repeat:i,repeatDelay:r,repeatType:s,name:o,motionValue:l,element:u,...d},p=(null==u?void 0:u.KeyframeResolver)||iT;this.keyframeResolver=new p(a,(e,t,n)=>this.onKeyframesResolved(e,t,h,!n),o,l,u),null==(c=this.keyframeResolver)||c.scheduleResolve()}}let ap=e=>null!==e,am={type:"spring",stiffness:500,damping:25,restSpeed:10},af={type:"keyframes",duration:.8},ag={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},av=function(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;return a=>{let o=ss(i,e)||{},l=o.delay||i.delay||0,{elapsed:u=0}=i;u-=sc(l);let d={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-u,onUpdate:e=>{t.set(e),o.onUpdate&&o.onUpdate(e)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:r};!function(e){let{when:t,delay:n,delayChildren:i,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:u,elapsed:d,...c}=e;return!!Object.keys(c).length}(o)&&Object.assign(d,((e,t)=>{let{keyframes:n}=t;return n.length>2?af:nw.has(e)?e.startsWith("scale")?{type:"spring",stiffness:550,damping:0===n[1]?2*Math.sqrt(550):30,restSpeed:10}:am:ag})(e,d)),d.duration&&(d.duration=sc(d.duration)),d.repeatDelay&&(d.repeatDelay=sc(d.repeatDelay)),void 0!==d.from&&(d.keyframes[0]=d.from);let c=!1;if(!1!==d.type&&(0!==d.duration||d.repeatDelay)||(sl(d),0===d.delay&&(c=!0)),(ic.instantAnimations||ic.skipAnimations)&&(c=!0,sl(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,c&&!s&&void 0!==t.get()){let e=function(e,t,n){let{repeat:i,repeatType:r="loop"}=t,s=e.filter(ap),a=i&&"loop"!==r&&i%2==1?0:s.length-1;return s[a]}(d.keyframes,o);if(void 0!==e)return void ig.update(()=>{d.onUpdate(e),d.onComplete()})}return o.isSync?new s8(d):new ah(d)}};function ax(e,t){let{delay:n=0,transitionOverride:i,type:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{transition:s=e.getDefaultTransition(),transitionEnd:a,...o}=t;i&&(s=i);let l=[],u=r&&e.animationState&&e.animationState.getState()[r];for(let t in o){var d;let i=e.getValue(t,null!=(d=e.latestValues[t])?d:null),r=o[t];if(void 0===r||u&&function(e,t){let{protectedKeys:n,needsAnimating:i}=e,r=n.hasOwnProperty(t)&&!0!==i[t];return i[t]=!1,r}(u,t))continue;let a={delay:n,...ss(s||{},t)},c=i.get();if(void 0!==c&&!i.isAnimating&&!Array.isArray(r)&&r===c&&!a.velocity)continue;let h=!1;if(window.MotionHandoffAnimation){let n=e.props[se];if(n){let e=window.MotionHandoffAnimation(n,t,ig);null!==e&&(a.startTime=e,h=!0)}}so(e,t),i.start(av(t,i,r,e.shouldReduceMotion&&nZ.has(t)?{type:!1}:a,e,h));let p=i.animation;p&&l.push(p)}return a&&Promise.all(l).then(()=>{ig.update(()=>{a&&function(e,t){let{transitionEnd:n={},transition:i={},...r}=sr(e,t)||{};for(let t in r={...r,...n}){var s;let n=sa(s=r[t])?s[s.length-1]||0:s;e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,rn(n))}}(e,a)})}),l}function ay(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,s=Array.from(e).sort((e,t)=>e.sortNodePosition(t)).indexOf(t),a=e.size,o=(a-1)*i;return"function"==typeof n?n(s,a):1===r?s*i:o-s*i}function ab(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=sr(e,t,"exit"===i.type?null==(n=e.presenceContext)?void 0:n.custom:void 0),{transition:s=e.getDefaultTransition()||{}}=r||{};i.transitionOverride&&(s=i.transitionOverride);let a=r?()=>Promise.all(ax(e,r,i)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{delayChildren:r=0,staggerChildren:a,staggerDirection:o}=s;return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1,a=arguments.length>6?arguments[6]:void 0,o=[];for(let l of e.variantChildren)l.notify("AnimationStart",t),o.push(ab(l,t,{...a,delay:n+("function"==typeof i?0:i)+ay(e.variantChildren,l,i,r,s)}).then(()=>l.notify("AnimationComplete",t)));return Promise.all(o)}(e,t,n,r,a,o,i)}:()=>Promise.resolve(),{when:l}=s;if(!l)return Promise.all([a(),o(i.delay)]);{let[e,t]="beforeChildren"===l?[a,o]:[o,a];return e().then(()=>t())}}function aw(e,t){if(!Array.isArray(t))return!1;let n=t.length;if(n!==e.length)return!1;for(let i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}let aj=rx.length,ak=[...rv].reverse(),aS=rv.length;function aN(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function aT(){return{animate:aN(!0),whileInView:aN(),whileHover:aN(),whileTap:aN(),whileDrag:aN(),whileFocus:aN(),exit:aN()}}class aC{update(){}constructor(e){this.isMounted=!1,this.node=e}}let aP=0,aM={x:!1,y:!1};function aE(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!0};return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n)}let aA=e=>"mouse"===e.pointerType?"number"!=typeof e.button||e.button<=0:!1!==e.isPrimary;function aR(e){return{point:{x:e.pageX,y:e.pageY}}}function aD(e,t,n,i){return aE(e,t,e=>aA(e)&&n(e,aR(e)),i)}function az(e){return e.max-e.min}function aV(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;e.origin=i,e.originPoint=nB(t.min,t.max,e.origin),e.scale=az(n)/az(t),e.translate=nB(n.min,n.max,e.origin)-e.originPoint,(e.scale>=.9999&&e.scale<=1.0001||isNaN(e.scale))&&(e.scale=1),(e.translate>=-.01&&e.translate<=.01||isNaN(e.translate))&&(e.translate=0)}function aL(e,t,n,i){aV(e.x,t.x,n.x,i?i.originX:void 0),aV(e.y,t.y,n.y,i?i.originY:void 0)}function aF(e,t,n){e.min=n.min+t.min,e.max=e.min+az(t)}function aB(e,t,n){e.min=t.min-n.min,e.max=e.min+az(t)}function aO(e,t,n){aB(e.x,t.x,n.x),aB(e.y,t.y,n.y)}function aI(e){return[e("x"),e("y")]}let a_=e=>{let{current:t}=e;return t?t.ownerDocument.defaultView:null},aU=(e,t)=>Math.abs(e-t);class aW{updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),iv(this.updatePoint)}constructor(e,t,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:r=!1,distanceThreshold:s=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let e=aX(this.lastMoveEventInfo,this.history),t=null!==this.startEvent,n=function(e,t){return Math.sqrt(aU(e.x,t.x)**2+aU(e.y,t.y)**2)}(e.offset,{x:0,y:0})>=this.distanceThreshold;if(!t&&!n)return;let{point:i}=e,{timestamp:r}=ix;this.history.push({...i,timestamp:r});let{onStart:s,onMove:a}=this.handlers;t||(s&&s(this.lastMoveEvent,e),this.startEvent=this.lastMoveEvent),a&&a(this.lastMoveEvent,e)},this.handlePointerMove=(e,t)=>{this.lastMoveEvent=e,this.lastMoveEventInfo=aH(t,this.transformPagePoint),ig.update(this.updatePoint,!0)},this.handlePointerUp=(e,t)=>{this.end();let{onEnd:n,onSessionEnd:i,resumeAnimation:r}=this.handlers;if(this.dragSnapToOrigin&&r&&r(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;let s=aX("pointercancel"===e.type?this.lastMoveEventInfo:aH(t,this.transformPagePoint),this.history);this.startEvent&&n&&n(e,s),i&&i(e,s)},!aA(e))return;this.dragSnapToOrigin=r,this.handlers=t,this.transformPagePoint=n,this.distanceThreshold=s,this.contextWindow=i||window;let a=aH(aR(e),this.transformPagePoint),{point:o}=a,{timestamp:l}=ix;this.history=[{...o,timestamp:l}];let{onSessionStart:u}=t;u&&u(e,aX(a,this.history)),this.removeListeners=sd(aD(this.contextWindow,"pointermove",this.handlePointerMove),aD(this.contextWindow,"pointerup",this.handlePointerUp),aD(this.contextWindow,"pointercancel",this.handlePointerUp))}}function aH(e,t){return t?{point:t(e.point)}:e}function aq(e,t){return{x:e.x-t.x,y:e.y-t.y}}function aX(e,t){let{point:n}=e;return{point:n,delta:aq(n,aY(t)),offset:aq(n,t[0]),velocity:function(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,i=null,r=aY(e);for(;n>=0&&(i=e[n],!(r.timestamp-i.timestamp>sc(.1)));)n--;if(!i)return{x:0,y:0};let s=(r.timestamp-i.timestamp)/1e3;if(0===s)return{x:0,y:0};let a={x:(r.x-i.x)/s,y:(r.y-i.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}(t,.1)}}function aY(e){return e[e.length-1]}function aK(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function aG(e,t){let n=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,i]=[i,n]),{min:n,max:i}}function aZ(e,t,n){return{min:a$(e,t),max:a$(e,n)}}function a$(e,t){return"number"==typeof e?e:e[t]||0}let aJ=new WeakMap;class aQ{start(e){let{snapToCursor:t=!1,distanceThreshold:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{presenceContext:i}=this.visualElement;if(i&&!1===i.isPresent)return;let r=e=>{let{dragSnapToOrigin:n}=this.getProps();n?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(aR(e).point)},s=(e,t)=>{let{drag:n,dragPropagation:i,onDragStart:r}=this.getProps();if(n&&!i&&(this.openDragLock&&this.openDragLock(),this.openDragLock=function(e){if("x"===e||"y"===e)if(aM[e])return null;else return aM[e]=!0,()=>{aM[e]=!1};return aM.x||aM.y?null:(aM.x=aM.y=!0,()=>{aM.x=aM.y=!1})}(n),!this.openDragLock))return;this.latestPointerEvent=e,this.latestPanInfo=t,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),aI(e=>{let t=this.getAxisMotionValue(e).get()||0;if(n5.test(t)){let{projection:n}=this.visualElement;if(n&&n.layout){let i=n.layout.layoutBox[e];i&&(t=az(i)*(parseFloat(t)/100))}}this.originPoint[e]=t}),r&&ig.postRender(()=>r(e,t)),so(this.visualElement,"transform");let{animationState:s}=this.visualElement;s&&s.setActive("whileDrag",!0)},a=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t;let{dragPropagation:n,dragDirectionLock:i,onDirectionLock:r,onDrag:s}=this.getProps();if(!n&&!this.openDragLock)return;let{offset:a}=t;if(i&&null===this.currentDirection){this.currentDirection=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}(a),null!==this.currentDirection&&r&&r(this.currentDirection);return}this.updateAxis("x",t.point,a),this.updateAxis("y",t.point,a),this.visualElement.render(),s&&s(e,t)},o=(e,t)=>{this.latestPointerEvent=e,this.latestPanInfo=t,this.stop(e,t),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>aI(e=>{var t;return"paused"===this.getAnimationState(e)&&(null==(t=this.getAxisMotionValue(e).animation)?void 0:t.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new aW(e,{onSessionStart:r,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:n,contextWindow:a_(this.visualElement)})}stop(e,t){let n=e||this.latestPointerEvent,i=t||this.latestPanInfo,r=this.isDragging;if(this.cancel(),!r||!i||!n)return;let{velocity:s}=i;this.startAnimation(s);let{onDragEnd:a}=this.getProps();a&&ig.postRender(()=>a(n,i))}cancel(){this.isDragging=!1;let{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;let{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,n){let{drag:i}=this.getProps();if(!n||!a0(e,i,this.currentDirection))return;let r=this.getAxisMotionValue(e),s=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(s=function(e,t,n){let{min:i,max:r}=t;return void 0!==i&&e<i?e=n?nB(i,e,n.min):Math.max(e,i):void 0!==r&&e>r&&(e=n?nB(r,e,n.max):Math.min(e,r)),e}(s,this.constraints[e],this.elastic[e])),r.set(s)}resolveConstraints(){var e;let{dragConstraints:t,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):null==(e=this.visualElement.projection)?void 0:e.layout,r=this.constraints;t&&r7(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=function(e,t){let{top:n,left:i,bottom:r,right:s}=t;return{x:aK(e.x,i,s),y:aK(e.y,n,r)}}(i.layoutBox,t):this.constraints=!1,this.elastic=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.35;return!1===e?e=0:!0===e&&(e=.35),{x:aZ(e,"left","right"),y:aZ(e,"top","bottom")}}(n),r!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&aI(e=>{!1!==this.constraints&&this.getAxisMotionValue(e)&&(this.constraints[e]=function(e,t){let n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.layoutBox[e],this.constraints[e]))})}resolveRefConstraints(){var e;let{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!r7(t))return!1;let i=t.current;ii(null!==i,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");let{projection:r}=this.visualElement;if(!r||!r.layout)return!1;let s=function(e,t,n){let i=nG(e,n),{scroll:r}=t;return r&&(nX(i.x,r.offset.x),nX(i.y,r.offset.y)),i}(i,r.root,this.visualElement.getTransformPagePoint()),a=(e=r.layout.layoutBox,{x:aG(e.x,s.x),y:aG(e.y,s.y)});if(n){let e=n(function(e){let{x:t,y:n}=e;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!e,e&&(a=nF(e))}return a}startAnimation(e){let{drag:t,dragMomentum:n,dragElastic:i,dragTransition:r,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),o=this.constraints||{};return Promise.all(aI(a=>{if(!a0(a,t,this.currentDirection))return;let l=o&&o[a]||{};s&&(l={min:0,max:0});let u={type:"inertia",velocity:n?e[a]:0,bounceStiffness:i?200:1e6,bounceDamping:i?40:1e7,timeConstant:750,restDelta:1,restSpeed:10,...r,...l};return this.startAxisValueAnimation(a,u)})).then(a)}startAxisValueAnimation(e,t){let n=this.getAxisMotionValue(e);return so(this.visualElement,e),n.start(av(e,n,0,t,this.visualElement,!1))}stopAnimation(){aI(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){aI(e=>{var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.pause()})}getAnimationState(e){var t;return null==(t=this.getAxisMotionValue(e).animation)?void 0:t.state}getAxisMotionValue(e){let t="_drag".concat(e.toUpperCase()),n=this.visualElement.getProps();return n[t]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){aI(t=>{let{drag:n}=this.getProps();if(!a0(t,n,this.currentDirection))return;let{projection:i}=this.visualElement,r=this.getAxisMotionValue(t);if(i&&i.layout){let{min:n,max:s}=i.layout.layoutBox[t];r.set(e[t]-nB(n,s,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;let{drag:e,dragConstraints:t}=this.getProps(),{projection:n}=this.visualElement;if(!r7(t)||!n||!this.constraints)return;this.stopAnimation();let i={x:0,y:0};aI(e=>{let t=this.getAxisMotionValue(e);if(t&&!1!==this.constraints){let n=t.get();i[e]=function(e,t){let n=.5,i=az(e),r=az(t);return r>i?n=s0(t.min,t.max-i,e.min):i>r&&(n=s0(e.min,e.max-r,t.min)),n$(0,1,n)}({min:n,max:n},this.constraints[e])}});let{transformTemplate:r}=this.visualElement.getProps();this.visualElement.current.style.transform=r?r({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),aI(t=>{if(!a0(t,e,null))return;let n=this.getAxisMotionValue(t),{min:r,max:s}=this.constraints[t];n.set(nB(r,s,i[t]))})}addListeners(){if(!this.visualElement.current)return;aJ.set(this.visualElement,this);let e=aD(this.visualElement.current,"pointerdown",e=>{let{drag:t,dragListener:n=!0}=this.getProps();t&&n&&this.start(e)}),t=()=>{let{dragConstraints:e}=this.getProps();r7(e)&&e.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,i=n.addEventListener("measure",t);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),ig.read(t);let r=aE(window,"resize",()=>this.scalePositionWithinConstraints()),s=n.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n}=e;this.isDragging&&n&&(aI(e=>{let n=this.getAxisMotionValue(e);n&&(this.originPoint[e]+=t[e].translate,n.set(n.get()+t[e].translate))}),this.visualElement.render())});return()=>{r(),e(),i(),s&&s()}}getProps(){let e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:r=!1,dragElastic:s=.35,dragMomentum:a=!0}=e;return{...e,drag:t,dragDirectionLock:n,dragPropagation:i,dragConstraints:r,dragElastic:s,dragMomentum:a}}constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=rd(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}}function a0(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}let a1=e=>(t,n)=>{e&&ig.postRender(()=>e(t,n))};var a2=i;function a5(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],t=(0,i.useContext)(r2);if(null===t)return[!0,null];let{isPresent:n,onExitComplete:r,register:s}=t,a=(0,i.useId)();(0,i.useEffect)(()=>{if(e)return s(a)},[e]);let o=(0,i.useCallback)(()=>e&&r&&r(a),[a,r,e]);return!n&&r?[!1,o]:[!0]}let a3={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function a4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}let a6={correct:(e,t)=>{if(!t.target)return e;if("string"==typeof e)if(!n3.test(e))return e;else e=parseFloat(e);let n=a4(e,t.target.x),i=a4(e,t.target.y);return"".concat(n,"% ").concat(i,"%")}},a9=!1;class a8 extends a2.Component{componentDidMount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n,layoutId:i}=this.props,{projection:r}=e;for(let e in oe)rA[e]=oe[e],nD(e)&&(rA[e].isCSSVariable=!0);r&&(t.group&&t.group.add(r),n&&n.register&&i&&n.register(r),a9&&r.root.didUpdate(),r.addEventListener("animationComplete",()=>{this.safeToRemove()}),r.setOptions({...r.options,onExitComplete:()=>this.safeToRemove()})),a3.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){let{layoutDependency:t,visualElement:n,drag:i,isPresent:r}=this.props,{projection:s}=n;return s&&(s.isPresent=r,a9=!0,i||e.layoutDependency!==t||void 0===t||e.isPresent!==r?s.willUpdate():this.safeToRemove(),e.isPresent!==r&&(r?s.promote():s.relegate()||ig.postRender(()=>{let e=s.getStack();e&&e.members.length||this.safeToRemove()}))),null}componentDidUpdate(){let{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),rr.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){let{visualElement:e,layoutGroup:t,switchLayoutGroup:n}=this.props,{projection:i}=e;a9=!0,i&&(i.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){let{safeToRemove:e}=this.props;e&&e()}render(){return null}}function a7(e){let[t,i]=a5(),r=(0,a2.useContext)(rq);return(0,n.jsx)(a8,{...e,layoutGroup:r,switchLayoutGroup:(0,a2.useContext)(st),isPresent:t,safeToRemove:i})}let oe={borderRadius:{...a6,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:a6,borderTopRightRadius:a6,borderBottomLeftRadius:a6,borderBottomRightRadius:a6,boxShadow:{correct:(e,t)=>{let{treeScale:n,projectionDelta:i}=t,r=iX.parse(e);if(r.length>5)return e;let s=iX.createTransformer(e),a=+("number"!=typeof r[0]),o=i.x.scale*n.x,l=i.y.scale*n.y;r[0+a]/=o,r[1+a]/=l;let u=nB(o,l,.5);return"number"==typeof r[2+a]&&(r[2+a]/=u),"number"==typeof r[3+a]&&(r[3+a]/=u),s(r)}}};function ot(e){return"object"==typeof e&&null!==e}function on(e){return ot(e)&&"ownerSVGElement"in e}let oi=(e,t)=>e.depth-t.depth;class or{add(e){i9(this.children,e),this.isDirty=!0}remove(e){i8(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(oi),this.isDirty=!1,this.children.forEach(e)}constructor(){this.children=[],this.isDirty=!1}}let os=["TopLeft","TopRight","BottomLeft","BottomRight"],oa=os.length,oo=e=>"string"==typeof e?parseFloat(e):e,ol=e=>"number"==typeof e||n3.test(e);function ou(e,t){return void 0!==e[t]?e[t]:e.borderRadius}let od=oh(0,.5,sG),oc=oh(.5,.95,id);function oh(e,t,n){return i=>i<e?0:i>t?1:n(s0(e,t,i))}function op(e,t){e.min=t.min,e.max=t.max}function om(e,t){op(e.x,t.x),op(e.y,t.y)}function of(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function og(e,t,n,i,r){return e-=t,e=i+1/n*(e-i),void 0!==r&&(e=i+1/r*(e-i)),e}function ov(e,t,n,i,r){let[s,a,o]=n;!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5,r=arguments.length>4?arguments[4]:void 0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:e;if(n5.test(t)&&(t=parseFloat(t),t=nB(a.min,a.max,t/100)-a.min),"number"!=typeof t)return;let o=nB(s.min,s.max,i);e===s&&(o-=t),e.min=og(e.min,t,n,o,r),e.max=og(e.max,t,n,o,r)}(e,t[s],t[a],t[o],t.scale,i,r)}let ox=["x","scaleX","originX"],oy=["y","scaleY","originY"];function ob(e,t,n,i){ov(e.x,t,ox,n?n.x:void 0,i?i.x:void 0),ov(e.y,t,oy,n?n.y:void 0,i?i.y:void 0)}function ow(e){return 0===e.translate&&1===e.scale}function oj(e){return ow(e.x)&&ow(e.y)}function ok(e,t){return e.min===t.min&&e.max===t.max}function oS(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oN(e,t){return oS(e.x,t.x)&&oS(e.y,t.y)}function oT(e){return az(e.x)/az(e.y)}function oC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class oP{add(e){i9(this.members,e),e.scheduleRender()}remove(e){if(i8(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){let e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(e){let t,n=this.members.findIndex(t=>e===t);if(0===n)return!1;for(let e=n;e>=0;e--){let n=this.members[e];if(!1!==n.isPresent){t=n;break}}return!!t&&(this.promote(t),!0)}promote(e,t){let n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,t&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);let{crossfade:i}=e.options;!1===i&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{let{options:t,resumingFrom:n}=e;t.onExitComplete&&t.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}constructor(){this.members=[]}}let oM={nodes:0,calculatedTargetDeltas:0,calculatedProjections:0},oE=["","X","Y","Z"],oA=0;function oR(e,t,n,i){let{latestValues:r}=t;r[e]&&(n[e]=r[e],t.setStaticValue(e,0),i&&(i[e]=0))}function oD(e){let{attachResizeListener:t,defaultParent:n,measureScroll:i,checkIsScrollRoot:r,resetTransform:s}=e;return class{addEventListener(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new i7),this.eventHandlers.get(e).add(t)}notifyListeners(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];let r=this.eventHandlers.get(e);r&&r.notify(...n)}hasListeners(e){return this.eventHandlers.has(e)}mount(e){if(this.instance)return;this.isSVG=on(e)&&!(on(e)&&"svg"===e.tagName),this.instance=e;let{layoutId:n,layout:i,visualElement:r}=this.options;if(r&&!r.current&&r.mount(e),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(i||n)&&(this.isLayoutDirty=!0),t){let n,i=0,r=()=>this.root.updateBlockedByResize=!1;ig.read(()=>{i=window.innerWidth}),t(e,()=>{let e=window.innerWidth;e!==i&&(i=e,this.root.updateBlockedByResize=!0,n&&n(),n=function(e,t){let n=i6.now(),i=t=>{let{timestamp:r}=t,s=r-n;s>=250&&(iv(i),e(s-250))};return ig.setup(i,!0),()=>iv(i)}(r,250),a3.hasAnimatedSinceResize&&(a3.hasAnimatedSinceResize=!1,this.nodes.forEach(oU)))})}n&&this.root.registerSharedNode(n,this),!1!==this.options.animate&&r&&(n||i)&&this.addEventListener("didUpdate",e=>{let{delta:t,hasLayoutChanged:n,hasRelativeLayoutChanged:i,layout:s}=e;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}let a=this.options.transition||r.getDefaultTransition()||oZ,{onLayoutAnimationStart:o,onLayoutAnimationComplete:l}=r.getProps(),u=!this.targetLayout||!oN(this.targetLayout,s),d=!n&&i;if(this.options.layoutRoot||this.resumeFrom||d||n&&(u||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);let e={...ss(a,"layout"),onPlay:o,onComplete:l};(r.shouldReduceMotion||this.options.layoutRoot)&&(e.delay=0,e.type=!1),this.startAnimation(e),this.setAnimationOrigin(t,d)}else n||oU(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=s})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);let e=this.getStack();e&&e.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),iv(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){!this.isUpdateBlocked()&&(this.isUpdating=!0,this.nodes&&this.nodes.forEach(oq),this.animationId++)}getTransformTemplate(){let{visualElement:e}=this.options;return e&&e.getProps().transformTemplate}willUpdate(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&function e(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;let{visualElement:n}=t.options;if(!n)return;let i=n.props[se];if(window.MotionHasOptimisedAnimation(i,"transform")){let{layout:e,layoutId:n}=t.options;window.MotionCancelOptimisedAnimation(i,"transform",ig,!(e||n))}let{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&e(r)}(this),this.root.isUpdating||this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let e=0;e<this.path.length;e++){let t=this.path[e];t.shouldResetTransform=!0,t.updateScroll("snapshot"),t.options.layoutRoot&&t.willUpdate(!1)}let{layoutId:t,layout:n}=this.options;if(void 0===t&&!n)return;let i=this.getTransformTemplate();this.prevTransformTemplateValue=i?i(this.latestValues,""):void 0,this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oO);return}if(this.animationId<=this.animationCommitId)return void this.nodes.forEach(oI);this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(o_),this.nodes.forEach(oz),this.nodes.forEach(oV)):this.nodes.forEach(oI),this.clearAllSnapshots();let e=i6.now();ix.delta=n$(0,1e3/60,e-ix.timestamp),ix.timestamp=e,ix.isProcessing=!0,iy.update.process(ix),iy.preRender.process(ix),iy.render.process(ix),ix.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,rr.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oB),this.sharedNodes.forEach(oX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ig.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ig.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){!this.snapshot&&this.instance&&(this.snapshot=this.measure(),!this.snapshot||az(this.snapshot.measuredBox.x)||az(this.snapshot.measuredBox.y)||(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let e=0;e<this.path.length;e++)this.path[e].updateScroll();let e=this.layout;this.layout=this.measure(!1),this.layoutCorrected=rd(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);let{visualElement:t}=this.options;t&&t.notify("LayoutMeasure",this.layout.layoutBox,e?e.layoutBox:void 0)}updateScroll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"measure",t=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===e&&(t=!1),t&&this.instance){let t=r(this.instance);this.scroll={animationId:this.root.animationId,phase:e,isRoot:t,offset:i(this.instance),wasRoot:this.scroll?this.scroll.isRoot:t}}}resetTransform(){if(!s)return;let e=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,t=this.projectionDelta&&!oj(this.projectionDelta),n=this.getTransformTemplate(),i=n?n(this.latestValues,""):void 0,r=i!==this.prevTransformTemplateValue;e&&this.instance&&(t||n_(this.latestValues)||r)&&(s(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}measure(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=this.measurePageBox(),i=this.removeElementScroll(n);return t&&(i=this.removeTransform(i)),oQ((e=i).x),oQ(e.y),{animationId:this.root.animationId,measuredBox:n,layoutBox:i,latestValues:{},source:this.id}}measurePageBox(){var e;let{visualElement:t}=this.options;if(!t)return rd();let n=t.measureViewportBox();if(!((null==(e=this.scroll)?void 0:e.wasRoot)||this.path.some(o1))){let{scroll:e}=this.root;e&&(nX(n.x,e.offset.x),nX(n.y,e.offset.y))}return n}removeElementScroll(e){var t;let n=rd();if(om(n,e),null==(t=this.scroll)?void 0:t.wasRoot)return n;for(let t=0;t<this.path.length;t++){let i=this.path[t],{scroll:r,options:s}=i;i!==this.root&&r&&s.layoutScroll&&(r.wasRoot&&om(n,e),nX(n.x,r.offset.x),nX(n.y,r.offset.y))}return n}applyTransform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=rd();om(n,e);for(let e=0;e<this.path.length;e++){let i=this.path[e];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nK(n,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),n_(i.latestValues)&&nK(n,i.latestValues)}return n_(this.latestValues)&&nK(n,this.latestValues),n}removeTransform(e){let t=rd();om(t,e);for(let e=0;e<this.path.length;e++){let n=this.path[e];if(!n.instance||!n_(n.latestValues))continue;nI(n.latestValues)&&n.updateSnapshot();let i=rd();om(i,n.measurePageBox()),ob(t,n.latestValues,n.snapshot?n.snapshot.layoutBox:void 0,i)}return n_(this.latestValues)&&ob(t,this.latestValues),t}setTargetDelta(e){this.targetDelta=e,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(e){this.options={...this.options,...e,crossfade:void 0===e.crossfade||e.crossfade}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ix.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(){var e,t,n,i;let r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],s=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=s.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=s.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=s.isSharedProjectionDirty);let a=!!this.resumingFrom||this!==s;if(!(r||a&&this.isSharedProjectionDirty||this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty)||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;let{layout:o,layoutId:l}=this.options;if(this.layout&&(o||l)){if(this.resolvedRelativeTargetAt=ix.timestamp,!this.targetDelta&&!this.relativeTarget){let e=this.getClosestProjectingParent();e&&e.layout&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rd(),this.relativeTargetOrigin=rd(),aO(this.relativeTargetOrigin,this.layout.layoutBox,e.layout.layoutBox),om(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(this.relativeTarget||this.targetDelta){if((this.target||(this.target=rd(),this.targetWithTransforms=rd()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target)?(this.forceRelativeParentToResolveTarget(),t=this.target,n=this.relativeTarget,i=this.relativeParent.target,aF(t.x,n.x,i.x),aF(t.y,n.y,i.y)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):om(this.target,this.layout.layoutBox),nq(this.target,this.targetDelta)):om(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;let e=this.getClosestProjectingParent();e&&!!e.resumingFrom==!!this.resumingFrom&&!e.options.layoutScroll&&e.target&&1!==this.animationProgress?(this.relativeParent=e,this.forceRelativeParentToResolveTarget(),this.relativeTarget=rd(),this.relativeTargetOrigin=rd(),aO(this.relativeTargetOrigin,this.target,e.target),om(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ip.value&&oM.calculatedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||nI(this.parent.latestValues)||nU(this.parent.latestValues)))if(this.parent.isProjecting())return this.parent;else return this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var e;let t=this.getLead(),n=!!this.resumingFrom||this!==t,i=!0;if((this.isProjectionDirty||(null==(e=this.parent)?void 0:e.isProjectionDirty))&&(i=!1),n&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(i=!1),this.resolvedRelativeTargetAt===ix.timestamp&&(i=!1),i)return;let{layout:r,layoutId:s}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(r||s))return;om(this.layoutCorrected,this.layout.layoutBox);let a=this.treeScale.x,o=this.treeScale.y;!function(e,t,n){let i,r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=n.length;if(a){t.x=t.y=1;for(let o=0;o<a;o++){r=(i=n[o]).projectionDelta;let{visualElement:a}=i.options;(!a||!a.props.style||"contents"!==a.props.style.display)&&(s&&i.options.layoutScroll&&i.scroll&&i!==i.root&&nK(e,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),r&&(t.x*=r.x.scale,t.y*=r.y.scale,nq(e,r)),s&&n_(i.latestValues)&&nK(e,i.latestValues))}t.x<1.0000000000001&&t.x>.999999999999&&(t.x=1),t.y<1.0000000000001&&t.y>.999999999999&&(t.y=1)}}(this.layoutCorrected,this.treeScale,this.path,n),t.layout&&!t.target&&(1!==this.treeScale.x||1!==this.treeScale.y)&&(t.target=t.layout.layoutBox,t.targetWithTransforms=rd());let{target:l}=t;if(!l){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}this.projectionDelta&&this.prevProjectionDelta?(of(this.prevProjectionDelta.x,this.projectionDelta.x),of(this.prevProjectionDelta.y,this.projectionDelta.y)):this.createProjectionDeltas(),aL(this.projectionDelta,this.layoutCorrected,l,this.latestValues),this.treeScale.x===a&&this.treeScale.y===o&&oC(this.projectionDelta.x,this.prevProjectionDelta.x)&&oC(this.projectionDelta.y,this.prevProjectionDelta.y)||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",l)),ip.value&&oM.calculatedProjections++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];if(null==(e=this.options.visualElement)||e.scheduleRender(),t){let e=this.getStack();e&&e.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rl(),this.projectionDelta=rl(),this.projectionDeltaWithTransform=rl()}setAnimationOrigin(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.snapshot,r=i?i.latestValues:{},s={...this.latestValues},a=rl();this.relativeParent&&this.relativeParent.options.layoutRoot||(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!n;let o=rd(),l=(i?i.source:void 0)!==(this.layout?this.layout.source:void 0),u=this.getStack(),d=!u||u.members.length<=1,c=!!(l&&!d&&!0===this.options.crossfade&&!this.path.some(oG));this.animationProgress=0,this.mixTargetDelta=n=>{let i=n/1e3;if(oY(a.x,e.x,i),oY(a.y,e.y,i),this.setTargetDelta(a),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout){var u,h,p,m,f,g;aO(o,this.layout.layoutBox,this.relativeParent.layout.layoutBox),p=this.relativeTarget,m=this.relativeTargetOrigin,f=o,g=i,oK(p.x,m.x,f.x,g),oK(p.y,m.y,f.y,g),t&&(u=this.relativeTarget,h=t,ok(u.x,h.x)&&ok(u.y,h.y))&&(this.isProjectionDirty=!1),t||(t=rd()),om(t,this.relativeTarget)}l&&(this.animationValues=s,function(e,t,n,i,r,s){var a,o,l,u;r?(e.opacity=nB(0,null!=(a=n.opacity)?a:1,od(i)),e.opacityExit=nB(null!=(o=t.opacity)?o:1,0,oc(i))):s&&(e.opacity=nB(null!=(l=t.opacity)?l:1,null!=(u=n.opacity)?u:1,i));for(let r=0;r<oa;r++){let s="border".concat(os[r],"Radius"),a=ou(t,s),o=ou(n,s);(void 0!==a||void 0!==o)&&(a||(a=0),o||(o=0),0===a||0===o||ol(a)===ol(o)?(e[s]=Math.max(nB(oo(a),oo(o),i),0),(n5.test(o)||n5.test(a))&&(e[s]+="%")):e[s]=o)}(t.rotate||n.rotate)&&(e.rotate=nB(t.rotate||0,n.rotate||0,i))}(s,r,this.latestValues,i,c,d)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=i},this.mixTargetDelta(1e3*!!this.options.layoutRoot)}startAnimation(e){var t,n,i;this.notifyListeners("animationStart"),null==(t=this.currentAnimation)||t.stop(),null==(i=this.resumingFrom)||null==(n=i.currentAnimation)||n.stop(),this.pendingAnimation&&(iv(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ig.update(()=>{a3.hasAnimatedSinceResize=!0,sh.layout++,this.motionValue||(this.motionValue=rn(0)),this.currentAnimation=function(e,t,n){let i=i3(e)?e:rn(e);return i.start(av("",i,t,n)),i.animation}(this.motionValue,[0,1e3],{...e,velocity:0,isSync:!0,onUpdate:t=>{this.mixTargetDelta(t),e.onUpdate&&e.onUpdate(t)},onStop:()=>{sh.layout--},onComplete:()=>{sh.layout--,e.onComplete&&e.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);let e=this.getStack();e&&e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(1e3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){let e=this.getLead(),{targetWithTransforms:t,target:n,layout:i,latestValues:r}=e;if(t&&n&&i){if(this!==e&&this.layout&&i&&o0(this.options.animationType,this.layout.layoutBox,i.layoutBox)){n=this.target||rd();let t=az(this.layout.layoutBox.x);n.x.min=e.target.x.min,n.x.max=n.x.min+t;let i=az(this.layout.layoutBox.y);n.y.min=e.target.y.min,n.y.max=n.y.min+i}om(t,n),nK(t,r),aL(this.projectionDeltaWithTransform,this.layoutCorrected,t,r)}}registerSharedNode(e,t){this.sharedNodes.has(e)||this.sharedNodes.set(e,new oP),this.sharedNodes.get(e).add(t);let n=t.options.initialPromotionConfig;t.promote({transition:n?n.transition:void 0,preserveFollowOpacity:n&&n.shouldPreserveFollowOpacity?n.shouldPreserveFollowOpacity(t):void 0})}isLead(){let e=this.getStack();return!e||e.lead===this}getLead(){var e;let{layoutId:t}=this.options;return t&&(null==(e=this.getStack())?void 0:e.lead)||this}getPrevLead(){var e;let{layoutId:t}=this.options;return t?null==(e=this.getStack())?void 0:e.prevLead:void 0}getStack(){let{layoutId:e}=this.options;if(e)return this.root.sharedNodes.get(e)}promote(){let{needsReset:e,transition:t,preserveFollowOpacity:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.getStack();i&&i.promote(this,n),e&&(this.projectionDelta=void 0,this.needsReset=!0),t&&this.setOptions({transition:t})}relegate(){let e=this.getStack();return!!e&&e.relegate(this)}resetSkewAndRotation(){let{visualElement:e}=this.options;if(!e)return;let t=!1,{latestValues:n}=e;if((n.z||n.rotate||n.rotateX||n.rotateY||n.rotateZ||n.skewX||n.skewY)&&(t=!0),!t)return;let i={};n.z&&oR("z",e,i,this.animationValues);for(let t=0;t<oE.length;t++)oR("rotate".concat(oE[t]),e,i,this.animationValues),oR("skew".concat(oE[t]),e,i,this.animationValues);for(let t in e.render(),i)e.setStaticValue(t,i[t]),this.animationValues&&(this.animationValues[t]=i[t]);e.scheduleRender()}applyProjectionStyles(e,t){if(!this.instance||this.isSVG)return;if(!this.isVisible){e.visibility="hidden";return}let n=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,e.visibility="",e.opacity="",e.pointerEvents=r3(null==t?void 0:t.pointerEvents)||"",e.transform=n?n(this.latestValues,""):"none";return}let i=this.getLead();if(!this.projectionDelta||!this.layout||!i.target){this.options.layoutId&&(e.opacity=void 0!==this.latestValues.opacity?this.latestValues.opacity:1,e.pointerEvents=r3(null==t?void 0:t.pointerEvents)||""),this.hasProjected&&!n_(this.latestValues)&&(e.transform=n?n({},""):"none",this.hasProjected=!1);return}e.visibility="";let r=i.animationValues||i.latestValues;this.applyTransformsToTarget();let s=function(e,t,n){let i="",r=e.x.translate/t.x,s=e.y.translate/t.y,a=(null==n?void 0:n.z)||0;if((r||s||a)&&(i="translate3d(".concat(r,"px, ").concat(s,"px, ").concat(a,"px) ")),(1!==t.x||1!==t.y)&&(i+="scale(".concat(1/t.x,", ").concat(1/t.y,") ")),n){let{transformPerspective:e,rotate:t,rotateX:r,rotateY:s,skewX:a,skewY:o}=n;e&&(i="perspective(".concat(e,"px) ").concat(i)),t&&(i+="rotate(".concat(t,"deg) ")),r&&(i+="rotateX(".concat(r,"deg) ")),s&&(i+="rotateY(".concat(s,"deg) ")),a&&(i+="skewX(".concat(a,"deg) ")),o&&(i+="skewY(".concat(o,"deg) "))}let o=e.x.scale*t.x,l=e.y.scale*t.y;return(1!==o||1!==l)&&(i+="scale(".concat(o,", ").concat(l,")")),i||"none"}(this.projectionDeltaWithTransform,this.treeScale,r);n&&(s=n(r,s)),e.transform=s;let{x:a,y:o}=this.projectionDelta;if(e.transformOrigin="".concat(100*a.origin,"% ").concat(100*o.origin,"% 0"),i.animationValues){var l,u;e.opacity=i===this?null!=(u=null!=(l=r.opacity)?l:this.latestValues.opacity)?u:1:this.preserveOpacity?this.latestValues.opacity:r.opacityExit}else e.opacity=i===this?void 0!==r.opacity?r.opacity:"":void 0!==r.opacityExit?r.opacityExit:0;for(let t in rA){if(void 0===r[t])continue;let{correct:n,applyTo:a,isCSSVariable:o}=rA[t],l="none"===s?r[t]:n(r[t],i);if(a){let t=a.length;for(let n=0;n<t;n++)e[a[n]]=l}else o?this.options.visualElement.renderState.vars[t]=l:e[t]=l}this.options.layoutId&&(e.pointerEvents=i===this?r3(null==t?void 0:t.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(e=>{var t;return null==(t=e.currentAnimation)?void 0:t.stop()}),this.root.nodes.forEach(oO),this.root.sharedNodes.clear()}constructor(e={},t=null==n?void 0:n()){this.id=oA++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ip.value&&(oM.nodes=oM.calculatedTargetDeltas=oM.calculatedProjections=0),this.nodes.forEach(oL),this.nodes.forEach(oW),this.nodes.forEach(oH),this.nodes.forEach(oF),ip.addProjectionMetrics&&ip.addProjectionMetrics(oM)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=e,this.root=t?t.root||t:this,this.path=t?[...t.path,t]:[],this.parent=t,this.depth=t?t.depth+1:0;for(let e=0;e<this.path.length;e++)this.path[e].shouldResetTransform=!0;this.root===this&&(this.nodes=new or)}}}function oz(e){e.updateLayout()}function oV(e){var t;let n=(null==(t=e.resumeFrom)?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){let{layoutBox:t,measuredBox:i}=e.layout,{animationType:r}=e.options,s=n.source!==e.layout.source;"size"===r?aI(e=>{let i=s?n.measuredBox[e]:n.layoutBox[e],r=az(i);i.min=t[e].min,i.max=i.min+r}):o0(r,n.layoutBox,t)&&aI(i=>{let r=s?n.measuredBox[i]:n.layoutBox[i],a=az(t[i]);r.max=r.min+a,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[i].max=e.relativeTarget[i].min+a)});let a=rl();aL(a,t,n.layoutBox);let o=rl();s?aL(o,e.applyTransform(i,!0),n.measuredBox):aL(o,t,n.layoutBox);let l=!oj(a),u=!1;if(!e.resumeFrom){let i=e.getClosestProjectingParent();if(i&&!i.resumeFrom){let{snapshot:r,layout:s}=i;if(r&&s){let a=rd();aO(a,n.layoutBox,r.layoutBox);let o=rd();aO(o,t,s.layoutBox),oN(a,o)||(u=!0),i.options.layoutRoot&&(e.relativeTarget=o,e.relativeTargetOrigin=a,e.relativeParent=i)}}}e.notifyListeners("didUpdate",{layout:t,snapshot:n,delta:o,layoutDelta:a,hasLayoutChanged:l,hasRelativeLayoutChanged:u})}else if(e.isLead()){let{onExitComplete:t}=e.options;t&&t()}e.options.transition=void 0}function oL(e){ip.value&&oM.nodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function oF(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function oB(e){e.clearSnapshot()}function oO(e){e.clearMeasurements()}function oI(e){e.isLayoutDirty=!1}function o_(e){let{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function oU(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function oW(e){e.resolveTargetDelta()}function oH(e){e.calcProjection()}function oq(e){e.resetSkewAndRotation()}function oX(e){e.removeLeadSnapshot()}function oY(e,t,n){e.translate=nB(t.translate,0,n),e.scale=nB(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function oK(e,t,n,i){e.min=nB(t.min,n.min,i),e.max=nB(t.max,n.max,i)}function oG(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}let oZ={duration:.45,ease:[.4,0,.1,1]},o$=e=>"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),oJ=o$("applewebkit/")&&!o$("chrome/")?Math.round:id;function oQ(e){e.min=oJ(e.min),e.max=oJ(e.max)}function o0(e,t,n){return"position"===e||"preserve-aspect"===e&&!(.2>=Math.abs(oT(t)-oT(n)))}function o1(e){var t;return e!==e.root&&(null==(t=e.scroll)?void 0:t.wasRoot)}let o2=oD({attachResizeListener:(e,t)=>aE(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),o5={current:void 0},o3=oD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!o5.current){let e=new o2({});e.mount(window),e.setOptions({layoutScroll:!0}),o5.current=e}return o5.current},resetTransform:(e,t)=>{e.style.transform=void 0!==t?t:"none"},checkIsScrollRoot:e=>"fixed"===window.getComputedStyle(e).position});function o4(e,t){let n=function(e,t,n){if(e instanceof EventTarget)return[e];if("string"==typeof e){let t=document.querySelectorAll(e);return t?Array.from(t):[]}return Array.from(e)}(e),i=new AbortController;return[n,{passive:!0,...t,signal:i.signal},()=>i.abort()]}function o6(e){return!("touch"===e.pointerType||aM.x||aM.y)}function o9(e,t,n){let{props:i}=e;e.animationState&&i.whileHover&&e.animationState.setActive("whileHover","Start"===n);let r=i["onHover"+n];r&&ig.postRender(()=>r(t,aR(t)))}function o8(e){return ot(e)&&"offsetHeight"in e}let o7=(e,t)=>!!t&&(e===t||o7(e,t.parentElement)),le=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]),lt=new WeakSet;function ln(e){return t=>{"Enter"===t.key&&e(t)}}function li(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}function lr(e){return aA(e)&&!(aM.x||aM.y)}function ls(e,t,n){let{props:i}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&i.whileTap&&e.animationState.setActive("whileTap","Start"===n);let r=i["onTap"+("End"===n?"":n)];r&&ig.postRender(()=>r(t,aR(t)))}let la=new WeakMap,lo=new WeakMap,ll=e=>{let t=la.get(e.target);t&&t(e)},lu=e=>{e.forEach(ll)},ld={some:0,all:1},lc=function(e,t){if("undefined"==typeof Proxy)return si;let n=new Map,i=(n,i)=>si(n,i,e,t);return new Proxy((e,t)=>i(e,t),{get:(r,s)=>"create"===s?i:(n.has(s)||n.set(s,si(s,void 0,e,t)),n.get(s))})}({animation:{Feature:class extends aC{updateAnimationControlsSubscription(){let{animate:e}=this.node.getProps();rf(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){let{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),null==(e=this.unmountControls)||e.call(this)}constructor(e){super(e),e.animationState||(e.animationState=function(e){let t=t=>Promise.all(t.map(t=>{let{animation:n,options:i}=t;return function(e,t){let n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e.notify("AnimationStart",t),Array.isArray(t))n=Promise.all(t.map(t=>ab(e,t,i)));else if("string"==typeof t)n=ab(e,t,i);else{let r="function"==typeof t?sr(e,t,i.custom):t;n=Promise.all(ax(e,r,i))}return n.then(()=>{e.notify("AnimationComplete",t)})}(e,n,i)})),n=aT(),i=!0,r=t=>(n,i)=>{var r;let s=sr(e,i,"exit"===t?null==(r=e.presenceContext)?void 0:r.custom:void 0);if(s){let{transition:e,transitionEnd:t,...i}=s;n={...n,...i,...t}}return n};function s(s){let{props:a}=e,o=function e(t){if(!t)return;if(!t.isControllingVariants){let n=t.parent&&e(t.parent)||{};return void 0!==t.props.initial&&(n.initial=t.props.initial),n}let n={};for(let e=0;e<aj;e++){let i=rx[e],r=t.props[i];(rg(r)||!1===r)&&(n[i]=r)}return n}(e.parent)||{},l=[],u=new Set,d={},c=1/0;for(let t=0;t<aS;t++){var h,p;let m=ak[t],f=n[m],g=void 0!==a[m]?a[m]:o[m],v=rg(g),x=m===s?f.isActive:null;!1===x&&(c=t);let y=g===o[m]&&g!==a[m]&&v;if(y&&i&&e.manuallyAnimateOnMount&&(y=!1),f.protectedKeys={...d},!f.isActive&&null===x||!g&&!f.prevProp||rf(g)||"boolean"==typeof g)continue;let b=(h=f.prevProp,"string"==typeof(p=g)?p!==h:!!Array.isArray(p)&&!aw(p,h)),w=b||m===s&&f.isActive&&!y&&v||t>c&&v,j=!1,k=Array.isArray(g)?g:[g],S=k.reduce(r(m),{});!1===x&&(S={});let{prevResolvedValues:N={}}=f,T={...N,...S},C=t=>{w=!0,u.has(t)&&(j=!0,u.delete(t)),f.needsAnimating[t]=!0;let n=e.getValue(t);n&&(n.liveStyle=!1)};for(let e in T){let t=S[e],n=N[e];if(!d.hasOwnProperty(e))(sa(t)&&sa(n)?aw(t,n):t===n)?void 0!==t&&u.has(e)?C(e):f.protectedKeys[e]=!0:null!=t?C(e):u.add(e)}f.prevProp=g,f.prevResolvedValues=S,f.isActive&&(d={...d,...S}),i&&e.blockInitialAnimation&&(w=!1);let P=y&&b,M=!P||j;w&&M&&l.push(...k.map(t=>{let n={type:m};if("string"==typeof t&&i&&!P&&e.manuallyAnimateOnMount&&e.parent){let{parent:i}=e,r=sr(i,t);if(i.enteringChildren&&r){let{delayChildren:t}=r.transition||{};n.delay=ay(i.enteringChildren,e,t)}}return{animation:t,options:n}}))}if(u.size){let t={};if("boolean"!=typeof a.initial){let n=sr(e,Array.isArray(a.initial)?a.initial[0]:a.initial);n&&n.transition&&(t.transition=n.transition)}u.forEach(n=>{let i=e.getBaseTarget(n),r=e.getValue(n);r&&(r.liveStyle=!0),t[n]=null!=i?i:null}),l.push({animation:t})}let m=!!l.length;return i&&(!1===a.initial||a.initial===a.animate)&&!e.manuallyAnimateOnMount&&(m=!1),i=!1,m?t(l):Promise.resolve()}return{animateChanges:s,setActive:function(t,i){var r;if(n[t].isActive===i)return Promise.resolve();null==(r=e.variantChildren)||r.forEach(e=>{var n;return null==(n=e.animationState)?void 0:n.setActive(t,i)}),n[t].isActive=i;let a=s(t);for(let e in n)n[e].protectedKeys={};return a},setAnimateFunction:function(n){t=n(e)},getState:()=>n,reset:()=>{n=aT(),i=!0}}}(e))}}},exit:{Feature:class extends aC{update(){if(!this.node.presenceContext)return;let{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;let i=this.node.animationState.setActive("exit",!e);t&&!e&&i.then(()=>{t(this.id)})}mount(){let{register:e,onExitComplete:t}=this.node.presenceContext||{};t&&t(this.id),e&&(this.unmount=e(this.id))}unmount(){}constructor(){super(...arguments),this.id=aP++}}},inView:{Feature:class extends aC{startObserver(){this.unmount();let{viewport:e={}}=this.node.getProps(),{root:t,margin:n,amount:i="some",once:r}=e,s={root:t?t.current:void 0,rootMargin:n,threshold:"number"==typeof i?i:ld[i]},a=e=>{let{isIntersecting:t}=e;if(this.isInView===t||(this.isInView=t,r&&!t&&this.hasEnteredView))return;t&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",t);let{onViewportEnter:n,onViewportLeave:i}=this.node.getProps(),s=t?n:i;s&&s(e)};var o=this.node.current;let l=function(e){let{root:t,...n}=e,i=t||document;lo.has(i)||lo.set(i,{});let r=lo.get(i),s=JSON.stringify(n);return r[s]||(r[s]=new IntersectionObserver(lu,{root:t,...n})),r[s]}(s);return la.set(o,a),l.observe(o),()=>{la.delete(o),l.unobserve(o)}}mount(){this.startObserver()}update(){if("undefined"==typeof IntersectionObserver)return;let{props:e,prevProps:t}=this.node;["amount","margin","root"].some(function(e){let{viewport:t={}}=e,{viewport:n={}}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e=>t[e]!==n[e]}(e,t))&&this.startObserver()}unmount(){}constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}}},tap:{Feature:class extends aC{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[i,r,s]=o4(e,n),a=e=>{let i=e.currentTarget;if(!lr(e))return;lt.add(i);let s=t(i,e),a=(e,t)=>{window.removeEventListener("pointerup",o),window.removeEventListener("pointercancel",l),lt.has(i)&&lt.delete(i),lr(e)&&"function"==typeof s&&s(e,{success:t})},o=e=>{a(e,i===window||i===document||n.useGlobalTarget||o7(i,e.target))},l=e=>{a(e,!1)};window.addEventListener("pointerup",o,r),window.addEventListener("pointercancel",l,r)};return i.forEach(e=>{((n.useGlobalTarget?window:e).addEventListener("pointerdown",a,r),o8(e))&&(e.addEventListener("focus",e=>((e,t)=>{let n=e.currentTarget;if(!n)return;let i=ln(()=>{if(lt.has(n))return;li(n,"down");let e=ln(()=>{li(n,"up")});n.addEventListener("keyup",e,t),n.addEventListener("blur",()=>li(n,"cancel"),t)});n.addEventListener("keydown",i,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),t)})(e,r)),le.has(e.tagName)||-1!==e.tabIndex||e.hasAttribute("tabindex")||(e.tabIndex=0))}),s}(e,(e,t)=>(ls(this.node,t,"Start"),(e,t)=>{let{success:n}=t;return ls(this.node,e,n?"End":"Cancel")}),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}},focus:{Feature:class extends aC{onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch(t){e=!0}e&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){this.isActive&&this.node.animationState&&(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sd(aE(this.node.current,"focus",()=>this.onFocus()),aE(this.node.current,"blur",()=>this.onBlur()))}unmount(){}constructor(){super(...arguments),this.isActive=!1}}},hover:{Feature:class extends aC{mount(){let{current:e}=this.node;e&&(this.unmount=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[i,r,s]=o4(e,n),a=e=>{if(!o6(e))return;let{target:n}=e,i=t(n,e);if("function"!=typeof i||!n)return;let s=e=>{o6(e)&&(i(e),n.removeEventListener("pointerleave",s))};n.addEventListener("pointerleave",s,r)};return i.forEach(e=>{e.addEventListener("pointerenter",a,r)}),s}(e,(e,t)=>(o9(this.node,t,"Start"),e=>o9(this.node,e,"End"))))}unmount(){}}},pan:{Feature:class extends aC{onPointerDown(e){this.session=new aW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a_(this.node)})}createPanHandlers(){let{onPanSessionStart:e,onPanStart:t,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:a1(e),onStart:a1(t),onMove:n,onEnd:(e,t)=>{delete this.session,i&&ig.postRender(()=>i(e,t))}}}mount(){this.removePointerDownListener=aD(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}constructor(){super(...arguments),this.removePointerDownListener=id}}},drag:{Feature:class extends aC{mount(){let{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||id}unmount(){this.removeGroupControls(),this.removeListeners()}constructor(e){super(e),this.removeGroupControls=id,this.removeListeners=id,this.controls=new aQ(e)}},ProjectionNode:o3,MeasureLayout:a7},layout:{ProjectionNode:o3,MeasureLayout:a7}},(e,t)=>rH(e)?new rU(t):new rz(t,{allowProjection:e!==i.Fragment}));var lh=i;function lp(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class lm extends lh.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=o8(e)&&e.offsetWidth||0,i=this.props.sizeRef.current;i.height=t.offsetHeight||0,i.width=t.offsetWidth||0,i.top=t.offsetTop,i.left=t.offsetLeft,i.right=n-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function lf(e){let{children:t,isPresent:r,anchorX:s,root:a}=e,o=(0,lh.useId)(),l=(0,lh.useRef)(null),u=(0,lh.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,lh.useContext)(rY),c=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useCallback(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1,i=t.map(t=>{let i=lp(t,e);return n||"function"!=typeof i||(n=!0),i});if(n)return()=>{for(let e=0;e<i.length;e++){let n=i[e];"function"==typeof n?n():lp(t[e],null)}}}}(...t),t)}(l,null==t?void 0:t.ref);return(0,lh.useInsertionEffect)(()=>{let{width:e,height:t,top:n,left:i,right:c}=u.current;if(r||!l.current||!e||!t)return;l.current.dataset.motionPopId=o;let h=document.createElement("style");d&&(h.nonce=d);let p=null!=a?a:document.head;return p.appendChild(h),h.sheet&&h.sheet.insertRule('\n          [data-motion-pop-id="'.concat(o,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===s?"left: ".concat(i):"right: ".concat(c),"px !important;\n            top: ").concat(n,"px !important;\n          }\n        ")),()=>{p.contains(h)&&p.removeChild(h)}},[r]),(0,n.jsx)(lm,{isPresent:r,childRef:l,sizeRef:u,children:lh.cloneElement(t,{ref:c})})}let lg=e=>{let{children:t,initial:r,isPresent:s,onExitComplete:a,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:c}=e,h=r5(lv),p=(0,i.useId)(),m=!0,f=(0,i.useMemo)(()=>(m=!1,{id:p,initial:r,isPresent:s,custom:o,onExitComplete:e=>{for(let t of(h.set(e,!0),h.values()))if(!t)return;a&&a()},register:e=>(h.set(e,!1),()=>h.delete(e))}),[s,h,a]);return l&&m&&(f={...f}),(0,i.useMemo)(()=>{h.forEach((e,t)=>h.set(t,!1))},[s]),i.useEffect(()=>{s||h.size||!a||a()},[s]),"popLayout"===u&&(t=(0,n.jsx)(lf,{isPresent:s,anchorX:d,root:c,children:t})),(0,n.jsx)(r2.Provider,{value:f,children:t})};function lv(){return new Map}let lx=e=>e.key||"";function ly(e){let t=[];return i.Children.forEach(e,e=>{(0,i.isValidElement)(e)&&t.push(e)}),t}let lb=e=>{let{children:t,custom:r,initial:s=!0,onExitComplete:a,presenceAffectsLayout:o=!0,mode:l="sync",propagate:u=!1,anchorX:d="left",root:c}=e,[h,p]=a5(u),m=(0,i.useMemo)(()=>ly(t),[t]),f=u&&!h?[]:m.map(lx),g=(0,i.useRef)(!0),v=(0,i.useRef)(m),x=r5(()=>new Map),[y,b]=(0,i.useState)(m),[w,j]=(0,i.useState)(m);sn(()=>{g.current=!1,v.current=m;for(let e=0;e<w.length;e++){let t=lx(w[e]);f.includes(t)?x.delete(t):!0!==x.get(t)&&x.set(t,!1)}},[w,f.length,f.join("-")]);let k=[];if(m!==y){let e=[...m];for(let t=0;t<w.length;t++){let n=w[t],i=lx(n);f.includes(i)||(e.splice(t,0,n),k.push(n))}return"wait"===l&&k.length&&(e=k),j(ly(e)),b(m),null}let{forceRender:S}=(0,i.useContext)(rq);return(0,n.jsx)(n.Fragment,{children:w.map(e=>{let t=lx(e),i=(!u||!!h)&&(m===w||f.includes(t));return(0,n.jsx)(lg,{isPresent:i,initial:(!g.current||!!s)&&void 0,custom:r,presenceAffectsLayout:o,mode:l,root:c,onExitComplete:i?void 0:()=>{if(!x.has(t))return;x.set(t,!0);let e=!0;x.forEach(t=>{t||(e=!1)}),e&&(null==S||S(),j(v.current),u&&(null==p||p()),a&&a())},anchorX:d,children:e},t)})})},lw=e=>{let{isOpen:t,onClose:r,onSave:s,hasUnsavedChanges:a,pages:o,project:l}=e,[u,d]=(0,i.useState)(!1),[p,m]=(0,i.useState)(!1),f=async()=>{if(l&&a){d(!0);try{await s(),c.toast.success("Changes saved successfully!"),r()}catch(e){c.toast.error(e.message||"Failed to save changes")}finally{d(!1)}}};return a&&t?(0,n.jsx)(lb,{children:(0,n.jsx)(lc.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:(0,h.default)("absolute bottom-4 right-4 z-10 bg-white/95 backdrop-blur-sm border border-neutral-200 rounded-xl shadow-lg transition-all duration-300 ease-in-out"),children:p?(0,n.jsxs)("div",{className:"flex items-center gap-2 p-3",children:[(0,n.jsx)(ny,{className:"size-4 text-neutral-600"}),(0,n.jsx)("span",{className:"text-xs text-neutral-600 font-medium",children:"Unsaved Changes"}),(0,n.jsx)(ea.Button,{variant:"outline",size:"iconXs",className:"!rounded-md !border-neutral-200",onClick:()=>m(!1),children:(0,n.jsx)(nm.default,{className:"text-neutral-400 size-3"})})]}):(0,n.jsx)("div",{className:"p-4 max-w-sm w-full",children:(0,n.jsxs)("div",{className:"flex items-start gap-3",children:[(0,n.jsx)(ny,{className:"size-4 text-neutral-600 translate-y-1.5"}),(0,n.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,n.jsx)("div",{className:"flex items-center gap-2",children:(0,n.jsx)("p",{className:"font-semibold text-sm text-neutral-800",children:"Unsaved Changes"})}),(0,n.jsx)(ea.Button,{variant:"outline",size:"iconXs",className:"!rounded-md !border-neutral-200",onClick:()=>m(!0),children:(0,n.jsx)(ta.ChevronDown,{className:"text-neutral-400 size-3"})})]}),(0,n.jsx)("p",{className:"text-xs text-neutral-600 leading-relaxed mb-3",children:"You have unsaved changes in your project. Save them to preserve your work."}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsxs)(ea.Button,{size:"xs",variant:"black",className:"!pr-3",onClick:f,disabled:u,children:[u?(0,n.jsx)(tR.default,{overlay:!1}):(0,n.jsx)(ny,{className:"size-3"}),"Save Changes"]}),(0,n.jsx)(ea.Button,{size:"xs",variant:"outline",className:"!text-neutral-600 !border-neutral-200",disabled:u,onClick:r,children:"Later"})]})]})]})})})}):null};var lj=e.i(37902),lk=e.i(30374);let lS="discord-promo-dismissed",lN=e=>{let{size:t="w-3 h-3",delay:i="0s",top:r="20%",left:s="20%"}=e;return(0,n.jsx)("div",{className:"absolute ".concat(t),style:{top:r,left:s,animationDelay:i},children:(0,n.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"w-full h-full animate-sparkle",children:[(0,n.jsx)("path",{d:"M12 0L13.5 8.5L22 10L13.5 11.5L12 20L10.5 11.5L2 10L10.5 8.5L12 0Z",fill:"url(#sparkle-gradient)"}),(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{id:"sparkle-gradient",x1:"2",y1:"10",x2:"22",y2:"10",children:[(0,n.jsx)("stop",{offset:"0%",stopColor:"#818cf8"}),(0,n.jsx)("stop",{offset:"100%",stopColor:"#a5b4fc"})]})})]})})},lT=()=>{let[e,t]=(0,i.useState)(!1),[r,s]=(0,o.useLocalStorage)(lS,!1);(0,i.useEffect)(()=>{var e;let n=null==(e=document.cookie.split("; ").find(e=>e.startsWith("".concat(lS,"="))))?void 0:e.split("=")[1];if(r||"true"===n)return;let i=setTimeout(()=>{t(!0)},6e4);return()=>clearTimeout(i)},[r]);let a=()=>{t(!1),s(!0);let e=new Date;e.setDate(e.getDate()+5),document.cookie="".concat(lS,"=true; expires=").concat(e.toUTCString(),"; path=/; SameSite=Lax")};return(0,n.jsx)(lk.Dialog,{open:e,onOpenChange:a,children:(0,n.jsxs)(lk.DialogContent,{className:"sm:max-w-[480px] lg:!p-0 !rounded-3xl !bg-gradient-to-b !from-indigo-950/40 !via-neutral-900 !to-neutral-900 !border !border-neutral-800 overflow-hidden",showCloseButton:!0,children:[(0,n.jsx)(lk.DialogTitle,{className:"hidden"}),(0,n.jsxs)("div",{className:"jsx-9019d815fd6b0fdd relative",children:[(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd absolute inset-0 bg-gradient-to-br from-indigo-500/10 via-indigo-500/5 to-transparent pointer-events-none"}),(0,n.jsxs)("div",{className:"jsx-9019d815fd6b0fdd absolute inset-x-0 top-0 h-48 overflow-hidden pointer-events-none",children:[(0,n.jsx)(lN,{size:"w-2 h-2",delay:"0s",top:"15%",left:"15%"}),(0,n.jsx)(lN,{size:"w-3 h-3",delay:"0.5s",top:"25%",left:"75%"}),(0,n.jsx)(lN,{size:"w-2 h-2",delay:"1s",top:"35%",left:"20%"}),(0,n.jsx)(lN,{size:"w-4 h-4",delay:"1.5s",top:"10%",left:"80%"}),(0,n.jsx)(lN,{size:"w-2 h-2",delay:"2s",top:"30%",left:"85%"})]}),(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd relative pt-12 pb-8",children:(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd relative z-10 flex justify-center",children:(0,n.jsxs)("div",{className:"jsx-9019d815fd6b0fdd relative",children:[(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd absolute inset-0 bg-gradient-to-br from-indigo-400 via-indigo-500 to-indigo-600 rounded-full blur-md opacity-50"}),(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd relative w-32 h-32 rounded-full bg-gradient-to-br from-neutral-900 via-neutral-800 to-neutral-900 p-1 shadow-2xl",children:(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd w-full h-full rounded-full bg-neutral-900 flex items-center justify-center overflow-hidden",children:(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd relative w-20 h-20 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center",children:(0,n.jsx)(e7.DiscordIcon,{className:"w-12 h-12 text-white"})})})}),(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd absolute -bottom-2 -right-2 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full p-0.5 shadow-xl border-2 border-neutral-900",children:(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd w-10 h-10 bg-neutral-900 rounded-full flex items-center justify-center",children:(0,n.jsx)(ei.default,{src:es.default,alt:"DeepSite",width:20,height:20,className:"w-5 h-5"})})})]})})}),(0,n.jsxs)("main",{className:"jsx-9019d815fd6b0fdd px-8 pb-8 pt-4",children:[(0,n.jsxs)("div",{className:"jsx-9019d815fd6b0fdd text-center mb-6",children:[(0,n.jsx)("h2",{className:"jsx-9019d815fd6b0fdd text-2xl font-bold text-white mb-2",children:"Ready to level up your DeepSite experience?"}),(0,n.jsx)("p",{className:"jsx-9019d815fd6b0fdd text-neutral-400 text-sm",children:"Get help, share your projects and ask for suggestions!"})]}),(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd flex flex-col gap-3 mb-6",children:["Get exclusive preview to new features","Share your projects and get feedback","Priority support from the team","Enjoy real-time updates"].map((e,t)=>(0,n.jsxs)("div",{style:{animation:"fadeIn 0.4s ease-out ".concat(.1*t,"s both")},className:"jsx-9019d815fd6b0fdd flex items-start gap-3 text-neutral-200",children:[(0,n.jsx)("div",{className:"jsx-9019d815fd6b0fdd flex-shrink-0 w-5 h-5 rounded-full bg-gradient-to-br from-indigo-500 to-indigo-600 flex items-center justify-center mt-0.5",children:(0,n.jsx)("svg",{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",className:"jsx-9019d815fd6b0fdd w-3 h-3 text-white",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:3,d:"M5 13l4 4L19 7",className:"jsx-9019d815fd6b0fdd"})})}),(0,n.jsx)("span",{className:"jsx-9019d815fd6b0fdd text-sm leading-6",children:e})]},t))}),(0,n.jsxs)("div",{className:"jsx-9019d815fd6b0fdd flex flex-col gap-3 w-full",children:[(0,n.jsxs)(ea.Button,{onClick:()=>{window.open("https://discord.gg/KpanwM3vXa","_blank"),a()},className:"w-full !h-12 !text-base font-semibold !bg-gradient-to-r !from-indigo-500 !to-indigo-600 hover:!from-indigo-600 hover:!to-indigo-700 !text-white !border-0 transform hover:scale-[1.02] transition-all duration-200 shadow-lg shadow-indigo-500/25",children:[(0,n.jsx)(e7.DiscordIcon,{className:"w-5 h-5 mr-2"}),"Join Discord Community"]}),(0,n.jsx)("p",{className:"jsx-9019d815fd6b0fdd text-center text-xs text-neutral-500",children:"Free to join. Connect instantly."})]})]})]}),(0,n.jsx)(lj.default,{id:"9019d815fd6b0fdd",children:"@keyframes fadeIn{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translateY(0)}}@keyframes sparkle{0%,to{opacity:0;transform:scale(0)rotate(0)}50%{opacity:1;transform:scale(1)rotate(180deg)}}.animate-sparkle{animation:2s ease-in-out infinite sparkle}"})]})})},lC=e=>{let{namespace:t,repoId:r,isNew:s=!1}=e,{project:u,setPages:p,files:m,currentPageData:f,currentTab:g,currentCommit:v,hasUnsavedChanges:x,saveChanges:y,globalEditorLoading:b,pages:w}=(0,Z.useEditor)(t,r),{isAiWorking:j}=(0,tt.useAi)(),[,k]=a(),[S,N]=(0,i.useState)(!1),[T,,C]=(0,o.useLocalStorage)("pages"),P=(0,i.useRef)(null),M=(0,i.useRef)(null),E=(0,i.useRef)(null);(0,l.useMount)(()=>{s&&T&&(p(T),C())}),(0,i.useEffect)(()=>{x&&!j&&(null==u?void 0:u.space_id)?N(!0):N(!1)},[x,j]);let A=(0,i.useMemo)(()=>{let e=f.path;return e.endsWith(".css")?"css":e.endsWith(".js")?"javascript":e.endsWith(".json")?"json":"html"},[f.path]),R=(0,i.useMemo)(()=>"css"===A?"CSS copied to clipboard!":"javascript"===A?"JavaScript copied to clipboard!":"json"===A?"JSON copied to clipboard!":"HTML copied to clipboard!",[A]);return(0,n.jsxs)("section",{className:"h-screen w-full bg-neutral-950 flex flex-col",children:[(0,n.jsx)(te,{isNew:s}),(0,n.jsxs)("main",{className:"bg-neutral-950 flex-1 max-lg:flex-col flex w-full relative",children:[(0,n.jsxs)("div",{ref:M,className:(0,h.default)("bg-neutral-900 relative flex h-full max-h-[calc(100dvh-47px)] w-full flex-col lg:max-w-[600px] transition-all duration-200",{"max-lg:hidden lg:!w-[0px] overflow-hidden":"chat"!==g}),children:[(0,n.jsx)(ty,{}),(0,n.jsx)(d,{className:"size-4 absolute top-14 right-5 text-neutral-500 hover:text-neutral-300 z-2 cursor-pointer",onClick:()=>{k(f.html),c.toast.success(R)}}),(0,n.jsx)(G,{language:A,theme:"vs-dark",loading:(0,n.jsx)(tR.default,{overlay:!1}),className:"h-full absolute left-0 top-0 lg:min-w-[600px]",options:{colorDecorators:!0,fontLigatures:!0,theme:"vs-dark",minimap:{enabled:!1},scrollbar:{horizontal:"hidden"},wordWrap:"on",readOnly:!!j||!!v||b,readOnlyMessage:{value:b?"Wait for DeepSite loading your project...":v?"You can't edit the code, as this is an old version of the project.":"Wait for DeepSite to finish working...",isTrusted:!0},cursorBlinking:"smooth"},value:f.html,onChange:e=>{let t=null!=e?e:"";p(e=>e.map(e=>e.path===f.path?{...e,html:t}:e))},onMount:(e,t)=>{E.current=e,P.current=t}}),(0,n.jsx)(nd,{project:u,files:m,isNew:s,onScrollToBottom:()=>{var e,t,n,i;null==(n=E.current)||n.revealLine(null!=(i=null==(t=E.current)||null==(e=t.getModel())?void 0:e.getLineCount())?i:0)}})]}),(0,n.jsx)(nx,{isNew:s,namespace:t,repoId:r})]}),(0,n.jsx)(lw,{isOpen:S,onClose:()=>N(!1),onSave:y,hasUnsavedChanges:x,pages:w,project:u}),(0,n.jsx)(lT,{})]})}}]);